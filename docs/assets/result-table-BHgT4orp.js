import{_ as e}from"./index-BPQccTEq.js";import{A as l}from"./index-TB9TixRY.js";import o from"./cell-content-view-Z10vdZCP.js";import{d as t,e1 as r,b as n,c as i,k as a,m as s,p as m,bO as p,n as u}from"./index-DocD4lg6.js";import{_ as c}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./el-empty-BMzqL6V1.js";import"./index-B8YGeOD4.js";import"./el-option-CzZzDyq0.js";import"./index-CXepPrJW.js";import"./index-DmiZVFYU.js";import"./focus-trap-CMJEhiq8.js";import"./index-NP_uivuD.js";import"./error-D_Dr4eZ1.js";import"./index-CiwdMdhb.js";import"./index-BQDo0aJw.js";import"./event-BwRzfsZt.js";import"./use-form-item-CYVSqIfx.js";import"./vnode-CSsEsc6D.js";import"./toNumber-CGZZzxeH.js";import"./index-C9voYJJp.js";/* empty css               *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    *//* empty css                   */import"./_baseClone-l1ALzJG5.js";import"./isArrayLikeObject-2PyeHjau.js";import"./omit-Ba47H9Mc.js";import"./debounce-CUa5Mv9U.js";import"./index-CIjb2oSb.js";import"./index.vue_vue_type_script_setup_true_lang-CQ-lFaSs.js";import"./el-drawer-osBySX3s.js";import"./index-BPDxHcTG.js";import"./el-overlay-BFiG6gu6.js";import"./editor-C6sypMFG.js";const d={class:"result-table-container h-full"},j=c(t({__name:"result-table",props:{loading:{type:Boolean,default:!1},data:{default:()=>[]},columns:{default:()=>[]}},setup(t){const c=t,j=s(),v=s(),f=s(!1),y=s(""),b=s(""),{copy:x}=r(),_=s(null),g=m(()=>c.columns&&0!==c.columns.length?c.columns.map(e=>({prop:e.name,label:e.name,minWidth:120,formatter:l=>{const o=l[e.name];return p(o)?JSON.stringify(o):o}})):[]),k=m(()=>c.data),w=m(()=>[{key:"copy",label:"复制",icon:"ri-file-copy-line"},{key:"view",label:"查看",icon:"ri-fullscreen-line"}]),h=(e,l,o,t)=>{_.value={row:e,column:l,event:t},b.value=l.property;const r=e[l.property];y.value=p(r)?JSON.stringify(r):String(null!=r?r:"")},S=(e,l,o,t)=>{t.preventDefault(),_.value={row:e,column:l,event:t},b.value=l.property;const r=e[l.property];y.value=p(r)?JSON.stringify(r):String(null!=r?r:""),u(()=>{var e;null==(e=j.value)||e.show(t)})},C=e=>{_.value&&("copy"===e.key?x(y.value):"view"===e.key&&O())},O=()=>{f.value=!0},N=({row:e,column:l})=>_.value&&_.value.row===e&&_.value.column.property===l.property?"selected-cell":"";return(r,s)=>(n(),i("div",d,[a(e,{"table-layout":"auto",ref_key:"tableRef",ref:v,loading:t.loading,data:k.value,columns:g.value,"cell-class-name":N,border:"",class:"h-full",onCellClick:h,onCellContextmenu:S},null,8,["loading","data","columns"]),a(l,{ref_key:"menuRef",ref:j,"menu-items":w.value,"menu-width":180,"submenu-width":140,"border-radius":10,onSelect:C},null,8,["menu-items"]),a(o,{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=e=>f.value=e),content:y.value,"column-name":b.value},null,8,["modelValue","content","column-name"])]))}}),[["__scopeId","data-v-2488af24"]]);export{j as default};
