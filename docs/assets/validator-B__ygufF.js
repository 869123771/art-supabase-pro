import{c as e}from"./index-_zpN7FnF.js";import{d as r}from"./el-option-Bsnz73AY.js";function l(l){const{table:t,field:n,getExcludeId:o,extraWhere:a,message:u="该值已存在",delay:s=300}=l,d=r((r,l)=>{return s=null,d=null,i=function*(){var s;try{const{total:s}=yield e({table:t,field:n,value:r,excludeId:null==o?void 0:o(),extraWhere:null==a?void 0:a()});s&&s>0?l(new Error(u)):l()}catch(d){l(new Error(null!=(s=null==d?void 0:d.message)?s:"校验失败"))}},new Promise((e,r)=>{var l=e=>{try{n(i.next(e))}catch(l){r(l)}},t=e=>{try{n(i.throw(e))}catch(l){r(l)}},n=r=>r.done?e(r.value):Promise.resolve(r.value).then(l,t);n((i=i.apply(s,d)).next())});var s,d,i},s);return(e,r,l)=>{r?d(r,l):l()}}export{l as u};
