import{d as e,aC as a,cq as t,w as s,aF as u,b as l,c as r,j as i,g as n,p as o,n as d,cr as v,y as c,z as m,M as f,N as p,u as x,f as g,k as b,l as h}from"./index-Dp_GRdij.js";import{E as _}from"./el-row-1BZ70gnV.js";import{E as j}from"./el-col-LwQtdht1.js";import{_ as y}from"./index.vue_vue_type_script_setup_true_lang-DKdW2tza.js";const F="easeOutExpo",N=e({__name:"index",props:{target:{default:0},duration:{default:2e3},autoStart:{type:Boolean,default:!0},decimals:{default:0},decimal:{default:"."},separator:{default:""},prefix:{default:""},suffix:{default:""},easing:{default:F},disabled:{type:Boolean,default:!1}},emits:["started","finished","paused","reset"],setup(e,{expose:c,emit:m}){const f=Number.EPSILON,p=e,x=m,g=(e,a,t)=>Number.isFinite(e)?e:t,b=(e,a,t)=>Math.max(a,Math.min(e,t)),h=o(()=>g(p.target,0,0)),_=o(()=>b(g(p.duration,0,2e3),100,6e4)),j=o(()=>b(g(p.decimals,0,0),0,10)),y=o(()=>{const e=p.easing;return e in v?e:F}),N=a(0),S=a(h.value),M=a(!1),V=a(!1),$=a(0),E=t(N,{duration:_,transition:o(()=>v[y.value]),onStarted:()=>{M.value=!0,V.value=!1,x("started",S.value)},onFinished:()=>{M.value=!1,V.value=!1,x("finished",S.value)}}),B=o(()=>{const e=V.value?$.value:E.value;if(!Number.isFinite(e))return`${p.prefix}0${p.suffix}`;const a=((e,a,t,s)=>{let u=a>0?e.toFixed(a):Math.floor(e).toString();if("."!==t&&u.includes(".")&&(u=u.replace(".",t)),s){const e=u.split(t);e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,s),u=e.join(t)}return u})(e,j.value,p.decimal,p.separator);return`${p.prefix}${a}${p.suffix}`}),O=()=>{V.value=!1,$.value=0},k=e=>{if(p.disabled)return;const a=void 0!==e?e:S.value;Number.isFinite(a)&&(S.value=a,(e=>{const a=V.value?$.value:E.value;return Math.abs(a-e)<f})(a)||(V.value&&(N.value=$.value,O()),d(()=>{N.value=a})))},w=()=>{(M.value||V.value)&&(N.value=0,O(),x("paused",0))};return s(h,e=>{p.autoStart&&!p.disabled?k(e):S.value=e},{immediate:p.autoStart&&!p.disabled}),s(()=>p.disabled,e=>{e&&M.value&&w()}),u(()=>{M.value&&w()}),c({start:k,pause:()=>{M.value&&!V.value&&(V.value=!0,$.value=E.value,N.value=$.value,x("paused",$.value))},reset:(e=0)=>{const a=g(e,0,0);N.value=a,S.value=a,O(),x("reset")},stop:w,setTarget:e=>{Number.isFinite(e)&&(S.value=e,!M.value&&!p.autoStart||p.disabled||k(e))},get isRunning(){return M.value},get isPaused(){return V.value},get currentValue(){return V.value?$.value:E.value},get targetValue(){return S.value},get progress(){const e=V.value?$.value:E.value,a=S.value;return 0===a?0===e?1:0:Math.abs(e/a)}}),(e,a)=>(l(),r("span",{class:n(["text-g-900 tabular-nums",M.value?"transition-opacity duration-300 ease-in-out":""])},i(B.value),3))}}),S={class:"art-card relative flex flex-col justify-center h-35 px-5 mb-5 max-sm:mb-4"},M={class:"text-g-700 text-sm"},V={class:"flex-c mt-1"},$={class:"absolute top-0 bottom-0 right-5 m-auto size-12.5 rounded-xl flex-cc bg-theme/10"},E=e({__name:"card-list",setup(e){const a=h([{des:"总访问次数",icon:"ri:pie-chart-line",startVal:0,duration:1e3,num:9120,change:"+20%"},{des:"在线访客数",icon:"ri:group-line",startVal:0,duration:1e3,num:182,change:"+10%"},{des:"点击量",icon:"ri:fire-line",startVal:0,duration:1e3,num:9520,change:"-12%"},{des:"新用户",icon:"ri:progress-2-line",startVal:0,duration:1e3,num:156,change:"+30%"}]);return(e,t)=>{const s=N,u=y,o=j,d=_;return l(),c(d,{gutter:20,class:"flex"},{default:m(()=>[(l(!0),r(f,null,p(x(a),(e,a)=>(l(),c(o,{key:a,sm:12,md:6,lg:6},{default:m(()=>[g("div",S,[g("span",M,i(e.des),1),b(s,{class:"text-[26px] font-medium mt-2",target:e.num,duration:1300},null,8,["target"]),g("div",V,[t[0]||(t[0]=g("span",{class:"text-xs text-g-600"},"较上周",-1)),g("span",{class:n(["ml-1 text-xs font-semibold",[-1===e.change.indexOf("+")?"text-danger":"text-success"]])},i(e.change),3)]),g("div",$,[b(u,{icon:e.icon,class:"text-xl text-theme"},null,8,["icon"])])])]),_:2},1024))),128))]),_:1})}}});export{E as _};
