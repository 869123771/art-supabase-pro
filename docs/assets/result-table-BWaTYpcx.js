import{_ as e}from"./index-DbObXW-1.js";import{A as o}from"./index-D5961swV.js";import l from"./cell-content-view-BH4Q43m3.js";import{d as t,e1 as r,b as n,c as i,k as a,m as s,p as m,bO as p,n as u}from"./index-DPSTeJg3.js";import{_ as c}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./el-empty-CnTNoKsd.js";import"./index-BjhZqp3g.js";import"./el-option-Cu3Wcn2I.js";import"./index-kncddWTf.js";import"./index-CGjb8S7X.js";import"./focus-trap-CfLXOGNm.js";import"./index-DSBBASB3.js";import"./error-D_Dr4eZ1.js";import"./index-KTnVdGHQ.js";import"./index-D-2gYRbN.js";import"./event-BwRzfsZt.js";import"./use-form-item-Den5WiVg.js";import"./vnode-UiFMCNeh.js";import"./toNumber-BAe7_fgm.js";import"./index-BeNW0q-j.js";/* empty css               *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    *//* empty css                   */import"./_baseClone-D_t03cGa.js";import"./isArrayLikeObject-CZUi8pcQ.js";import"./omit-D87lvzgE.js";import"./debounce-Cvznx2zb.js";import"./index-DBvlfMTq.js";import"./index.vue_vue_type_script_setup_true_lang-Dz1N39RX.js";import"./el-drawer-CL2eruvN.js";import"./index-D_n3zeho.js";import"./el-overlay-CnPdKVNY.js";import"./editor-DpC2ER_N.js";const d={class:"result-table-container h-full"},j=c(t({__name:"result-table",props:{loading:{type:Boolean,default:!1},data:{default:()=>[]},columns:{default:()=>[]}},setup(t){const c=t,j=s(),v=s(),y=s(!1),f=s(""),b=s(""),{copy:x}=r(),_=s(null),g=m(()=>c.columns&&0!==c.columns.length?c.columns.map(e=>({prop:e.name,label:e.name,minWidth:120,formatter:o=>{const l=o[e.name];return p(l)?JSON.stringify(l):l}})):[]),k=m(()=>c.data),w=m(()=>[{key:"copy",label:"复制",icon:"ri-file-copy-line"},{key:"view",label:"查看",icon:"ri-eye-line"}]),h=(e,o,l,t)=>{_.value={row:e,column:o,event:t},b.value=o.property;const r=e[o.property];f.value=p(r)?JSON.stringify(r):String(null!=r?r:"")},S=(e,o,l,t)=>{t.preventDefault(),_.value={row:e,column:o,event:t},b.value=o.property;const r=e[o.property];f.value=p(r)?JSON.stringify(r):String(null!=r?r:""),u(()=>{var e;null==(e=j.value)||e.show(t)})},C=e=>{_.value&&("copy"===e.key?x(f.value):"view"===e.key&&O())},O=()=>{y.value=!0},N=({row:e,column:o})=>_.value&&_.value.row===e&&_.value.column.property===o.property?"selected-cell":"";return(r,s)=>(n(),i("div",d,[a(e,{"table-layout":"auto",ref_key:"tableRef",ref:v,loading:t.loading,data:k.value,columns:g.value,"cell-class-name":N,border:"",class:"h-full",onCellClick:h,onCellContextmenu:S},null,8,["loading","data","columns"]),a(o,{ref_key:"menuRef",ref:j,"menu-items":w.value,"menu-width":180,"submenu-width":140,"border-radius":10,onSelect:C},null,8,["menu-items"]),a(l,{modelValue:y.value,"onUpdate:modelValue":s[0]||(s[0]=e=>y.value=e),content:f.value,"column-name":b.value},null,8,["modelValue","content","column-name"])]))}}),[["__scopeId","data-v-05d62350"]]);export{j as default};
