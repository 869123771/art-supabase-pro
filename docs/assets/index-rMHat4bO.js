var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=Math.pow,n=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,i=(e,l)=>{for(var a in l||(l={}))r.call(l,a)&&n(e,a,l[a]);if(t)for(var a of t(l))o.call(l,a)&&n(e,a,l[a]);return e};import{a9 as u,_ as c,d as v,a1 as m,W as f,a as p,bh as d,an as b,b as h,y,z as g,H as w,f as S,aE as z,g as x,u as E,e as _,a6 as k,Y as L,m as H,bn as O,p as T,c as j,k as B,M as C,bd as R,ab as W,w as N,af as M,n as P,ce as A,o as $,b3 as Y,r as q,au as I,h as K,b7 as X,ah as D,a2 as F,l as G,ao as J}from"./index-Dp_GRdij.js";import{t as Q}from"./error-D_Dr4eZ1.js";import{u as U}from"./index-QUPeURfZ.js";const V={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Z=Symbol("scrollbarContextKey"),ee=u({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean});var le=c(v({__name:"thumb",props:ee,setup(e){const l=e,a=m(Z),t=f("scrollbar");a||Q("Thumb","can not inject scrollbar context");const r=H(),o=H(),n=H({}),i=H(!1);let u=!1,c=!1,v=0,j=0,B=O?document.onselectstart:null;const C=T(()=>V[l.vertical?"vertical":"horizontal"]),R=T(()=>(({move:e,size:l,bar:a})=>({[a.size]:l,transform:`translate${a.axis}(${e}%)`}))({size:l.size,move:l.move,bar:C.value})),W=T(()=>s(r.value[C.value.offset],2)/a.wrapElement[C.value.scrollSize]/l.ratio/o.value[C.value.offset]),N=e=>{var l;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;null==(l=window.getSelection())||l.removeAllRanges(),P(e);const a=e.currentTarget;a&&(n.value[C.value.axis]=a[C.value.offset]-(e[C.value.client]-a.getBoundingClientRect()[C.value.direction]))},M=e=>{if(!o.value||!r.value||!a.wrapElement)return;const l=100*(Math.abs(e.target.getBoundingClientRect()[C.value.direction]-e[C.value.client])-o.value[C.value.offset]/2)*W.value/r.value[C.value.offset];a.wrapElement[C.value.scroll]=l*a.wrapElement[C.value.scrollSize]/100},P=e=>{e.stopImmediatePropagation(),u=!0,v=a.wrapElement.scrollHeight,j=a.wrapElement.scrollWidth,document.addEventListener("mousemove",A),document.addEventListener("mouseup",$),B=document.onselectstart,document.onselectstart=()=>!1},A=e=>{if(!r.value||!o.value)return;if(!1===u)return;const l=n.value[C.value.axis];if(!l)return;const t=100*(-1*(r.value.getBoundingClientRect()[C.value.direction]-e[C.value.client])-(o.value[C.value.offset]-l))*W.value/r.value[C.value.offset];"scrollLeft"===C.value.scroll?a.wrapElement[C.value.scroll]=t*j/100:a.wrapElement[C.value.scroll]=t*v/100},$=()=>{u=!1,n.value[C.value.axis]=0,document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",$),Y(),c&&(i.value=!1)};p(()=>{Y(),document.removeEventListener("mouseup",$)});const Y=()=>{document.onselectstart!==B&&(document.onselectstart=B)};return d(b(a,"scrollbarElement"),"mousemove",()=>{c=!1,i.value=!!l.size}),d(b(a,"scrollbarElement"),"mouseleave",()=>{c=!0,i.value=u}),(e,l)=>(h(),y(L,{name:E(t).b("fade"),persisted:""},{default:g(()=>[w(S("div",{ref_key:"instance",ref:r,class:x([E(t).e("bar"),E(t).is(C.value.key)]),onMousedown:M,onClick:l[0]||(l[0]=z(()=>{},["stop"]))},[S("div",{ref_key:"thumb",ref:o,class:x(E(t).e("thumb")),style:_(R.value),onMousedown:N},null,38)],34),[[k,e.always||i.value]])]),_:1},8,["name"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);var ae=c(v({__name:"bar",props:u({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),setup(e,{expose:l}){const a=e,t=m(Z),r=H(0),o=H(0),n=H(""),i=H(""),u=H(1),c=H(1);return l({handleScroll:e=>{if(e){const l=e.offsetHeight-4,a=e.offsetWidth-4;o.value=100*e.scrollTop/l*u.value,r.value=100*e.scrollLeft/a*c.value}},update:()=>{const e=null==t?void 0:t.wrapElement;if(!e)return;const l=e.offsetHeight-4,r=e.offsetWidth-4,o=s(l,2)/e.scrollHeight,v=s(r,2)/e.scrollWidth,m=Math.max(o,a.minSize),f=Math.max(v,a.minSize);u.value=o/(l-o)/(m/(l-m)),c.value=v/(r-v)/(f/(r-f)),i.value=m+4<l?`${m}px`:"",n.value=f+4<r?`${f}px`:""}}),(e,l)=>(h(),j(C,null,[B(le,{move:r.value,ratio:c.value,size:n.value,always:e.always},null,8,["move","ratio","size","always"]),B(le,{move:o.value,ratio:u.value,size:i.value,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const te=u(i({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:W([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String},U(["ariaLabel","ariaOrientation"]))),re={"end-reached":e=>["left","right","top","bottom"].includes(e),scroll:({scrollTop:e,scrollLeft:l})=>[e,l].every(R)},oe=["tabindex"];var se;const ne=J(c(v((se=i({},{name:"ElScrollbar"}),l(se,a({__name:"scrollbar",props:te,emits:re,setup(e,{expose:l,emit:a}){const t=e,r=a,o=f("scrollbar");let s,n,i,u=0,c=0,v="";const m={bottom:!1,top:!1,right:!1,left:!1},p=H(),b=H(),w=H(),z=H(),k=T(()=>{const e={},l=X(t.height),a=X(t.maxHeight);return l&&(e.height=l),a&&(e.maxHeight=a),[t.wrapStyle,e]}),L=T(()=>[t.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!t.native}]),O=T(()=>[o.e("view"),t.viewClass]),B={top:"bottom",bottom:"top",left:"right",right:"left"},C=()=>{var e;if(b.value){null==(e=z.value)||e.handleScroll(b.value);const l=u,a=c;u=b.value.scrollTop,c=b.value.scrollLeft;const o={bottom:u+b.value.clientHeight>=b.value.scrollHeight-t.distance,top:u<=t.distance&&0!==l,right:c+b.value.clientWidth>=b.value.scrollWidth-t.distance&&a!==c,left:c<=t.distance&&0!==a};if(r("scroll",{scrollTop:u,scrollLeft:c}),l!==u&&(v=u>l?"bottom":"top"),a!==c&&(v=c>a?"right":"left"),t.distance>0){if((e=>{var l;return null!=(l=m[e])&&l})(v))return;(e=>{const l=B[v];if(!l)return;const a=e[v],t=e[l];a&&!m[v]&&(m[v]=!0),!t&&m[l]&&(m[l]=!1)})(o)}o[v]&&r("end-reached",v)}},W=()=>{var e;null==(e=z.value)||e.update(),m[v]=!1};return N(()=>t.noresize,e=>{e?(null==s||s(),null==n||n(),null==i||i()):(({stop:s}=M(w,W)),({stop:n}=M(b,W)),i=d("resize",W))},{immediate:!0}),N(()=>[t.maxHeight,t.height],()=>{t.native||P(()=>{var e;W(),b.value&&(null==(e=z.value)||e.handleScroll(b.value))})}),F(Z,G({scrollbarElement:p,wrapElement:b})),A(()=>{b.value&&(b.value.scrollTop=u,b.value.scrollLeft=c)}),$(()=>{t.native||P(()=>{W()})}),Y(()=>W()),l({wrapRef:b,update:W,scrollTo:function(e,l){D(e)?b.value.scrollTo(e):R(e)&&R(l)&&b.value.scrollTo(e,l)},setScrollTop:e=>{R(e)&&(b.value.scrollTop=e)},setScrollLeft:e=>{R(e)&&(b.value.scrollLeft=e)},handleScroll:C}),(e,l)=>(h(),j("div",{ref_key:"scrollbarRef",ref:p,class:x(E(o).b())},[S("div",{ref_key:"wrapRef",ref:b,class:x(L.value),style:_(k.value),tabindex:e.tabindex,onScroll:C},[(h(),y(I(e.tag),{id:e.id,ref_key:"resizeRef",ref:w,class:x(O.value),style:_(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:g(()=>[q(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,oe),e.native?K("v-if",!0):(h(),y(ae,{key:0,ref_key:"barRef",ref:z,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}})))),[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]));export{ne as E,re as s};
