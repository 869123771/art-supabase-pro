import{d as e,c as a,aW as t,aB as s,aX as u,w as l,aF as r,e as i,f as n,m as o,i as d,n as v,r as c,y as m,z as f,M as p,N as x,u as g,h,p as b}from"./index-D2YTfifR.js";import{E as _}from"./el-row-DlnUx7lo.js";import{E as F}from"./el-col-BQRBCxgk.js";import{_ as y}from"./index.vue_vue_type_script_setup_true_lang-BaEpzhEY.js";const N="easeOutExpo",S=e({__name:"index",props:{target:{default:0},duration:{default:2e3},autoStart:{type:Boolean,default:!0},decimals:{default:0},decimal:{default:"."},separator:{default:""},prefix:{default:""},suffix:{default:""},easing:{default:N},disabled:{type:Boolean,default:!1}},emits:["started","finished","paused","reset"],setup(e,{expose:c,emit:m}){const f=Number.EPSILON,p=e,x=m,g=(e,a,t)=>Number.isFinite(e)?e:t,h=(e,a,t)=>Math.max(a,Math.min(e,t)),b=a(()=>g(p.target,0,0)),_=a(()=>h(g(p.duration,0,2e3),100,6e4)),F=a(()=>h(g(p.decimals,0,0),0,10)),y=a(()=>{const e=p.easing;return e in t?e:N}),S=s(0),j=s(b.value),M=s(!1),V=s(!1),$=s(0),B=u(S,{duration:_,transition:a(()=>t[y.value]),onStarted:()=>{M.value=!0,V.value=!1,x("started",j.value)},onFinished:()=>{M.value=!1,V.value=!1,x("finished",j.value)}}),E=a(()=>{const e=V.value?$.value:B.value;if(!Number.isFinite(e))return`${p.prefix}0${p.suffix}`;const a=((e,a,t,s)=>{let u=a>0?e.toFixed(a):Math.floor(e).toString();if("."!==t&&u.includes(".")&&(u=u.replace(".",t)),s){const e=u.split(t);e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,s),u=e.join(t)}return u})(e,F.value,p.decimal,p.separator);return`${p.prefix}${a}${p.suffix}`}),O=()=>{V.value=!1,$.value=0},w=e=>{if(p.disabled)return;const a=void 0!==e?e:j.value;Number.isFinite(a)&&(j.value=a,(e=>{const a=V.value?$.value:B.value;return Math.abs(a-e)<f})(a)||(V.value&&(S.value=$.value,O()),v(()=>{S.value=a})))},z=()=>{(M.value||V.value)&&(S.value=0,O(),x("paused",0))};return l(b,e=>{p.autoStart&&!p.disabled?w(e):j.value=e},{immediate:p.autoStart&&!p.disabled}),l(()=>p.disabled,e=>{e&&M.value&&z()}),r(()=>{M.value&&z()}),c({start:w,pause:()=>{M.value&&!V.value&&(V.value=!0,$.value=B.value,S.value=$.value,x("paused",$.value))},reset:(e=0)=>{const a=g(e,0,0);S.value=a,j.value=a,O(),x("reset")},stop:z,setTarget:e=>{Number.isFinite(e)&&(j.value=e,!M.value&&!p.autoStart||p.disabled||w(e))},get isRunning(){return M.value},get isPaused(){return V.value},get currentValue(){return V.value?$.value:B.value},get targetValue(){return j.value},get progress(){const e=V.value?$.value:B.value,a=j.value;return 0===a?0===e?1:0:Math.abs(e/a)}}),(e,a)=>(n(),i("span",{class:d(["text-g-900 tabular-nums",M.value?"transition-opacity duration-300 ease-in-out":""])},o(E.value),3))}}),j={class:"art-card relative flex flex-col justify-center h-35 px-5 mb-5 max-sm:mb-4"},M={class:"text-g-700 text-sm"},V={class:"flex-c mt-1"},$={class:"absolute top-0 bottom-0 right-5 m-auto size-12.5 rounded-xl flex-cc bg-theme/10"},B=e({__name:"card-list",setup(e){const a=c([{des:"总访问次数",icon:"ri:pie-chart-line",startVal:0,duration:1e3,num:9120,change:"+20%"},{des:"在线访客数",icon:"ri:group-line",startVal:0,duration:1e3,num:182,change:"+10%"},{des:"点击量",icon:"ri:fire-line",startVal:0,duration:1e3,num:9520,change:"-12%"},{des:"新用户",icon:"ri:progress-2-line",startVal:0,duration:1e3,num:156,change:"+30%"}]);return(e,t)=>{const s=S,u=y,l=F,r=_;return n(),m(r,{gutter:20,class:"flex"},{default:f(()=>[(n(!0),i(p,null,x(g(a),(e,a)=>(n(),m(l,{key:a,sm:12,md:6,lg:6},{default:f(()=>[h("div",j,[h("span",M,o(e.des),1),b(s,{class:"text-[26px] font-medium mt-2",target:e.num,duration:1300},null,8,["target"]),h("div",V,[t[0]||(t[0]=h("span",{class:"text-xs text-g-600"},"较上周",-1)),h("span",{class:d(["ml-1 text-xs font-semibold",[-1===e.change.indexOf("+")?"text-danger":"text-success"]])},o(e.change),3)]),h("div",$,[b(u,{icon:e.icon,class:"text-xl text-theme"},null,8,["icon"])])])]),_:2},1024))),128))]),_:1})}}});export{B as _};
