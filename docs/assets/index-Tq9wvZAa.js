var e=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(a,i,t)=>i in a?e(a,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[i]=t,s=(e,a)=>{for(var i in a||(a={}))n.call(a,i)&&c(e,i,a[i]);if(t)for(var i of t(a))l.call(a,i)&&c(e,i,a[i]);return e};import{a$ as o,a4 as v,bd as r,a9 as u,aa as d,ab as p,_ as f,d as m,W as y,m as b,w as h,o as k,b as I,c as g,f as x,B as w,u as V,g as j,r as _,y as S,z as T,au as P,a5 as C,h as O,j as $,k as B,ba as A,e as E,aE as N,aC as z,p as F,n as L,dC as D,b7 as K,ao as U}from"./index-DocD4lg6.js";import{i as W}from"./validator-BtxKqV6u.js";import{u as q}from"./index-DmiZVFYU.js";import{I as G,C as H,U as J}from"./event-BwRzfsZt.js";import{u as M,a as Q}from"./use-form-item-CYVSqIfx.js";import{u as R,d as X}from"./index-B8YGeOD4.js";import{t as Y,d as Z}from"./error-D_Dr4eZ1.js";const ee=u(s({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:W},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:d},activeActionIcon:{type:d},activeIcon:{type:d},inactiveIcon:{type:d},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:p(Function)},id:String,tabindex:{type:[String,Number]}},q(["ariaLabel"]))),ae={[J]:e=>o(e)||v(e)||r(e),[H]:e=>o(e)||v(e)||r(e),[G]:e=>o(e)||v(e)||r(e)},ie=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex"],te=["aria-hidden"],ne={key:1},le={key:1},ce=["aria-hidden"],se="ElSwitch";var oe;const ve=U(f(m((oe=s({},{name:se}),a(oe,i({__name:"switch",props:ee,emits:ae,setup(e,{expose:a,emit:i}){const t=e,n=i,{formItem:l}=M(),c=R(),s=y("switch"),{inputId:v}=Q(t,{formItemContext:l}),r=X(F(()=>{if(t.loading)return!0})),u=b(!1!==t.modelValue),d=z(),p=F(()=>[s.b(),s.m(c.value),s.is("disabled",r.value),s.is("checked",q.value)]),f=F(()=>[s.e("label"),s.em("label","left"),s.is("active",!q.value)]),m=F(()=>[s.e("label"),s.em("label","right"),s.is("active",q.value)]),U=F(()=>({width:K(t.width)}));h(()=>t.modelValue,()=>{u.value=!0});const W=F(()=>!!u.value&&t.modelValue),q=F(()=>W.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(W.value)||(n(J,t.inactiveValue),n(H,t.inactiveValue),n(G,t.inactiveValue)),h(q,e=>{var a;d.value.checked=e,t.validateEvent&&(null==(a=null==l?void 0:l.validate)||a.call(l,"change").catch(e=>Z()))});const ee=()=>{const e=q.value?t.inactiveValue:t.activeValue;n(J,e),n(H,e),n(G,e),L(()=>{d.value.checked=q.value})},ae=()=>{if(r.value)return;const{beforeChange:e}=t;if(!e)return void ee();const a=e();[D(a),o(a)].includes(!0)||Y(se,"beforeChange must return type `Promise<boolean>` or `boolean`"),D(a)?a.then(e=>{e&&ee()}).catch(e=>{}):a&&ee()};return k(()=>{d.value.checked=q.value}),a({focus:()=>{var e,a;null==(a=null==(e=d.value)?void 0:e.focus)||a.call(e)},checked:q}),(e,a)=>(I(),g("div",{class:j(p.value),onClick:N(ae,["prevent"])},[x("input",{id:V(v),ref_key:"input",ref:d,class:j(V(s).e("input")),type:"checkbox",role:"switch","aria-checked":q.value,"aria-disabled":V(r),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:V(r),tabindex:e.tabindex,onChange:ee,onKeydown:w(ae,["enter"])},null,42,ie),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText||e.$slots.inactive)?(I(),g("span",{key:0,class:j(f.value)},[_(e.$slots,"inactive",{},()=>[e.inactiveIcon?(I(),S(V(C),{key:0},{default:T(()=>[(I(),S(P(e.inactiveIcon)))]),_:1})):O("v-if",!0),!e.inactiveIcon&&e.inactiveText?(I(),g("span",{key:1,"aria-hidden":q.value},$(e.inactiveText),9,te)):O("v-if",!0)])],2)):O("v-if",!0),x("span",{class:j(V(s).e("core")),style:E(U.value)},[e.inlinePrompt?(I(),g("div",{key:0,class:j(V(s).e("inner"))},[q.value?(I(),g("div",{key:1,class:j(V(s).e("inner-wrapper"))},[_(e.$slots,"active",{},()=>[e.activeIcon?(I(),S(V(C),{key:0},{default:T(()=>[(I(),S(P(e.activeIcon)))]),_:1})):O("v-if",!0),!e.activeIcon&&e.activeText?(I(),g("span",le,$(e.activeText),1)):O("v-if",!0)])],2)):(I(),g("div",{key:0,class:j(V(s).e("inner-wrapper"))},[_(e.$slots,"inactive",{},()=>[e.inactiveIcon?(I(),S(V(C),{key:0},{default:T(()=>[(I(),S(P(e.inactiveIcon)))]),_:1})):O("v-if",!0),!e.inactiveIcon&&e.inactiveText?(I(),g("span",ne,$(e.inactiveText),1)):O("v-if",!0)])],2))],2)):O("v-if",!0),x("div",{class:j(V(s).e("action"))},[e.loading?(I(),S(V(C),{key:0,class:j(V(s).is("loading"))},{default:T(()=>[B(V(A))]),_:1},8,["class"])):q.value?_(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(I(),S(V(C),{key:0},{default:T(()=>[(I(),S(P(e.activeActionIcon)))]),_:1})):O("v-if",!0)]):q.value?O("v-if",!0):_(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(I(),S(V(C),{key:0},{default:T(()=>[(I(),S(P(e.inactiveActionIcon)))]),_:1})):O("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText||e.$slots.active)?(I(),g("span",{key:1,class:j(m.value)},[_(e.$slots,"active",{},()=>[e.activeIcon?(I(),S(V(C),{key:0},{default:T(()=>[(I(),S(P(e.activeIcon)))]),_:1})):O("v-if",!0),!e.activeIcon&&e.activeText?(I(),g("span",{key:1,"aria-hidden":!q.value},$(e.activeText),9,ce)):O("v-if",!0)])],2)):O("v-if",!0)],2))}})))),[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{ve as E};
