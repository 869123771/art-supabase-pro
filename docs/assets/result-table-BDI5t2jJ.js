import{_ as e}from"./index-Ztn7boQv.js";import{A as o}from"./index-Cwr_Rdhm.js";import l from"./cell-content-view-BYxEAVi3.js";import{d as t,e1 as r,b as n,c as i,k as a,m as s,p as m,bO as p,n as u}from"./index-Dp_GRdij.js";import{_ as c}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./el-empty-Bo-FTgK-.js";import"./index-CV23GvbI.js";import"./el-option-Dt8TcJ_h.js";import"./index-CYb25bxy.js";import"./index-QUPeURfZ.js";import"./focus-trap-BuAZGuAO.js";import"./index-rMHat4bO.js";import"./error-D_Dr4eZ1.js";import"./index-BeH0bgk1.js";import"./index-6gY0_SfG.js";import"./event-BwRzfsZt.js";import"./use-form-item-45aK5G8L.js";import"./vnode-CYrDy7Zs.js";import"./toNumber-C0nrrpRB.js";import"./index-PSpMHiz_.js";/* empty css               *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    *//* empty css                   */import"./_baseClone-CroWXrxz.js";import"./isArrayLikeObject-GzdkelJI.js";import"./omit-r26JECDk.js";import"./debounce-BR-vWXNg.js";import"./index-vbGq24LZ.js";import"./index.vue_vue_type_script_setup_true_lang-DKdW2tza.js";import"./el-drawer-JWVkmsPL.js";import"./index-CjiF4d6W.js";import"./el-overlay-113k3ltl.js";import"./editor-BiR46azb.js";const d={class:"result-table-container h-full"},j=c(t({__name:"result-table",props:{loading:{type:Boolean,default:!1},data:{default:()=>[]},columns:{default:()=>[]}},setup(t){const c=t,j=s(),v=s(),y=s(!1),f=s(""),b=s(""),{copy:x}=r(),_=s(null),g=m(()=>c.columns&&0!==c.columns.length?c.columns.map(e=>({prop:e.name,label:e.name,minWidth:120,formatter:o=>{const l=o[e.name];return p(l)?JSON.stringify(l):l}})):[]),k=m(()=>c.data),w=m(()=>[{key:"copy",label:"复制",icon:"ri-file-copy-line"},{key:"view",label:"查看",icon:"ri-eye-line"}]),h=(e,o,l,t)=>{_.value={row:e,column:o,event:t},b.value=o.property;const r=e[o.property];f.value=p(r)?JSON.stringify(r):String(null!=r?r:"")},S=(e,o,l,t)=>{t.preventDefault(),_.value={row:e,column:o,event:t},b.value=o.property;const r=e[o.property];f.value=p(r)?JSON.stringify(r):String(null!=r?r:""),u(()=>{var e;null==(e=j.value)||e.show(t)})},C=e=>{_.value&&("copy"===e.key?x(f.value):"view"===e.key&&O())},O=()=>{y.value=!0},N=({row:e,column:o})=>_.value&&_.value.row===e&&_.value.column.property===o.property?"selected-cell":"";return(r,s)=>(n(),i("div",d,[a(e,{"table-layout":"auto",ref_key:"tableRef",ref:v,loading:t.loading,data:k.value,columns:g.value,"cell-class-name":N,border:"",class:"h-full",onCellClick:h,onCellContextmenu:S},null,8,["loading","data","columns"]),a(o,{ref_key:"menuRef",ref:j,"menu-items":w.value,"menu-width":180,"submenu-width":140,"border-radius":10,onSelect:C},null,8,["menu-items"]),a(l,{modelValue:y.value,"onUpdate:modelValue":s[0]||(s[0]=e=>y.value=e),content:f.value,"column-name":b.value},null,8,["modelValue","content","column-name"])]))}}),[["__scopeId","data-v-05d62350"]]);export{j as default};
