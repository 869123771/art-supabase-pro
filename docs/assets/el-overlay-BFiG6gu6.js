var e=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(o,l,a)=>l in o?e(o,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[l]=a,s=(e,o)=>{for(var l in o||(o={}))n.call(o,l)&&r(e,l,o[l]);if(a)for(var l of a(o))t.call(o,l)&&r(e,l,o[l]);return e};import{a9 as u,aa as i,a$ as c,ab as d,c8 as f,m as v,b8 as p,w as y,o as b,a7 as g,a8 as m,p as C,bn as B,b7 as O,ah as S,ai as j,b2 as w,n as x,dO as A}from"./index-DocD4lg6.js";import{a as I}from"./focus-trap-CMJEhiq8.js";import{U as h}from"./event-BwRzfsZt.js";import{u as D}from"./index-BPDxHcTG.js";import{b as E}from"./index-B8YGeOD4.js";const L=Symbol("dialogInjectionKey"),F="dialog-fade",P=u({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:i},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),z={close:()=>!0},k=u((N=s({},P),T={appendToBody:Boolean,appendTo:{type:I.to.type,default:"body"},beforeClose:{type:d(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:d([String,Object]),default:void 0}},o(N,l(T))));var N,T;const $={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[h]:e=>c(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},M=(e,o)=>{var l;const a=g().emit,{nextZIndex:n}=f();let t="";const r=E(),u=E(),i=v(!1),c=v(!1),d=v(!1),I=v(null!=(l=e.zIndex)?l:n()),L=v(!1);let P,z;const k=p(),N=C(()=>{var e,o;return null!=(o=null==(e=k.value)?void 0:e.namespace)?o:A}),T=C(()=>{var e;return null==(e=k.value)?void 0:e.dialog}),$=C(()=>{const o={},l=`--${N.value}-dialog`;if(!e.fullscreen){e.top&&(o[`${l}-margin-top`]=e.top);const a=O(e.width);a&&(o[`${l}-width`]=a)}return o}),M=C(()=>{var o,l,a;return null!=(a=null!=(l=e.draggable)?l:null==(o=T.value)?void 0:o.draggable)&&a&&!e.fullscreen}),V=C(()=>{var o,l,a;return null!=(a=null!=(l=e.alignCenter)?l:null==(o=T.value)?void 0:o.alignCenter)&&a}),_=C(()=>{var o,l,a;return null!=(a=null!=(l=e.overflow)?l:null==(o=T.value)?void 0:o.overflow)&&a}),R=C(()=>V.value?{display:"flex"}:{}),q=C(()=>{var o,l,a;const n=null!=(a=null!=(l=e.transition)?l:null==(o=T.value)?void 0:o.transition)?a:F,t={name:n,onAfterEnter:K,onBeforeLeave:Z,onAfterLeave:U};if(S(n)){const e=s({},n),o=(e,o)=>l=>{j(e)?e.forEach(e=>{w(e)&&e(l)}):w(e)&&e(l),o()};return e.onAfterEnter=o(e.onAfterEnter,K),e.onBeforeLeave=o(e.onBeforeLeave,Z),e.onAfterLeave=o(e.onAfterLeave,U),e.name||(e.name=F),e}return t});function K(){a("opened")}function U(){a("closed"),a(h,!1),e.destroyOnClose&&(d.value=!1),L.value=!1}function Z(){L.value=!0,a("close")}function G(){null==z||z(),null==P||P(),e.openDelay&&e.openDelay>0?({stop:P}=m(()=>Q(),e.openDelay)):Q()}function H(){null==P||P(),null==z||z(),e.closeDelay&&e.closeDelay>0?({stop:z}=m(()=>W(),e.closeDelay)):W()}function J(){e.beforeClose?e.beforeClose(function(e){e||(c.value=!0,i.value=!1)}):H()}function Q(){B&&(i.value=!0)}function W(){i.value=!1}return e.lockScroll&&D(i),y(()=>e.zIndex,()=>{var o;I.value=null!=(o=e.zIndex)?o:n()}),y(()=>e.modelValue,l=>{var t;l?(c.value=!1,L.value=!1,G(),d.value=!0,I.value=null!=(t=e.zIndex)?t:n(),x(()=>{a("open"),o.value&&(o.value.parentElement.scrollTop=0,o.value.parentElement.scrollLeft=0,o.value.scrollTop=0)})):i.value&&H()}),y(()=>e.fullscreen,e=>{o.value&&(e?(t=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=t)}),b(()=>{e.modelValue&&(i.value=!0,d.value=!0,G())}),{afterEnter:K,afterLeave:U,beforeLeave:Z,handleClose:J,onModalClick:function(){e.closeOnClickModal&&J()},close:H,doClose:W,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&J()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:r,bodyId:u,closed:c,style:$,overlayDialogStyle:R,rendered:d,visible:i,zIndex:I,transitionConfig:q,_draggable:M,_alignCenter:V,_overflow:_,closing:L}};export{P as a,L as b,$ as c,z as d,k as e,M as u};
