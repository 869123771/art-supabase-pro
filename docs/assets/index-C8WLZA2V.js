var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,i=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&s(e,a,t[a]);if(o)for(var a of o(t))l.call(t,a)&&s(e,a,t[a]);return e},r=(e,o)=>t(e,a(o)),u=(e,t,a)=>new Promise((o,n)=>{var l=e=>{try{i(a.next(e))}catch(t){n(t)}},s=e=>{try{i(a.throw(e))}catch(t){n(t)}},i=e=>e.done?o(e.value):Promise.resolve(e.value).then(l,s);i((a=a.apply(e,t)).next())});import{bL as d,bY as p,bZ as c,a9 as f,a1 as v,aj as m,al as b,ad as y,b_ as h,b7 as g,c as x,b$ as w,a7 as C,aB as S,a as k,w as E,c0 as z,bP as P,u as I,n as j,d as F,c1 as B,bR as O,W as $,c2 as M,c3 as N,c4 as _,ah as R,ag as V,o as T,an as L,e as A,f as H,k as W,M as K,h as U,i as D,j as X,y as Y,z as Z,au as Q,aa as q,X as G,aE as J,c5 as ee,m as te,g as ae,b2 as oe,af as ne,_ as le,ao as se}from"./index-CSMnfbno.js";import{u as ie,d as re}from"./index-BdYr8bnS.js";import{U as ue,I as de,C as pe}from"./event-BwRzfsZt.js";import{b as ce,u as fe,a as ve,c as me}from"./index-Cb-YqCnn.js";import{i as be}from"./index-BQLgPbRy.js";function ye(){if(!arguments.length)return[];var e=arguments[0];return d(e)?e:[e]}let he;const ge={height:"0",visibility:"hidden",overflow:c()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},xe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"];function we(e,t=1,a){var o,n;he||(he=document.createElement("textarea"),(null!=(o=e.parentNode)?o:document.body).appendChild(he));const{paddingSize:l,borderSize:s,boxSizing:i,contextStyle:r}=function(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),n=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:xe.map(e=>[e,t.getPropertyValue(e)]),paddingSize:o,borderSize:n,boxSizing:a}}(e);r.forEach(([e,t])=>null==he?void 0:he.style.setProperty(e,t)),Object.entries(ge).forEach(([e,t])=>null==he?void 0:he.style.setProperty(e,t,"important")),he.value=e.value||e.placeholder||"";let u=he.scrollHeight;const d={};"border-box"===i?u+=s:"content-box"===i&&(u-=l),he.value="";const c=he.scrollHeight-l;if(p(t)){let e=c*t;"border-box"===i&&(e=e+l+s),u=Math.max(e,u),d.minHeight=`${e}px`}if(p(a)){let e=c*a;"border-box"===i&&(e=e+l+s),u=Math.min(e,u)}return d.height=`${u}px`,null==(n=he.parentNode)||n.removeChild(he),he=void 0,d}const Ce=v(r(i({id:{type:String,default:void 0},size:g,disabled:Boolean,modelValue:{type:m([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:m([Boolean,Object]),default:!1},autocomplete:{type:m(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:y,default:h},showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:y},prefixIcon:{type:y},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:m([Object,Array,String]),default:()=>b({})},autofocus:Boolean,rows:{type:Number,default:2}},ie(["ariaLabel"])),{inputmode:{type:m(String),default:void 0},name:String})),Se={[ue]:e=>f(e),input:e=>f(e),change:e=>f(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},ke=["class","style"],Ee=/^on[A-Z]/,ze=(e={})=>{const{excludeListeners:t=!1,excludeKeys:a}=e,o=x(()=>((null==a?void 0:a.value)||[]).concat(ke)),n=C();return x(n?()=>{var e;return w(Object.entries(null==(e=n.proxy)?void 0:e.$attrs).filter(([e])=>!(o.value.includes(e)||t&&Ee.test(e))))}:()=>({}))};function Pe(e,{disabled:t,beforeFocus:a,afterFocus:o,beforeBlur:n,afterBlur:l}={}){const s=C(),{emit:i}=s,r=S(),u=k(!1),d=e=>{const n=!!P(a)&&a(e);I(t)||u.value||n||(u.value=!0,i("focus",e),null==o||o())},p=e=>{var a;const o=!!P(n)&&n(e);I(t)||e.relatedTarget&&(null==(a=r.value)?void 0:a.contains(e.relatedTarget))||o||(u.value=!1,i("blur",e),null==l||l())};return E([r,()=>I(t)],([e,t])=>{e&&(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}),z(r,"focus",d,!0),z(r,"blur",p,!0),z(r,"click",a=>{var o,n;I(t)||be(a.target)||(null==(o=r.value)?void 0:o.contains(document.activeElement))&&r.value!==document.activeElement||null==(n=e.value)||n.focus()},!0),{isFocused:u,wrapperRef:r,handleFocus:d,handleBlur:p}}function Ie({afterComposition:e,emit:t}){const a=k(!1),o=e=>{var o;null==t||t("compositionupdate",e);const n=null==(o=e.target)?void 0:o.value,l=n[n.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},n=o=>{null==t||t("compositionend",o),a.value&&(a.value=!1,j(()=>e(o)))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?n(e):o(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),a.value=!0},handleCompositionUpdate:o,handleCompositionEnd:n}}const je=F({name:"ElInput",inheritAttrs:!1});const Fe=se(le(F(r(i({},je),{props:Ce,emits:Se,setup(e,{expose:t,emit:a}){const o=e,n=B(),l=ze(),s=O(),r=x(()=>["textarea"===o.type?y.b():b.b(),b.m(v.value),b.is("disabled",m.value),b.is("exceed",Oe.value),{[b.b("group")]:s.prepend||s.append,[b.m("prefix")]:s.prefix||o.prefixIcon,[b.m("suffix")]:s.suffix||o.suffixIcon||o.clearable||o.showPassword,[b.bm("suffix","password-clear")]:Ee.value&&je.value,[b.b("hidden")]:"hidden"===o.type},n.class]),d=x(()=>[b.e("wrapper"),b.is("focus",se.value)]),{form:p,formItem:c}=ve(),{inputId:f}=me(o,{formItemContext:c}),v=ce(),m=fe(),b=$("input"),y=$("textarea"),h=S(),g=S(),w=k(!1),C=k(!1),z=k(),P=S(o.inputStyle),F=x(()=>h.value||g.value),{wrapperRef:le,isFocused:se,handleFocus:ie,handleBlur:be}=Pe(F,{disabled:m,afterBlur(){var e;o.validateEvent&&(null==(e=null==c?void 0:c.validate)||e.call(c,"blur").catch(e=>re()))}}),ye=x(()=>{var e;return null!=(e=null==p?void 0:p.statusIcon)&&e}),he=x(()=>(null==c?void 0:c.validateState)||""),ge=x(()=>he.value&&M[he.value]),xe=x(()=>C.value?N:_),Ce=x(()=>[n.style]),Se=x(()=>[o.inputStyle,P.value,{resize:o.resize}]),ke=x(()=>R(o.modelValue)?"":String(o.modelValue)),Ee=x(()=>o.clearable&&!m.value&&!o.readonly&&!!ke.value&&(se.value||w.value)),je=x(()=>o.showPassword&&!m.value&&!!ke.value),Fe=x(()=>o.showWordLimit&&!!o.maxlength&&("text"===o.type||"textarea"===o.type)&&!m.value&&!o.readonly&&!o.showPassword),Be=x(()=>ke.value.length),Oe=x(()=>!!Fe.value&&Be.value>Number(o.maxlength)),$e=x(()=>!!s.suffix||!!o.suffixIcon||Ee.value||o.showPassword||Fe.value||!!he.value&&ye.value),[Me,Ne]=function(e){let t;return[function(){if(null==e.value)return;const{selectionStart:a,selectionEnd:o,value:n}=e.value;if(null==a||null==o)return;const l=n.slice(0,Math.max(0,a)),s=n.slice(Math.max(0,o));t={selectionStart:a,selectionEnd:o,value:n,beforeTxt:l,afterTxt:s}},function(){if(null==e.value||null==t)return;const{value:a}=e.value,{beforeTxt:o,afterTxt:n,selectionStart:l}=t;if(null==o||null==n||null==l)return;let s=a.length;if(a.endsWith(n))s=a.length-n.length;else if(a.startsWith(o))s=o.length;else{const e=o[l-1],t=a.indexOf(e,l-1);-1!==t&&(s=t+1)}e.value.setSelectionRange(s,s)}]}(h);V(g,e=>{if(Re(),!Fe.value||"both"!==o.resize)return;const t=e[0],{width:a}=t.contentRect;z.value={right:`calc(100% - ${a+15+6}px)`}});const _e=()=>{const{type:e,autosize:t}=o;if(oe&&"textarea"===e&&g.value)if(t){const e=ne(t)?t.minRows:void 0,a=ne(t)?t.maxRows:void 0,o=we(g.value,e,a);P.value=i({overflowY:"hidden"},o),j(()=>{g.value.offsetHeight,P.value=o})}else P.value={minHeight:we(g.value).minHeight}},Re=(e=>{let t=!1;return()=>{var a;if(t||!o.autosize)return;null===(null==(a=g.value)?void 0:a.offsetParent)||(setTimeout(e),t=!0)}})(_e),Ve=()=>{const e=F.value,t=o.formatter?o.formatter(ke.value):ke.value;e&&e.value!==t&&(e.value=t)},Te=e=>u(null,null,function*(){Me();let{value:t}=e.target;o.formatter&&o.parser&&(t=o.parser(t)),Ae.value||(t!==ke.value?(a(ue,t),a(de,t),yield j(),Ve(),Ne()):Ve())}),Le=e=>{let{value:t}=e.target;o.formatter&&o.parser&&(t=o.parser(t)),a(pe,t)},{isComposing:Ae,handleCompositionStart:He,handleCompositionUpdate:We,handleCompositionEnd:Ke}=Ie({emit:a,afterComposition:Te}),Ue=()=>{Me(),C.value=!C.value,setTimeout(Ne)},De=e=>{w.value=!1,a("mouseleave",e)},Xe=e=>{w.value=!0,a("mouseenter",e)},Ye=e=>{a("keydown",e)},Ze=()=>{a(ue,""),a(pe,""),a("clear"),a(de,"")};return E(()=>o.modelValue,()=>{var e;j(()=>_e()),o.validateEvent&&(null==(e=null==c?void 0:c.validate)||e.call(c,"change").catch(e=>re()))}),E(ke,()=>Ve()),E(()=>o.type,()=>u(null,null,function*(){yield j(),Ve(),_e()})),T(()=>{!o.formatter&&o.parser,Ve(),j(_e)}),t({input:h,textarea:g,ref:F,textareaStyle:Se,autosize:L(o,"autosize"),isComposing:Ae,focus:()=>{var e;return null==(e=F.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=F.value)?void 0:e.blur()},select:()=>{var e;null==(e=F.value)||e.select()},clear:Ze,resizeTextarea:_e}),(e,t)=>(H(),A("div",{class:D([I(r),{[I(b).bm("group","append")]:e.$slots.append,[I(b).bm("group","prepend")]:e.$slots.prepend}]),style:ae(I(Ce)),onMouseenter:Xe,onMouseleave:De},[W(" input "),"textarea"!==e.type?(H(),A(K,{key:0},[W(" prepend slot "),e.$slots.prepend?(H(),A("div",{key:0,class:D(I(b).be("group","prepend"))},[X(e.$slots,"prepend")],2)):W("v-if",!0),U("div",{ref_key:"wrapperRef",ref:le,class:D(I(d))},[W(" prefix slot "),e.$slots.prefix||e.prefixIcon?(H(),A("span",{key:0,class:D(I(b).e("prefix"))},[U("span",{class:D(I(b).e("prefix-inner"))},[X(e.$slots,"prefix"),e.prefixIcon?(H(),Y(I(q),{key:0,class:D(I(b).e("icon"))},{default:Z(()=>[(H(),Y(Q(e.prefixIcon)))]),_:1},8,["class"])):W("v-if",!0)],2)],2)):W("v-if",!0),U("input",G({id:I(f),ref_key:"input",ref:h,class:I(b).e("inner")},I(l),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?C.value?"text":"password":e.type,disabled:I(m),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:I(He),onCompositionupdate:I(We),onCompositionend:I(Ke),onInput:Te,onChange:Le,onKeydown:Ye}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),W(" suffix slot "),I($e)?(H(),A("span",{key:1,class:D(I(b).e("suffix"))},[U("span",{class:D(I(b).e("suffix-inner"))},[I(Ee)&&I(je)&&I(Fe)?W("v-if",!0):(H(),A(K,{key:0},[X(e.$slots,"suffix"),e.suffixIcon?(H(),Y(I(q),{key:0,class:D(I(b).e("icon"))},{default:Z(()=>[(H(),Y(Q(e.suffixIcon)))]),_:1},8,["class"])):W("v-if",!0)],64)),I(Ee)?(H(),Y(I(q),{key:1,class:D([I(b).e("icon"),I(b).e("clear")]),onMousedown:J(I(ee),["prevent"]),onClick:Ze},{default:Z(()=>[(H(),Y(Q(e.clearIcon)))]),_:1},8,["class","onMousedown"])):W("v-if",!0),I(je)?(H(),Y(I(q),{key:2,class:D([I(b).e("icon"),I(b).e("password")]),onClick:Ue},{default:Z(()=>[(H(),Y(Q(I(xe))))]),_:1},8,["class"])):W("v-if",!0),I(Fe)?(H(),A("span",{key:3,class:D(I(b).e("count"))},[U("span",{class:D(I(b).e("count-inner"))},te(I(Be))+" / "+te(e.maxlength),3)],2)):W("v-if",!0),I(he)&&I(ge)&&I(ye)?(H(),Y(I(q),{key:4,class:D([I(b).e("icon"),I(b).e("validateIcon"),I(b).is("loading","validating"===I(he))])},{default:Z(()=>[(H(),Y(Q(I(ge))))]),_:1},8,["class"])):W("v-if",!0)],2)],2)):W("v-if",!0)],2),W(" append slot "),e.$slots.append?(H(),A("div",{key:1,class:D(I(b).be("group","append"))},[X(e.$slots,"append")],2)):W("v-if",!0)],64)):(H(),A(K,{key:1},[W(" textarea "),U("textarea",G({id:I(f),ref_key:"textarea",ref:g,class:[I(y).e("inner"),I(b).is("focus",I(se))]},I(l),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:I(m),readonly:e.readonly,autocomplete:e.autocomplete,style:I(Se),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:I(He),onCompositionupdate:I(We),onCompositionend:I(Ke),onInput:Te,onFocus:I(ie),onBlur:I(be),onChange:Le,onKeydown:Ye}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),I(Fe)?(H(),A("span",{key:0,style:ae(z.value),class:D(I(b).e("count"))},te(I(Be))+" / "+te(e.maxlength),7)):W("v-if",!0)],64))],38))}})),[["__file","input.vue"]]));export{Fe as E,Ie as a,ze as b,ye as c,Pe as u};
