import{c as e}from"./index-DoAdqq3t.js";import{d as r}from"./debounce-Cvznx2zb.js";function l(l){const{table:t,field:n,getExcludeId:a,extraWhere:o,message:u="该值已存在",delay:d=300}=l,c=r((r,l)=>{return d=null,c=null,s=function*(){var d;try{const{total:d}=yield e({table:t,field:n,value:r,excludeId:null==a?void 0:a(),extraWhere:null==o?void 0:o()});d&&d>0?l(new Error(u)):l()}catch(c){l(new Error(null!=(d=null==c?void 0:c.message)?d:"校验失败"))}},new Promise((e,r)=>{var l=e=>{try{n(s.next(e))}catch(l){r(l)}},t=e=>{try{n(s.throw(e))}catch(l){r(l)}},n=r=>r.done?e(r.value):Promise.resolve(r.value).then(l,t);n((s=s.apply(d,c)).next())});var d,c,s},d);return(e,r,l)=>{r?c(r,l):l()}}export{l as u};
