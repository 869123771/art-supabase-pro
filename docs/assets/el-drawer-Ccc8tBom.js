var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,i=(e,a)=>{for(var s in a||(a={}))l.call(a,s)&&r(e,s,a[s]);if(t)for(var s of t(a))o.call(a,s)&&r(e,s,a[s]);return e},n=(e,t)=>a(e,s(t));import{a1 as d,ee as u,c,dg as f,a as v,w as p,c0 as b,b as y,b4 as m,_ as h,d as g,bR as w,W as k,b3 as z,y as C,f as A,z as E,p as R,Y as j,u as x,H as L,h as O,X as _,aE as F,e as P,k as T,i as $,j as S,m as B,aa as H,ba as I,g as D,ab as q,ao as X}from"./index-BKps0qP8.js";import{E as Y}from"./index-CH-aUlw7.js";import{E as W,b as M}from"./index-CXoKioUi.js";import{c as N,e as Q,u as U}from"./el-overlay-ClgHPMsh.js";import{g as G}from"./index-z60qzp4A.js";const J=d(n(i({},Q),{direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}})),K=N;function V(e,a){const{width:s,height:t}=u(),l=c(()=>["ltr","rtl"].includes(e.direction)),o=c(()=>["ltr","ttb"].includes(e.direction)?1:-1),r=c(()=>l.value?s.value:t.value),i=c(()=>f(n.value+o.value*d.value,4,r.value)),n=v(0),d=v(0),h=v(!1),g=v(!1);let w=[],k=[];p(()=>[e.size,e.resizable],()=>{g.value=!1,n.value=0,d.value=0,C()});const z=e=>{const{pageX:a,pageY:s}=e,t=a-w[0],o=s-w[1];d.value=l.value?t:o},C=()=>{w=[],n.value=i.value,d.value=0,h.value=!1,k.forEach(e=>null==e?void 0:e()),k=[]},A=b(a,"mousedown",s=>{e.resizable&&(g.value||(n.value=(()=>{var e;const s=null==(e=a.value)?void 0:e.closest('[aria-modal="true"]');return s?l.value?s.offsetWidth:s.offsetHeight:100})(),g.value=!0),w=[s.pageX,s.pageY],h.value=!0,k.push(b(window,"mouseup",C),b(window,"mousemove",z)))});return y(()=>{A(),C()}),{size:c(()=>g.value?`${i.value}px`:m(e.size)),isResizing:h,isHorizontal:l}}const Z=g({name:"ElDrawer",inheritAttrs:!1});const ee=X(h(g(n(i({},Z),{props:J,emits:K,setup(e,{expose:a}){const s=e,t=w();G({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},c(()=>!!t.title));const l=v(),o=v(),r=v(),i=k("drawer"),{t:n}=z(),{afterEnter:d,afterLeave:u,beforeLeave:f,visible:p,rendered:b,titleId:y,bodyId:m,zIndex:h,onModalClick:g,onOpenAutoFocus:X,onCloseAutoFocus:N,onFocusoutPrevented:Q,onCloseRequested:J,handleClose:K}=U(s,l),{isHorizontal:Z,size:ee,isResizing:ae}=V(s,r);return a({handleClose:K,afterEnter:d,afterLeave:u}),(e,a)=>(A(),C(x(M),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:E(()=>[R(j,{name:x(i).b("fade"),onAfterEnter:x(d),onAfterLeave:x(u),onBeforeLeave:x(f),persisted:""},{default:E(()=>{var a;return[L(R(x(Y),{mask:e.modal,"overlay-class":[x(i).is("drawer"),null!=(a=e.modalClass)?a:""],"z-index":x(h),onClick:x(g)},{default:E(()=>[R(x(W),{loop:"",trapped:x(p),"focus-trap-el":l.value,"focus-start-el":o.value,onFocusAfterTrapped:x(X),onFocusAfterReleased:x(N),onFocusoutPrevented:x(Q),onReleaseRequested:x(J)},{default:E(()=>[O("div",_({ref_key:"drawerRef",ref:l,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:x(y),"aria-describedby":x(m)},e.$attrs,{class:[x(i).b(),e.direction,x(p)&&"open",x(i).is("dragging",x(ae))],style:{[x(Z)?"width":"height"]:x(ee)},role:"dialog",onClick:F(()=>{},["stop"])}),[O("span",{ref_key:"focusStartRef",ref:o,class:$(x(i).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(A(),P("header",{key:0,class:$([x(i).e("header"),e.headerClass])},[e.$slots.title?S(e.$slots,"title",{key:1},()=>[T(" DEPRECATED SLOT ")]):S(e.$slots,"header",{key:0,close:x(K),titleId:x(y),titleClass:x(i).e("title")},()=>[O("span",{id:x(y),role:"heading","aria-level":e.headerAriaLevel,class:$(x(i).e("title"))},B(e.title),11,["id","aria-level"])]),e.showClose?(A(),P("button",{key:2,"aria-label":x(n)("el.drawer.close"),class:$(x(i).e("close-btn")),type:"button",onClick:x(K)},[R(x(H),{class:$(x(i).e("close"))},{default:E(()=>[R(x(I))]),_:1},8,["class"])],10,["aria-label","onClick"])):T("v-if",!0)],2)):T("v-if",!0),x(b)?(A(),P("div",{key:1,id:x(m),class:$([x(i).e("body"),e.bodyClass])},[S(e.$slots,"default")],10,["id"])):T("v-if",!0),e.$slots.footer?(A(),P("div",{key:2,class:$([x(i).e("footer"),e.footerClass])},[S(e.$slots,"footer")],2)):T("v-if",!0),e.resizable?(A(),P("div",{key:3,ref_key:"draggerRef",ref:r,style:D({zIndex:x(h)}),class:$(x(i).e("dragger"))},null,6)):T("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[q,x(p)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}})),[["__file","drawer.vue"]]));export{ee as E};
