var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,r=(e,a)=>{for(var l in a||(a={}))n.call(a,l)&&s(e,l,a[l]);if(t)for(var l of t(a))o.call(a,l)&&s(e,l,a[l]);return e},i=(e,t)=>a(e,l(t)),u=(e,a,l)=>new Promise((t,n)=>{var o=e=>{try{r(l.next(e))}catch(zt){n(zt)}},s=e=>{try{r(l.throw(e))}catch(zt){n(zt)}},r=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,s);r((l=l.apply(e,a)).next())});import{du as d,dv as c,dw as v,dx as p,ai as m,cU as f,dg as h,dy as b,dz as g,d as y,W as k,a1 as w,k as x,c6 as C,_ as S,b as D,c as V,h as M,y as _,aE as N,u as P,z as $,f as O,cJ as B,g as T,a5 as I,M as R,ba as L,ad as E,p as Y,bw as A,N as F,i as z,j,r as K,m as H,a7 as W,b2 as U,ae as q,am as X,bp as Z,a9 as G,ab as Q,bj as J,b4 as ee,w as ae,dA as le,o as te,l as ne,n as oe,bn as se,U as re,V as ie,a2 as ue,ao as de,a$ as ce,cV as ve,bf as pe,aa as me,bb as fe,bi as he,cQ as be,af as ge,H as ye,a6 as ke,e as we,bv as xe,au as Ce,ac as Se,B as De,cX as Ve,dB as Me,cT as _e,dC as Ne,X as Pe,cc as $e,a as Oe,ag as Be,dD as Te,dE as Ie,cn as Re,cE as Le,bd as Ee,Y as Ye,a4 as Ae,$ as Fe,an as ze,cM as je,aH as Ke,cO as He,t as We,ck as Ue,aC as qe,dF as Xe,dG as Ze,G as Ge,bk as Qe,dH as Je,dI as ea,ak as aa,ah as la,ci as ta,bh as na,a3 as oa,al as sa}from"./index-Dp_GRdij.js";import{E as ra}from"./index-rMHat4bO.js";import{E as ia}from"./index-vbGq24LZ.js";import{b as ua}from"./el-radio-CQJb9sZI.js";import{b as da,d as ca,u as va,a as pa}from"./index-CV23GvbI.js";import{C as ma,U as fa,I as ha}from"./event-BwRzfsZt.js";import{c as ba,d as ga,g as ya}from"./focus-trap-BuAZGuAO.js";import{c as ka,d as wa,u as xa,b as Ca,E as Sa,e as Da}from"./index-CYb25bxy.js";import{s as Va}from"./vnode-CYrDy7Zs.js";import{b as Ma,u as _a,a as Na,p as Pa}from"./index-QUPeURfZ.js";import{c as $a}from"./cloneDeep-DC3wzNja.js";import{u as Oa,E as Ba,a as Ta,b as Ia,c as Ra}from"./index-6gY0_SfG.js";import{t as La,E as Ea}from"./index-BeH0bgk1.js";import{C as Ya}from"./index-PSpMHiz_.js";import{u as Aa,a as Fa}from"./use-form-item-45aK5G8L.js";import{d as za,t as ja}from"./error-D_Dr4eZ1.js";import{b as Ka,i as Ha}from"./isArrayLikeObject-GzdkelJI.js";import{b as Wa,M as Ua,u as qa,c as Xa,a as Za,E as Ga,e as Qa,s as Ja,d as el}from"./el-option-Dt8TcJ_h.js";import{E as al}from"./el-button-DUuKddpM.js";import{v as ll,E as tl}from"./index-nANo4xwk.js";import{d as nl}from"./debounce-BR-vWXNg.js";import{o as ol}from"./omit-r26JECDk.js";import{E as sl,t as rl}from"./index-BigAM5ph.js";function il(e){return e!=e}function ul(e,a){return!!(null==e?0:e.length)&&function(e,a,l){return a==a?function(e,a,l){for(var t=l-1,n=e.length;++t<n;)if(e[t]===a)return t;return-1}(e,a,l):Wa(e,il,l)}(e,a,0)>-1}var dl=1/0;var cl=d&&1/c(new d([,-0]))[1]==1/0?function(e){return new d(e)}:function(){};var vl=Ka(function(e){return function(e,a,l){var t=-1,n=ul,o=e.length,s=!0,r=[],i=r;if(o>=200){var u=cl(e);if(u)return c(u);s=!1,n=p,i=new v}else i=r;e:for(;++t<o;){var d=e[t],m=d;if(d=0!==d?d:0,s&&m==m){for(var f=i.length;f--;)if(i[f]===m)continue e;r.push(d)}else n(i,m,l)||(i!==r&&i.push(m),r.push(d))}return r}(Ma(e,1,Ha,!0))});const pl=(e,a)=>[e>0?e-1:void 0,e,e<a?e+1:void 0],ml=e=>Array.from(Array.from({length:e}).keys()),fl=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),hl=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),bl=function(e,a){const l=b(e),t=b(a);return l&&t?e.getTime()===a.getTime():!l&&!t&&e===a},gl=function(e,a){const l=m(e),t=m(a);return l&&t?e.length===a.length&&e.every((e,l)=>bl(e,a[l])):!l&&!t&&bl(e,a)},yl=function(e,a,l){const t=f(a)||"x"===a?h(e).locale(l):h(e,a).locale(l);return t.isValid()?t:void 0},kl=function(e,a,l){return f(a)?e:"x"===a?+e:h(e).locale(l).format(a)},wl=(e,a)=>{var l;const t=[],n=null==a?void 0:a();for(let o=0;o<e;o++)t.push(null!=(l=null==n?void 0:n.includes(o))&&l);return t},xl=e=>m(e)?e.map(e=>e.toDate()):e.toDate();var Cl,Sl={exports:{}};var Dl=Cl?Sl.exports:(Cl=1,Sl.exports=function(e,a,l){var t=a.prototype,n=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,a,l,t,o){var s=e.name?e:e.$locale(),r=n(s[a]),i=n(s[l]),u=r||i.map(function(e){return e.slice(0,t)});if(!o)return u;var d=s.weekStart;return u.map(function(e,a){return u[(a+(d||0))%7]})},s=function(){return l.Ls[l.locale()]},r=function(e,a){return e.formats[a]||e.formats[a.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,a,l){return a||l.slice(1)})},i=function(){var e=this;return{months:function(a){return a?a.format("MMMM"):o(e,"months")},monthsShort:function(a){return a?a.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(a){return a?a.format("dddd"):o(e,"weekdays")},weekdaysMin:function(a){return a?a.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(a){return a?a.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(a){return r(e.$locale(),a)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};t.localeData=function(){return i.bind(this)()},l.localeData=function(){var e=s();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return l.weekdays()},weekdaysShort:function(){return l.weekdaysShort()},weekdaysMin:function(){return l.weekdaysMin()},months:function(){return l.months()},monthsShort:function(){return l.monthsShort()},longDateFormat:function(a){return r(e,a)},meridiem:e.meridiem,ordinal:e.ordinal}},l.months=function(){return o(s(),"months")},l.monthsShort=function(){return o(s(),"monthsShort","months",3)},l.weekdays=function(e){return o(s(),"weekdays",null,null,e)},l.weekdaysShort=function(e){return o(s(),"weekdaysShort","weekdays",3,e)},l.weekdaysMin=function(e){return o(s(),"weekdaysMin","weekdays",2,e)}});const Vl=g(Dl),Ml=Symbol();var _l=y({name:"NodeContent",props:{node:{type:Object,required:!0}},setup(e){const a=k("cascader-node"),{renderLabelFn:l}=w(Ml),{node:t}=e,{data:n,label:o}=t,s=()=>{const e=null==l?void 0:l({node:t,data:n});return(m(a=e)?a.every(({type:e})=>e===C):(null==a?void 0:a.type)===C)?o:null!=e?e:o;var a};return()=>x("span",{class:a.e("label")},[s()])}});const Nl=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Pl=y(i(r({},{name:"ElCascaderNode"}),{__name:"node",props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:a}){const l=e,t=a,n=w(Ml),o=k("cascader-node"),s=Y(()=>n.isHoverMenu),r=Y(()=>n.config.multiple),i=Y(()=>n.config.checkStrictly),u=Y(()=>n.config.showPrefix),d=Y(()=>{var e;return null==(e=n.checkedNodes[0])?void 0:e.uid}),c=Y(()=>l.node.isDisabled),v=Y(()=>l.node.isLeaf),p=Y(()=>i.value&&!v.value||!c.value),m=Y(()=>h(n.expandingNode)),f=Y(()=>i.value&&n.checkedNodes.some(h)),h=e=>{var a;const{level:t,uid:n}=l.node;return(null==(a=null==e?void 0:e.pathNodes[t-1])?void 0:a.uid)===n},b=()=>{m.value||n.expandNode(l.node)},g=e=>{const{node:a}=l;e!==a.checked&&n.handleCheckChange(a,e)},y=()=>{n.lazyLoad(l.node,()=>{v.value||b()})},C=e=>{s.value&&(S(),!v.value&&t("expand",e))},S=()=>{const{node:e}=l;p.value&&!e.loading&&(e.loaded?b():y())},A=()=>{!v.value||c.value||i.value||r.value?(n.config.checkOnClickNode&&(r.value||i.value)||v.value&&n.config.checkOnClickLeaf)&&!c.value?F(!l.node.checked):s.value||S():z(!0)},F=e=>{i.value?(g(e),l.node.loaded&&b()):z(e)},z=e=>{l.node.loaded?(g(e),!i.value&&b()):y()};return(a,l)=>(D(),V("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!v.value,"aria-owns":v.value?void 0:e.menuId,"aria-expanded":m.value,tabindex:p.value?-1:void 0,class:T([P(o).b(),P(o).is("selectable",i.value),P(o).is("active",e.node.checked),P(o).is("disabled",!p.value),m.value&&"in-active-path",f.value&&"in-checked-path"]),onMouseenter:C,onFocus:C,onClick:A},[M(" prefix "),r.value&&u.value?(D(),_(P(ia),{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:c.value,onClick:l[0]||(l[0]=N(()=>{},["stop"])),"onUpdate:modelValue":F},null,8,["model-value","indeterminate","disabled"])):i.value&&u.value?(D(),_(P(ua),{key:1,"model-value":d.value,label:e.node.uid,disabled:c.value,"onUpdate:modelValue":F,onClick:l[1]||(l[1]=N(()=>{},["stop"]))},{default:$(()=>[M("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),l[2]||(l[2]=O("span",null,null,-1))]),_:1},8,["model-value","label","disabled"])):v.value&&e.node.checked?(D(),_(P(I),{key:2,class:T(P(o).e("prefix"))},{default:$(()=>[x(P(B))]),_:1},8,["class"])):M("v-if",!0),M(" content "),x(P(_l),{node:e.node},null,8,["node"]),M(" postfix "),v.value?M("v-if",!0):(D(),V(R,{key:3},[e.node.loading?(D(),_(P(I),{key:0,class:T([P(o).is("loading"),P(o).e("postfix")])},{default:$(()=>[x(P(L))]),_:1},8,["class"])):(D(),_(P(I),{key:1,class:T(["arrow-right",P(o).e("postfix")])},{default:$(()=>[x(P(E))]),_:1},8,["class"]))],64))],42,Nl))}}));var $l=S(Pl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const Ol=y(i(r({},{name:"ElCascaderMenu"}),{__name:"menu",props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const a=e,l=W(),t=k("cascader-menu"),{t:n}=A(),o=da();let s,r;const i=w(Ml),u=H(),d=Y(()=>!a.nodes.length),c=Y(()=>!i.initialLoaded),v=Y(()=>`${o.value}-${a.index}`),p=e=>{s=e.target},m=e=>{var a;if(i.isHoverMenu&&s&&u.value)if(s.contains(e.target)){f();const n=l.vnode.el,{left:o}=n.getBoundingClientRect(),{offsetWidth:r,offsetHeight:i}=n,d=e.clientX-o,c=s.offsetTop,v=c+s.offsetHeight,p=(null==(a=n.querySelector(`.${t.e("wrap")}`))?void 0:a.scrollTop)||0;u.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${d} ${c} L${r} ${p} V${c} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${d} ${v} L${r} ${i+p} V${v} Z" />\n        `}else r||(r=window.setTimeout(h,i.config.hoverThreshold))},f=()=>{r&&(clearTimeout(r),r=void 0)},h=()=>{u.value&&(u.value.innerHTML="",f())};return(a,l)=>(D(),_(P(ra),{key:v.value,tag:"ul",role:"menu",class:T(P(t).b()),"wrap-class":P(t).e("wrap"),"view-class":[P(t).e("list"),P(t).is("empty",d.value)],onMousemove:m,onMouseleave:h},{default:$(()=>{var l;return[(D(!0),V(R,null,F(e.nodes,e=>(D(),_($l,{key:e.uid,node:e,"menu-id":v.value,onExpand:p},null,8,["node","menu-id"]))),128)),c.value?(D(),V("div",{key:0,class:T(P(t).e("empty-text"))},[x(P(I),{size:"14",class:T(P(t).is("loading"))},{default:$(()=>[x(P(L))]),_:1},8,["class"]),z(" "+j(P(n)("el.cascader.loading")),1)],2)):d.value?(D(),V("div",{key:1,class:T(P(t).e("empty-text"))},[K(a.$slots,"empty",{},()=>[z(j(P(n)("el.cascader.noData")),1)])],2)):(null==(l=P(i))?void 0:l.isHoverMenu)?(D(),V(R,{key:2},[M(" eslint-disable vue/html-self-closing "),(D(),V("svg",{ref_key:"hoverZone",ref:u,class:T(P(t).e("hover-zone"))},null,2))],2112)):M("v-if",!0),M(" eslint-enable vue/html-self-closing ")]}),_:3},8,["class","wrap-class","view-class"]))}}));var Bl=S(Ol,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let Tl=0;class Il{constructor(e,a,l,t=!1){this.data=e,this.config=a,this.parent=l,this.root=t,this.uid=Tl++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:n,label:o,children:s}=a,r=e[s],i=(e=>{const a=[e];let{parent:l}=e;for(;l;)a.unshift(l),l=l.parent;return a})(this);this.level=t?0:l?l.level+1:1,this.value=e[n],this.label=e[o],this.pathNodes=i,this.pathValues=i.map(e=>e.value),this.pathLabels=i.map(e=>e.label),this.childrenData=r,this.children=(r||[]).map(e=>new Il(e,a,this)),this.loaded=!a.lazy||this.isLeaf||!f(r),this.text=""}get isDisabled(){const{data:e,parent:a,config:l}=this,{disabled:t,checkStrictly:n}=l;return(U(t)?t(e,this):!!e[t])||!n&&!!(null==a?void 0:a.isDisabled)}get isLeaf(){const{data:e,config:a,childrenData:l,loaded:t}=this,{lazy:n,leaf:o}=a,s=U(o)?o(e,this):e[o];return q(s)?!(n&&!t)&&!(m(l)&&l.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:a,children:l}=this,t=new Il(e,this.config,this);return m(a)?a.push(e):this.childrenData=[e],l.push(t),t}calcText(e,a){const l=e?this.pathLabels.join(a):this.label;return this.text=l,l}broadcast(e){this.children.forEach(a=>{var l;a&&(a.broadcast(e),null==(l=a.onParentCheck)||l.call(a,e))})}emit(){var e;const{parent:a}=this;a&&(null==(e=a.onChildCheck)||e.call(a),a.emit())}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,a=e.filter(e=>!e.isDisabled),l=!!a.length&&a.every(e=>e.checked);this.setCheckState(l)}setCheckState(e){const a=this.children.length,l=this.children.reduce((e,a)=>e+(a.checked?1:a.indeterminate?.5:0),0);this.checked=this.loaded&&this.children.filter(e=>!e.isDisabled).every(e=>e.loaded&&e.checked)&&e,this.indeterminate=this.loaded&&l!==a&&l>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:a,multiple:l}=this.config;a||!l?this.checked=e:(this.broadcast(e),this.setCheckState(e),this.emit())}}const Rl=(e,a)=>e.reduce((e,l)=>(l.isLeaf?e.push(l):(!a&&e.push(l),e=e.concat(Rl(l.children,a))),e),[]);class Ll{constructor(e,a){this.config=a;const l=(e||[]).map(e=>new Il(e,this.config));this.nodes=l,this.allNodes=Rl(l,!1),this.leafNodes=Rl(l,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,a){const l=a?a.appendChild(e):new Il(e,this.config);a||this.nodes.push(l),this.appendAllNodesAndLeafNodes(l)}appendNodes(e,a){e.length>0?e.forEach(e=>this.appendNode(e,a)):a&&a.isLeaf&&this.leafNodes.push(a)}appendAllNodesAndLeafNodes(e){this.allNodes.push(e),e.isLeaf&&this.leafNodes.push(e),e.children&&e.children.forEach(e=>{this.appendAllNodesAndLeafNodes(e)})}getNodeByValue(e,a=!1){if(X(e))return null;return this.getFlattedNodes(a).find(a=>Z(a.value,e)||Z(a.pathValues,e))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find(({value:a,level:l})=>Z(e.value,a)&&e.level===l)||null}}const El=G({modelValue:{type:Q([Number,String,Array,Object])},options:{type:Q(Array),default:()=>[]},props:{type:Q(Object),default:()=>({})}}),Yl={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:J,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},Al=G(i(r({},El),{border:{type:Boolean,default:!0},renderLabel:{type:Function}})),Fl=e=>!0,zl={[fa]:Fl,[ma]:Fl,close:()=>!0,"expand-change":e=>e},jl=e=>{if(!e)return 0;const a=e.id.split("-");return Number(a[a.length-2])},Kl=y(i(r({},{name:"ElCascaderPanel"}),{__name:"index",props:Al,emits:zl,setup(e,{expose:a,emit:l}){const t=e,n=l;let o=!1;const s=k("cascader"),i=(e=>Y(()=>r(r({},Yl),e.props)))(t),u=ee();let d;const c=H(!0),v=H(!1),p=H([]),m=H(),h=H([]),b=H(),g=H([]),y=Y(()=>"hover"===i.value.expandTrigger),w=Y(()=>t.renderLabel||u.default),x=()=>{const{options:e}=t,a=i.value;o=!1,d=new Ll(e,a),h.value=[d.getNodes()],a.lazy&&f(t.options)?(c.value=!1,C(void 0,e=>{e&&(d=new Ll(e,a),h.value=[d.getNodes()]),c.value=!0,L(!1,!0)})):L(!1,!0)},C=(e,a)=>{const l=i.value;(e=e||new Il({},l,void 0,!0)).loading=!0;l.lazyLoad(e,l=>{const t=e,n=t.root?null:t;t.loading=!1,t.loaded=!0,t.childrenData=t.childrenData||[],l&&(null==d||d.appendNodes(l,n)),l&&(null==a||a(l)),0===e.level&&(v.value=!0)},()=>{e.loading=!1,e.loaded=!1,0===e.level&&(c.value=!0)})},S=(e,a)=>{var l;const{level:t}=e,o=h.value.slice(0,t);let s;e.isLeaf?s=e.pathNodes[t-2]:(s=e,o.push(e.children)),(null==(l=b.value)?void 0:l.uid)!==(null==s?void 0:s.uid)&&(b.value=e,h.value=o,!a&&n("expand-change",(null==e?void 0:e.pathValues)||[]))},M=(e,a,l=!0)=>{const{checkStrictly:t,multiple:s}=i.value,r=g.value[0];o=!0,!s&&(null==r||r.doCheck(!1)),e.doCheck(a),I(),l&&!s&&!t&&n("close"),!l&&!s&&N(e)},N=e=>{e&&(e=e.parent,N(e),e&&S(e))},O=e=>null==d?void 0:d.getFlattedNodes(e),B=e=>{var a;return null==(a=O(e))?void 0:a.filter(({checked:e})=>!1!==e)},I=()=>{var e;const{checkStrictly:a,multiple:l}=i.value,t=((e,a)=>{const l=a.slice(0),t=l.map(e=>e.uid),n=e.reduce((e,a)=>{const n=t.indexOf(a.uid);return n>-1&&(e.push(a),l.splice(n,1),t.splice(n,1)),e},[]);return n.push(...l),n})(g.value,B(!a)),n=t.map(e=>e.valueByOption);g.value=t,m.value=l?n:null!=(e=n[0])?e:null},L=(e=!1,a=!1)=>{const{modelValue:l}=t,{lazy:n,multiple:s,checkStrictly:r}=i.value,u=!r;var v;if(c.value&&!o&&(a||!Z(l,m.value)))if(n&&!e){const e=ka(null!=(v=wa(l))&&v.length?Ma(v,dl):[]).map(e=>null==d?void 0:d.getNodeByValue(e)).filter(e=>!!e&&!e.loaded&&!e.loading);e.length?e.forEach(e=>{C(e,()=>L(!1,a))}):L(!0,a)}else{const e=s?wa(l):[l],t=ka(e.map(e=>null==d?void 0:d.getNodeByValue(e,u)));E(t,a),m.value=$a(null!=l?l:void 0)}},E=(e,a=!0)=>{const{checkStrictly:l}=i.value,t=g.value,n=e.filter(e=>!!e&&(l||e.isLeaf)),o=null==d?void 0:d.getSameNode(b.value),s=a&&o||n[0];s?s.pathNodes.forEach(e=>S(e,!0)):b.value=void 0,t.forEach(e=>e.doCheck(!1)),ne(n).forEach(e=>e.doCheck(!0)),g.value=n,oe(A)},A=()=>{se&&p.value.forEach(e=>{const a=null==e?void 0:e.$el;if(a){const e=a.querySelector(`.${s.namespace.value}-scrollbar__wrap`);let l=a.querySelector(`.${s.b("node")}.in-active-path`);if(!l){const e=a.querySelectorAll(`.${s.b("node")}.${s.is("active")}`);l=e[e.length-1]}Va(e,l)}})},z=e=>{const a=e.target,l=re(e);switch(l){case ie.up:case ie.down:{e.preventDefault();const t=l===ie.up?-1:1;ga(ya(a,t,`.${s.b("node")}[tabindex="-1"]`));break}case ie.left:{e.preventDefault();const l=p.value[jl(a)-1],t=null==l?void 0:l.$el.querySelector(`.${s.b("node")}[aria-expanded="true"]`);ga(t);break}case ie.right:{e.preventDefault();const l=p.value[jl(a)+1],t=null==l?void 0:l.$el.querySelector(`.${s.b("node")}[tabindex="-1"]`);ga(t);break}case ie.enter:case ie.numpadEnter:(e=>{if(!e)return;const a=e.querySelector("input");a?a.click():ba(e)&&e.click()})(a)}};ue(Ml,ne({config:i,expandingNode:b,checkedNodes:g,isHoverMenu:y,initialLoaded:c,renderLabelFn:w,lazyLoad:C,expandNode:S,handleCheckChange:M})),ae(i,(e,a)=>{Z(e,a)||x()},{immediate:!0}),ae(()=>t.options,x,{deep:!0}),ae(()=>t.modelValue,()=>{o=!1,L()},{deep:!0}),ae(()=>m.value,e=>{Z(e,t.modelValue)||(n(fa,e),n(ma,e))});return le(()=>p.value=[]),te(()=>!f(t.modelValue)&&L()),a({menuList:p,menus:h,checkedNodes:g,handleKeyDown:z,handleCheckChange:M,getFlattedNodes:O,getCheckedNodes:B,clearCheckedNodes:()=>{g.value.forEach(e=>e.doCheck(!1)),I(),h.value=h.value.slice(0,1),b.value=void 0,n("expand-change",[])},calculateCheckedValue:I,scrollToExpandingNode:A,loadLazyRootNodes:()=>{v.value||x()}}),(e,a)=>(D(),V("div",{class:T([P(s).b("panel"),P(s).is("bordered",e.border)]),onKeydown:z},[(D(!0),V(R,null,F(h.value,(a,l)=>(D(),_(Bl,{key:l,ref_for:!0,ref:e=>p.value[l]=e,index:l,nodes:[...a]},{empty:$(()=>[K(e.$slots,"empty")]),_:3},8,["index","nodes"]))),128))],34))}}));const Hl=de(S(Kl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]])),Wl=G(r(i(r({},El),{size:fe,placeholder:String,disabled:{type:Boolean,default:void 0},clearable:Boolean,clearIcon:{type:me,default:pe},filterable:Boolean,filterMethod:{type:Q(Function),default:(e,a)=>e.text.includes(a)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:Q(Function),default:()=>!0},placement:{type:Q(String),values:Ca,default:"bottom-start"},fallbackPlacements:{type:Q(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:xa.popperClass,popperStyle:xa.popperStyle,teleported:xa.teleported,effect:{type:Q(String),default:"light"},tagType:i(r({},La.type),{default:"info"}),tagEffect:i(r({},La.effect),{default:"light"}),validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:["parent","child"],default:"child"},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0}}),ve)),Ul=e=>!0,ql={[fa]:Ul,[ma]:Ul,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>ce(e),expandChange:e=>!!e,removeTag:e=>!!e},Xl=["placeholder"],Zl=["onClick"],Gl=y(i(r({},{name:"ElCascader"}),{__name:"cascader",props:Wl,emits:ql,setup(e,{expose:a,emit:l}){const t={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:a,placement:l}=e;["right","left","bottom","top"].includes(l)||a.arrow&&(a.arrow.x=35)},requires:["arrow"]}]},n=e,o=l,s=he(),r=ee();let i=0,d=0;const c=k("cascader"),v=k("input"),p={small:7,default:11,large:15},{t:m}=A(),{formItem:f}=Aa(),h=ca(),{valueOnClear:b}=be(n),{isComposing:g,handleComposition:y}=Ta({afterComposition(e){var a;const l=null==(a=e.target)?void 0:a.value;oa(l)}}),w=H(),C=H(),S=H(),L=H(),E=H(),z=H(),W=H(!1),U=H(!1),q=H(!1),X=H(""),Z=H(""),G=H([]),Q=H([]),J=Y(()=>n.props.multiple?n.collapseTags?G.value.slice(0,n.maxCollapseTags):G.value:[]),le=Y(()=>n.props.multiple&&n.collapseTags?G.value.slice(n.maxCollapseTags):[]),ne=Y(()=>s.style),ue=Y(()=>{var e;return null!=(e=n.placeholder)?e:m("el.cascader.placeholder")}),de=Y(()=>Z.value||G.value.length>0||g.value?"":ue.value),ce=va(),ve=Y(()=>"small"===ce.value?"small":"default"),pe=Y(()=>!!n.props.multiple),me=Y(()=>!n.filterable||pe.value),fe=Y(()=>pe.value?Z.value:X.value),Pe=Y(()=>{var e;return(null==(e=E.value)?void 0:e.checkedNodes)||[]}),{wrapperRef:$e,isFocused:Oe,handleBlur:Be}=Oa(S,{disabled:h,beforeBlur(e){var a,l;return(null==(a=w.value)?void 0:a.isFocusInsideContent(e))||(null==(l=C.value)?void 0:l.isFocusInsideContent(e))},afterBlur(){var e;n.validateEvent&&(null==(e=null==f?void 0:f.validate)||e.call(f,"blur").catch(e=>za()))}}),Te=Y(()=>!(!n.clearable||h.value||q.value||!U.value&&!Oe.value)&&!!Pe.value.length),Ie=Y(()=>{const{showAllLevels:e,separator:a}=n,l=Pe.value;return l.length?pe.value?"":l[0].calcText(e,a):""}),Re=Y(()=>(null==f?void 0:f.validateState)||""),Le=Y({get:()=>$a(n.modelValue),set(e){const a=null!=e?e:b.value;o(fa,a),o(ma,a),n.validateEvent&&(null==f||f.validate("change").catch(e=>za()))}}),Ee=Y(()=>[c.b(),c.m(ce.value),c.is("disabled",h.value),s.class]),Ye=Y(()=>[v.e("icon"),"icon-arrow-down",c.is("reverse",W.value)]),Ae=Y(()=>c.is("focus",Oe.value)),Fe=Y(()=>{var e,a;return null==(a=null==(e=w.value)?void 0:e.popperRef)?void 0:a.contentRef}),ze=e=>{if(Oe.value){const a=new FocusEvent("blur",e);Be(a)}je(!1)},je=e=>{var a,l;h.value||(e=null!=e?e:!W.value)!==W.value&&(W.value=e,null==(l=null==(a=S.value)?void 0:a.input)||l.setAttribute("aria-expanded",`${e}`),e?(Ke(),E.value&&oe(E.value.scrollToExpandingNode)):n.filterable&&ea(),o("visibleChange",e))},Ke=()=>{oe(()=>{var e;null==(e=w.value)||e.updatePopper()})},He=()=>{q.value=!1},We=e=>{var a;const l=e.node;l.doCheck(!1),null==(a=E.value)||a.calculateCheckedValue(),o("removeTag",l.valueByOption)},Ue=()=>{var e,a;const{filterMethod:l,showAllLevels:t,separator:o}=n,s=null==(a=null==(e=E.value)?void 0:e.getFlattedNodes(!n.props.checkStrictly))?void 0:a.filter(e=>!e.isDisabled&&(e.calcText(t,o),l(e,fe.value)));pe.value&&G.value.forEach(e=>{e.hitState=!1}),q.value=!0,Q.value=s,Ke()},qe=()=>{var e;let a;a=q.value&&z.value?z.value.$el.querySelector(`.${c.e("suggestion-item")}`):null==(e=E.value)?void 0:e.$el.querySelector(`.${c.b("node")}[tabindex="-1"]`),a&&(a.focus(),!q.value&&a.click())},Xe=()=>{var e,a,l;const t=null==(e=S.value)?void 0:e.input,n=L.value,o=null==(a=z.value)?void 0:a.$el;if(se&&t){if(o){o.querySelector(`.${c.e("suggestion-list")}`).style.minWidth=`${t.offsetWidth}px`}if(n){const{offsetHeight:e}=n,a=G.value.length>0?Math.max(e,i)-2+"px":`${i}px`;if(t.style.height=a,r.prefix){const e=null==(l=S.value)?void 0:l.$el.querySelector(`.${v.e("prefix")}`);let a=0;e&&(a=e.offsetWidth,a>0&&(a+=p[ce.value||"default"])),n.style.left=`${a}px`}else n.style.left="0";Ke()}}},Ze=e=>{var a;return null==(a=E.value)?void 0:a.getCheckedNodes(e)},Ge=e=>{Ke(),o("expandChange",e)},Qe=e=>{if(g.value)return;switch(re(e)){case ie.enter:case ie.numpadEnter:je();break;case ie.down:je(!0),oe(qe),e.preventDefault();break;case ie.esc:!0===W.value&&(e.preventDefault(),e.stopPropagation(),je(!1));break;case ie.tab:je(!1)}},Je=()=>{var e;null==(e=E.value)||e.clearCheckedNodes(),!W.value&&n.filterable&&ea(),je(!1),o("clear")},ea=()=>{const{value:e}=Ie;X.value=e,Z.value=e},aa=e=>{const a=e.target,l=re(e);switch(l){case ie.up:case ie.down:{e.preventDefault();const t=l===ie.up?-1:1;ga(ya(a,t,`.${c.e("suggestion-item")}[tabindex="-1"]`));break}case ie.enter:case ie.numpadEnter:a.click()}},la=()=>{const e=G.value[G.value.length-1];d=Z.value?0:d+1,!e||!d||n.collapseTags&&G.value.length>1||(e.hitState?We(e):e.hitState=!0)},ta=Y(()=>n.debounce),na=_e(()=>{const{value:e}=fe;if(!e)return;const a=n.beforeFilter(e);Ne(a)?a.then(Ue).catch(()=>{}):!1!==a?Ue():He()},ta),oa=(e,a)=>{!W.value&&je(!0),(null==a?void 0:a.isComposing)||(e?na():He())},sa=e=>Number.parseFloat(Me(v.cssVarName("input-height"),e).value)-2;return ae(q,Ke),ae([Pe,h,()=>n.collapseTags,()=>n.maxCollapseTags],()=>{if(!pe.value)return;const e=(()=>{switch(n.showCheckedStrategy){case"child":return Pe.value;case"parent":{const e=Ze(!1),a=e.map(e=>e.value);return e.filter(e=>!e.parent||!a.includes(e.parent.value))}default:return[]}})(),a=[];e.forEach(e=>a.push((e=>{const{showAllLevels:a,separator:l}=n;return{node:e,key:e.uid,text:e.calcText(a,l),hitState:!1,closable:!h.value&&!e.isDisabled}})(e))),G.value=a}),ae(G,()=>{oe(()=>Xe())}),ae(ce,()=>u(null,null,function*(){yield oe();const e=S.value.input;i=sa(e)||i,Xe()})),ae(Ie,ea,{immediate:!0}),ae(()=>W.value,e=>{var a;e&&n.props.lazy&&n.props.lazyLoad&&(null==(a=E.value)||a.loadLazyRootNodes())}),te(()=>{const e=S.value.input,a=sa(e);i=e.offsetHeight||a,ge(e,Xe)}),a({getCheckedNodes:Ze,cascaderPanelRef:E,togglePopperVisible:je,contentRef:Fe,presentText:Ie,focus:()=>{var e;null==(e=S.value)||e.focus()},blur:()=>{var e;null==(e=S.value)||e.blur()}}),(e,a)=>(D(),_(P(Sa),{ref_key:"tooltipRef",ref:w,visible:W.value,teleported:e.teleported,"popper-class":[P(c).e("dropdown"),e.popperClass],"popper-style":e.popperStyle,"popper-options":t,"fallback-placements":e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:e.placement,transition:`${P(c).namespace.value}-zoom-in-top`,effect:e.effect,pure:"",persistent:e.persistent,onHide:He},{default:$(()=>[ye((D(),V("div",{ref_key:"wrapperRef",ref:$e,class:T(Ee.value),style:we(ne.value),onClick:a[8]||(a[8]=()=>je(!me.value||void 0)),onKeydown:Qe,onMouseenter:a[9]||(a[9]=e=>U.value=!0),onMouseleave:a[10]||(a[10]=e=>U.value=!1)},[x(P(Ba),{ref_key:"inputRef",ref:S,modelValue:X.value,"onUpdate:modelValue":a[1]||(a[1]=e=>X.value=e),placeholder:de.value,readonly:me.value,disabled:P(h),"validate-event":!1,size:P(ce),class:T(Ae.value),tabindex:pe.value&&e.filterable&&!P(h)?-1:void 0,onCompositionstart:P(y),onCompositionupdate:P(y),onCompositionend:P(y),onInput:oa},xe({suffix:$(()=>[Te.value?(D(),_(P(I),{key:"clear",class:T([P(v).e("icon"),"icon-circle-close"]),onClick:N(Je,["stop"])},{default:$(()=>[(D(),_(Ce(e.clearIcon)))]),_:1},8,["class"])):(D(),_(P(I),{key:"arrow-down",class:T(Ye.value),onClick:a[0]||(a[0]=N(e=>je(),["stop"]))},{default:$(()=>[x(P(Se))]),_:1},8,["class"]))]),_:2},[e.$slots.prefix?{name:"prefix",fn:$(()=>[K(e.$slots,"prefix")]),key:"0"}:void 0]),1032,["modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),pe.value?(D(),V("div",{key:0,ref_key:"tagWrapper",ref:L,class:T([P(c).e("tags"),P(c).is("validate",Boolean(Re.value))])},[K(e.$slots,"tag",{data:G.value,deleteTag:We},()=>[(D(!0),V(R,null,F(J.value,a=>(D(),_(P(Ea),{key:a.key,type:e.tagType,size:ve.value,effect:e.tagEffect,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:e=>We(a)},{default:$(()=>[O("span",null,j(a.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128))]),e.collapseTags&&G.value.length>e.maxCollapseTags?(D(),_(P(Sa),{key:0,ref_key:"tagTooltipRef",ref:C,disabled:W.value||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,effect:e.effect,persistent:e.persistent},{default:$(()=>[x(P(Ea),{closable:!1,size:ve.value,type:e.tagType,effect:e.tagEffect,"disable-transitions":""},{default:$(()=>[O("span",{class:T(P(c).e("tags-text"))}," + "+j(G.value.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect"])]),content:$(()=>[x(P(ra),{"max-height":e.maxCollapseTagsTooltipHeight},{default:$(()=>[O("div",{class:T(P(c).e("collapse-tags"))},[(D(!0),V(R,null,F(le.value,(a,l)=>(D(),V("div",{key:l,class:T(P(c).e("collapse-tag"))},[(D(),_(P(Ea),{key:a.key,class:"in-tooltip",type:e.tagType,size:ve.value,effect:e.tagEffect,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:e=>We(a)},{default:$(()=>[O("span",null,j(a.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:1},8,["max-height"])]),_:1},8,["disabled","popper-class","popper-style","effect","persistent"])):M("v-if",!0),e.filterable&&!P(h)?ye((D(),V("input",{key:1,"onUpdate:modelValue":a[2]||(a[2]=e=>Z.value=e),type:"text",class:T(P(c).e("search-input")),placeholder:Ie.value?"":ue.value,onInput:a[3]||(a[3]=e=>oa(Z.value,e)),onClick:a[4]||(a[4]=N(e=>je(!0),["stop"])),onKeydown:De(la,["delete"]),onCompositionstart:a[5]||(a[5]=(...e)=>P(y)&&P(y)(...e)),onCompositionupdate:a[6]||(a[6]=(...e)=>P(y)&&P(y)(...e)),onCompositionend:a[7]||(a[7]=(...e)=>P(y)&&P(y)(...e))},null,42,Xl)),[[Ve,Z.value]]):M("v-if",!0)],2)):M("v-if",!0)],38)),[[P(Ya),ze,Fe.value]])]),content:$(()=>[e.$slots.header?(D(),V("div",{key:0,class:T(P(c).e("header")),onClick:a[11]||(a[11]=N(()=>{},["stop"]))},[K(e.$slots,"header")],2)):M("v-if",!0),ye(x(P(Hl),{ref_key:"cascaderPanelRef",ref:E,modelValue:Le.value,"onUpdate:modelValue":a[12]||(a[12]=e=>Le.value=e),options:e.options,props:n.props,border:!1,"render-label":e.$slots.default,onExpandChange:Ge,onClose:a[13]||(a[13]=a=>e.$nextTick(()=>je(!1)))},{empty:$(()=>[K(e.$slots,"empty")]),_:3},8,["modelValue","options","props","render-label"]),[[ke,!q.value]]),e.filterable?ye((D(),_(P(ra),{key:1,ref_key:"suggestionPanel",ref:z,tag:"ul",class:T(P(c).e("suggestion-panel")),"view-class":P(c).e("suggestion-list"),onKeydown:aa},{default:$(()=>[Q.value.length?(D(!0),V(R,{key:0},F(Q.value,a=>(D(),V("li",{key:a.uid,class:T([P(c).e("suggestion-item"),P(c).is("checked",a.checked)]),tabindex:-1,onClick:e=>(e=>{var a,l;const{checked:t}=e;pe.value?null==(a=E.value)||a.handleCheckChange(e,!t,!1):(!t&&(null==(l=E.value)||l.handleCheckChange(e,!0,!1)),je(!1))})(a)},[K(e.$slots,"suggestion-item",{item:a},()=>[O("span",null,j(a.text),1),a.checked?(D(),_(P(I),{key:0},{default:$(()=>[x(P(B))]),_:1})):M("v-if",!0)])],10,Zl))),128)):K(e.$slots,"empty",{key:1},()=>[O("li",{class:T(P(c).e("empty-text"))},j(P(m)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[ke,q.value]]):M("v-if",!0),e.$slots.footer?(D(),V("div",{key:2,class:T(P(c).e("footer")),onClick:a[14]||(a[14]=N(()=>{},["stop"]))},[K(e.$slots,"footer")],2)):M("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-style","fallback-placements","placement","transition","effect","persistent"]))}}));const Ql=de(S(Gl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]));var Jl,et={exports:{}};var at=Jl?et.exports:(Jl=1,et.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d/,t=/\d\d/,n=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},r=function(e){return(e=+e)+(e>68?1900:2e3)},i=function(e){return function(a){this[e]=+a}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var a=e.match(/([+-]|\d\d)/g),l=60*a[1]+(+a[2]||0);return 0===l?0:"+"===a[0]?-l:l}(e)}],d=function(e){var a=s[e];return a&&(a.indexOf?a:a.s.concat(a.f))},c=function(e,a){var l,t=s.meridiem;if(t){for(var n=1;n<=24;n+=1)if(e.indexOf(t(n,0,a))>-1){l=n>12;break}}else l=e===(a?"pm":"PM");return l},v={A:[o,function(e){this.afternoon=c(e,!1)}],a:[o,function(e){this.afternoon=c(e,!0)}],Q:[l,function(e){this.month=3*(e-1)+1}],S:[l,function(e){this.milliseconds=100*+e}],SS:[t,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[n,i("seconds")],ss:[n,i("seconds")],m:[n,i("minutes")],mm:[n,i("minutes")],H:[n,i("hours")],h:[n,i("hours")],HH:[n,i("hours")],hh:[n,i("hours")],D:[n,i("day")],DD:[t,i("day")],Do:[o,function(e){var a=s.ordinal,l=e.match(/\d+/);if(this.day=l[0],a)for(var t=1;t<=31;t+=1)a(t).replace(/\[|\]/g,"")===e&&(this.day=t)}],w:[n,i("week")],ww:[t,i("week")],M:[n,i("month")],MM:[t,i("month")],MMM:[o,function(e){var a=d("months"),l=(d("monthsShort")||a.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(l<1)throw new Error;this.month=l%12||l}],MMMM:[o,function(e){var a=d("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,i("year")],YY:[t,function(e){this.year=r(e)}],YYYY:[/\d{4}/,i("year")],Z:u,ZZ:u};function p(l){var t,n;t=l,n=s&&s.formats;for(var o=(l=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(a,l,t){var o=t&&t.toUpperCase();return l||n[t]||e[t]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,a,l){return a||l.slice(1)})})).match(a),r=o.length,i=0;i<r;i+=1){var u=o[i],d=v[u],c=d&&d[0],p=d&&d[1];o[i]=p?{regex:c,parser:p}:u.replace(/^\[|\]$/g,"")}return function(e){for(var a={},l=0,t=0;l<r;l+=1){var n=o[l];if("string"==typeof n)t+=n.length;else{var s=n.regex,i=n.parser,u=e.slice(t),d=s.exec(u)[0];i.call(a,d),e=e.replace(d,"")}}return function(e){var a=e.afternoon;if(void 0!==a){var l=e.hours;a?l<12&&(e.hours+=12):12===l&&(e.hours=0),delete e.afternoon}}(a),a}}return function(e,a,l){l.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(r=e.parseTwoDigitYear);var t=a.prototype,n=t.parse;t.parse=function(e){var a=e.date,t=e.utc,o=e.args;this.$u=t;var r=o[1];if("string"==typeof r){var i=!0===o[2],u=!0===o[3],d=i||u,c=o[2];u&&(c=o[2]),s=this.$locale(),!i&&c&&(s=l.Ls[c]),this.$d=function(e,a,l,t){try{if(["x","X"].indexOf(a)>-1)return new Date(("X"===a?1e3:1)*e);var n=p(a)(e),o=n.year,s=n.month,r=n.day,i=n.hours,u=n.minutes,d=n.seconds,c=n.milliseconds,v=n.zone,m=n.week,f=new Date,h=r||(o||s?1:f.getDate()),b=o||f.getFullYear(),g=0;o&&!s||(g=s>0?s-1:f.getMonth());var y,k=i||0,w=u||0,x=d||0,C=c||0;return v?new Date(Date.UTC(b,g,h,k,w,x,C+60*v.offset*1e3)):l?new Date(Date.UTC(b,g,h,k,w,x,C)):(y=new Date(b,g,h,k,w,x,C),m&&(y=t(y).week(m).toDate()),y)}catch(S){return new Date("")}}(a,r,t,l),this.init(),c&&!0!==c&&(this.$L=this.locale(c).$L),d&&a!=this.format(r)&&(this.$d=new Date("")),s={}}else if(r instanceof Array)for(var v=r.length,m=1;m<=v;m+=1){o[1]=r[m-1];var f=l.apply(this,o);if(f.isValid()){this.$d=f.$d,this.$L=f.$L,this.init();break}m===v&&(this.$d=new Date(""))}else n.call(this,e)}}}());const lt=g(at),tt=["hours","minutes","seconds"],nt="EP_PICKER_BASE",ot="ElPopperOptions",st=Symbol("commonPickerContextKey"),rt="HH:mm:ss",it="YYYY-MM-DD",ut={date:it,dates:it,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${it} ${rt}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:it,datetimerange:`${it} ${rt}`},dt=(e,a)=>{const{lang:l}=A(),t=H(!1),n=H(!1),o=H(null),s=Y(()=>{const{modelValue:a}=e;return!a||m(a)&&!a.filter(Boolean).length}),r=t=>{if(!gl(e.modelValue,t)){let n;m(t)?n=t.map(a=>kl(a,e.valueFormat,l.value)):t&&(n=kl(t,e.valueFormat,l.value));a(fa,t?n:t,l.value)}},i=Y(()=>{var a;let t;if(s.value?u.value.getDefaultValue&&(t=u.value.getDefaultValue()):t=m(e.modelValue)?e.modelValue.map(a=>yl(a,e.valueFormat,l.value)):yl(null!=(a=e.modelValue)?a:"",e.valueFormat,l.value),u.value.getRangeAvailableTime){const e=u.value.getRangeAvailableTime(t);Z(e,t)||(t=e,s.value||r(xl(t)))}return m(t)&&t.some(e=>!e)&&(t=[]),t}),u=H({});return{parsedValue:i,pickerActualVisible:n,pickerOptions:u,pickerVisible:t,userInput:o,valueIsEmpty:s,emitInput:r,onCalendarChange:e=>{a("calendar-change",e)},onPanelChange:(e,l,t)=>{a("panel-change",e,l,t)},onPick:(e="",a=!1)=>{let l;t.value=a,l=m(e)?e.map(e=>e.toDate()):e?e.toDate():e,o.value=null,r(l)},onSetPickerOption:e=>{u.value[e[0]]=e[1],u.value.panelReady=!0}}},ct=G({disabledHours:{type:Q(Function)},disabledMinutes:{type:Q(Function)},disabledSeconds:{type:Q(Function)}}),vt=G({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),pt=G(i(r(r(i(r({automaticDropdown:{type:Boolean,default:!0},id:{type:Q([Array,String])},name:{type:Q([Array,String])},popperClass:xa.popperClass,popperStyle:xa.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Q([String,Object]),default:pe},editable:{type:Boolean,default:!0},prefixIcon:{type:Q([String,Object]),default:""},size:fe,readonly:Boolean,disabled:{type:Boolean,default:void 0},placeholder:{type:String,default:""},popperOptions:{type:Q(Object),default:()=>({})},modelValue:{type:Q([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Q([Date,Array])},defaultTime:{type:Q([Date,Array])},isRange:Boolean},ct),{disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Q([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:Q(String),values:Ca,default:"bottom"},fallbackPlacements:{type:Q(Array),default:["bottom","top","right","left"]}}),ve),_a(["ariaLabel"])),{showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean})),mt=G({id:{type:Q(Array)},name:{type:Q(Array)},modelValue:{type:Q([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),ft=["id","name","placeholder","value","disabled"],ht=["id","name","placeholder","value","disabled"];var bt=S(y(i(r({},{name:"PickerRangeTrigger",inheritAttrs:!1}),{__name:"picker-range-trigger",props:mt,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:a,emit:l}){const t=e,n=l,{formItem:o}=Aa(),{inputId:s}=Fa(ne({id:Y(()=>{var e;return null==(e=t.id)?void 0:e[0]})}),{formItemContext:o}),r=Ia(),i=k("date"),u=k("range"),d=H(),c=H(),{wrapperRef:v,isFocused:p}=Oa(d,{disabled:Y(()=>t.disabled)}),m=e=>{n("click",e)},f=e=>{n("mouseenter",e)},h=e=>{n("mouseleave",e)},b=e=>{n("touchstart",e)},g=e=>{n("startInput",e)},y=e=>{n("endInput",e)},w=e=>{n("startChange",e)},x=e=>{n("endChange",e)};return a({focus:()=>{var e;null==(e=d.value)||e.focus()},blur:()=>{var e,a;null==(e=d.value)||e.blur(),null==(a=c.value)||a.blur()}}),(e,a)=>(D(),V("div",{ref_key:"wrapperRef",ref:v,class:T([P(i).is("active",P(p)),e.$attrs.class]),style:we(e.$attrs.style),onClick:m,onMouseenter:f,onMouseleave:h,onTouchstartPassive:b},[K(e.$slots,"prefix"),O("input",Pe(P(r),{id:P(s),ref_key:"inputRef",ref:d,name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:e.modelValue&&e.modelValue[0],class:P(u).b("input"),disabled:e.disabled,onInput:g,onChange:w}),null,16,ft),K(e.$slots,"range-separator"),O("input",Pe(P(r),{id:e.id&&e.id[1],ref_key:"endInputRef",ref:c,name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:e.modelValue&&e.modelValue[1],class:P(u).b("input"),disabled:e.disabled,onInput:y,onChange:x}),null,16,ht),K(e.$slots,"suffix")],38))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker-range-trigger.vue"]]);const gt=y(i(r({},{name:"Picker"}),{__name:"picker",props:pt,emits:[fa,ma,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:a,emit:l}){const t=e,n=l,o=he(),s=k("date"),r=k("input"),i=k("range"),{formItem:d}=Aa(),c=w(ot,{}),v=be(t,null),p=H(),f=H(),h=H(null);let b=!1;const g=ca(),y=dt(t,n),{parsedValue:x,pickerActualVisible:C,userInput:S,pickerVisible:V,pickerOptions:B,valueIsEmpty:R,emitInput:L,onPick:E,onSetPickerOption:A,onCalendarChange:F,onPanelChange:z}=y,{isFocused:W,handleFocus:U,handleBlur:q}=Oa(f,{disabled:g,beforeFocus:()=>t.readonly,afterFocus(){t.automaticDropdown&&(V.value=!0)},beforeBlur(e){var a;return!b&&(null==(a=p.value)?void 0:a.isFocusInsideContent(e))},afterBlur(){Le(),V.value=!1,b=!1,t.validateEvent&&(null==d||d.validate("blur").catch(e=>za()))}}),X=H(!1),Z=Y(()=>[s.b("editor"),s.bm("editor",t.type),r.e("wrapper"),s.is("disabled",g.value),s.is("active",V.value),i.b("editor"),_e?i.bm("editor",_e.value):"",o.class]),G=Y(()=>[r.e("icon"),i.e("close-icon"),ye.value?"":i.em("close-icon","hidden")]);ae(V,e=>{e?oe(()=>{e&&(h.value=t.modelValue)}):(S.value=null,oe(()=>{Q(t.modelValue)}))});const Q=(e,a)=>{!a&&gl(e,h.value)||(n(ma,e),a&&(h.value=e),t.validateEvent&&(null==d||d.validate("change").catch(e=>za())))},ee=Y(()=>f.value?Array.from(f.value.$el.querySelectorAll("input")):[]),le=(e,a,l)=>{const t=ee.value;t.length&&(l&&"min"!==l?"max"===l&&(t[1].setSelectionRange(e,a),t[1].focus()):(t[0].setSelectionRange(e,a),t[0].focus()))},te=()=>{C.value=!0},ne=()=>{n("visible-change",!0)},se=()=>{C.value=!1,V.value=!1,n("visible-change",!1)},de=Y(()=>{const e=Ye(x.value);return m(S.value)?[S.value[0]||e&&e[0]||"",S.value[1]||e&&e[1]||""]:null!==S.value?S.value:!ve.value&&R.value||!V.value&&R.value?"":e?pe.value||me.value||fe.value?e.join(", "):e:""}),ce=Y(()=>t.type.includes("time")),ve=Y(()=>t.type.startsWith("time")),pe=Y(()=>"dates"===t.type),me=Y(()=>"months"===t.type),fe=Y(()=>"years"===t.type),ge=Y(()=>t.prefixIcon||(ce.value?Te:Ie)),ye=Y(()=>t.clearable&&!g.value&&!t.readonly&&!R.value&&(X.value||W.value)),ke=e=>{t.readonly||g.value||(ye.value&&(null==e||e.stopPropagation(),B.value.handleClear?B.value.handleClear():L(v.valueOnClear.value),Q(v.valueOnClear.value,!0),se()),n("clear"))},xe=e=>u(null,null,function*(){var a;t.readonly||g.value||"INPUT"===(null==(a=e.target)?void 0:a.tagName)&&!W.value&&t.automaticDropdown||(V.value=!0)}),Se=()=>{t.readonly||g.value||!R.value&&t.clearable&&(X.value=!0)},De=()=>{X.value=!1},Ve=e=>{var a;t.readonly||g.value||"INPUT"===(null==(a=e.touches[0].target)?void 0:a.tagName)&&!W.value&&t.automaticDropdown||(V.value=!0)},Me=Y(()=>t.type.includes("range")),_e=va(),Ne=Y(()=>{var e,a;return null==(a=null==(e=P(p))?void 0:e.popperRef)?void 0:a.contentRef}),Re=$e(f,e=>{const a=P(Ne),l=Be(f);a&&(e.target===a||e.composedPath().includes(a))||e.target===l||l&&e.composedPath().includes(l)||(V.value=!1)});Oe(()=>{null==Re||Re()});const Le=()=>{if(S.value){const e=Ee(de.value);e&&(Ae(e)&&L(xl(e)),S.value=null)}""===S.value&&(L(v.valueOnClear.value),Q(v.valueOnClear.value,!0),S.value=null)},Ee=e=>e?B.value.parseUserInput(e):null,Ye=e=>{if(!e)return null;return m(e)?e.map(e=>e.format(t.format)):e.format(t.format)},Ae=e=>B.value.isValidValue(e),Fe=e=>u(null,null,function*(){if(t.readonly||g.value)return;const a=re(e);if(n("keydown",e),a!==ie.esc)if(a===ie.down&&(B.value.handleFocusPicker&&(e.preventDefault(),e.stopPropagation()),!1===V.value&&(V.value=!0,yield oe()),B.value.handleFocusPicker))B.value.handleFocusPicker();else{if(a!==ie.tab)return a===ie.enter||a===ie.numpadEnter?(V.value?(null===S.value||""===S.value||Ae(Ee(de.value)))&&(Le(),V.value=!1):V.value=!0,e.preventDefault(),void e.stopPropagation()):void(S.value?e.stopPropagation():B.value.handleKeydownInput&&B.value.handleKeydownInput(e));b=!0}else!0===V.value&&(V.value=!1,e.preventDefault(),e.stopPropagation())}),ze=e=>{S.value=e,V.value||(V.value=!0)},je=e=>{const a=e.target;S.value?S.value=[a.value,S.value[1]]:S.value=[a.value,null]},Ke=e=>{const a=e.target;S.value?S.value=[S.value[0],a.value]:S.value=[null,a.value]},He=()=>{var e;const a=S.value,l=Ee(a&&a[0]),t=P(x);if(l&&l.isValid()){S.value=[Ye(l),(null==(e=de.value)?void 0:e[1])||null];const a=[l,t&&(t[1]||null)];Ae(a)&&(L(xl(a)),S.value=null)}},We=()=>{var e;const a=P(S),l=Ee(a&&a[1]),t=P(x);if(l&&l.isValid()){S.value=[(null==(e=P(de))?void 0:e[0])||null,Ye(l)];const a=[t&&t[0],l];Ae(a)&&(L(xl(a)),S.value=null)}};return ue(nt,{props:t,emptyValues:v}),ue(st,y),a({focus:()=>{var e;null==(e=f.value)||e.focus()},blur:()=>{var e;null==(e=f.value)||e.blur()},handleOpen:()=>{V.value=!0},handleClose:()=>{V.value=!1},onPick:E}),(e,a)=>(D(),_(P(Sa),Pe({ref_key:"refPopper",ref:p,visible:P(V),effect:"light",pure:"",trigger:"click"},e.$attrs,{role:"dialog",teleported:"",transition:`${P(s).namespace.value}-zoom-in-top`,"popper-class":[`${P(s).namespace.value}-picker__popper`,e.popperClass],"popper-style":e.popperStyle,"popper-options":P(c),"fallback-placements":e.fallbackPlacements,"gpu-acceleration":!1,placement:e.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:te,onShow:ne,onHide:se}),{default:$(()=>[Me.value?(D(),_(bt,{key:1,id:e.id,ref_key:"inputRef",ref:f,"model-value":de.value,name:e.name,disabled:P(g),readonly:!e.editable||e.readonly,"start-placeholder":e.startPlaceholder,"end-placeholder":e.endPlaceholder,class:T(Z.value),style:we(e.$attrs.style),"aria-label":e.ariaLabel,tabindex:e.tabindex,autocomplete:"off",role:"combobox",onClick:xe,onFocus:P(U),onBlur:P(q),onStartInput:je,onStartChange:He,onEndInput:Ke,onEndChange:We,onMousedown:xe,onMouseenter:Se,onMouseleave:De,onTouchstartPassive:Ve,onKeydown:Fe},{prefix:$(()=>[ge.value?(D(),_(P(I),{key:0,class:T([P(r).e("icon"),P(i).e("icon")])},{default:$(()=>[(D(),_(Ce(ge.value)))]),_:1},8,["class"])):M("v-if",!0)]),"range-separator":$(()=>[K(e.$slots,"range-separator",{},()=>[O("span",{class:T(P(i).b("separator"))},j(e.rangeSeparator),3)])]),suffix:$(()=>[e.clearIcon?(D(),_(P(I),{key:0,class:T(G.value),onMousedown:N(P(J),["prevent"]),onClick:ke},{default:$(()=>[(D(),_(Ce(e.clearIcon)))]),_:1},8,["class","onMousedown"])):M("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(D(),_(P(Ba),{key:0,id:e.id,ref_key:"inputRef",ref:f,"container-role":"combobox","model-value":de.value,name:e.name,size:P(_e),disabled:P(g),placeholder:e.placeholder,class:T([P(s).b("editor"),P(s).bm("editor",e.type),P(s).is("focus",P(V)),e.$attrs.class]),style:we(e.$attrs.style),readonly:!e.editable||e.readonly||pe.value||me.value||fe.value||"week"===e.type,"aria-label":e.ariaLabel,tabindex:e.tabindex,"validate-event":!1,onInput:ze,onFocus:P(U),onBlur:P(q),onKeydown:Fe,onChange:Le,onMousedown:xe,onMouseenter:Se,onMouseleave:De,onTouchstartPassive:Ve,onClick:a[0]||(a[0]=N(()=>{},["stop"]))},{prefix:$(()=>[ge.value?(D(),_(P(I),{key:0,class:T(P(r).e("icon")),onMousedown:N(xe,["prevent"]),onTouchstartPassive:Ve},{default:$(()=>[(D(),_(Ce(ge.value)))]),_:1},8,["class"])):M("v-if",!0)]),suffix:$(()=>[ye.value&&e.clearIcon?(D(),_(P(I),{key:0,class:T(`${P(r).e("icon")} clear-icon`),onMousedown:N(P(J),["prevent"]),onClick:ke},{default:$(()=>[(D(),_(Ce(e.clearIcon)))]),_:1},8,["class","onMousedown"])):M("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur"]))]),content:$(()=>[K(e.$slots,"default",{visible:P(V),actualVisible:P(C),parsedValue:P(x),format:e.format,dateFormat:e.dateFormat,timeFormat:e.timeFormat,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,showNow:e.showNow,showConfirm:e.showConfirm,showFooter:e.showFooter,showWeekNumber:e.showWeekNumber,onPick:a[1]||(a[1]=(...e)=>P(E)&&P(E)(...e)),onSelectRange:le,onSetPickerOption:a[2]||(a[2]=(...e)=>P(A)&&P(A)(...e)),onCalendarChange:a[3]||(a[3]=(...e)=>P(F)&&P(F)(...e)),onClear:ke,onPanelChange:a[4]||(a[4]=(...e)=>P(z)&&P(z)(...e)),onMousedown:a[5]||(a[5]=N(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-style","popper-options","fallback-placements","placement"]))}}));var yt=S(gt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const kt=G(i(r({},vt),{datetimeRole:String,parsedValue:{type:Q(Object)}})),wt=({getAvailableHours:e,getAvailableMinutes:a,getAvailableSeconds:l})=>{const t={};return{timePickerOptions:t,getAvailableTime:(t,n,o,s)=>{const r={hour:e,minute:a,second:l};let i=t;return["hour","minute","second"].forEach(e=>{if(r[e]){let a;const l=r[e];switch(e){case"minute":a=l(i.hour(),n,s);break;case"second":a=l(i.hour(),i.minute(),n,s);break;default:a=l(n,s)}if((null==a?void 0:a.length)&&!a.includes(i[e]())){const l=o?0:a.length-1;i=i[e](a[l])}}}),i},onSetOption:([e,a])=>{t[e]=a}}},xt=e=>e.map((e,a)=>e||a).filter(e=>!0!==e),Ct=(e,a,l)=>({getHoursList:(a,l)=>wl(24,e&&(()=>null==e?void 0:e(a,l))),getMinutesList:(e,l,t)=>wl(60,a&&(()=>null==a?void 0:a(e,l,t))),getSecondsList:(e,a,t,n)=>wl(60,l&&(()=>null==l?void 0:l(e,a,t,n)))}),St=(e,a,l)=>{const{getHoursList:t,getMinutesList:n,getSecondsList:o}=Ct(e,a,l);return{getAvailableHours:(e,a)=>xt(t(e,a)),getAvailableMinutes:(e,a,l)=>xt(n(e,a,l)),getAvailableSeconds:(e,a,l,t)=>xt(o(e,a,l,t))}},Dt=e=>{const a=H(e.parsedValue);return ae(()=>e.visible,l=>{l||(a.value=e.parsedValue)}),a},Vt=G(r({role:{type:String,required:!0},spinnerDate:{type:Q(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Q(String),default:""}},ct)),Mt=["onClick"],_t=["onMouseenter"];var Nt=S(y({__name:"basic-time-spinner",props:Vt,emits:[ma,"select-range","set-option"],setup(e,{emit:a}){const l=e,t=w(nt),{isRange:n,format:o}=t.props,s=a,r=k("time"),{getHoursList:i,getMinutesList:u,getSecondsList:d}=Ct(l.disabledHours,l.disabledMinutes,l.disabledSeconds);let c=!1;const v=H(),p={hours:H(),minutes:H(),seconds:H()},m=Y(()=>l.showSeconds?tt:tt.slice(0,2)),f=Y(()=>{const{spinnerDate:e}=l;return{hours:e.hour(),minutes:e.minute(),seconds:e.second()}}),h=Y(()=>{const{hours:e,minutes:a}=P(f),{role:t,spinnerDate:o}=l,s=n?void 0:o;return{hours:i(t,s),minutes:u(e,t,s),seconds:d(e,a,t,s)}}),b=Y(()=>{const{hours:e,minutes:a,seconds:l}=P(f);return{hours:pl(e,23),minutes:pl(a,59),seconds:pl(l,59)}}),g=nl(e=>{c=!1,S(e)},200),y=e=>{if(!!!l.amPmMode)return"";let a=e<12?" am":" pm";return"A"===l.amPmMode&&(a=a.toUpperCase()),a},C=e=>{let a=[0,0];const l=o||rt,t=l.indexOf("HH"),n=l.indexOf("mm"),r=l.indexOf("ss");switch(e){case"hours":-1!==t&&(a=[t,t+2]);break;case"minutes":-1!==n&&(a=[n,n+2]);break;case"seconds":-1!==r&&(a=[r,r+2])}const[i,u]=a;s("select-range",i,u),v.value=e},S=e=>{L(e,P(f)[e])},N=()=>{S("hours"),S("minutes"),S("seconds")},B=e=>e.querySelector(`.${r.namespace.value}-scrollbar__wrap`),L=(e,a)=>{if(l.arrowControl)return;const t=P(p[e]);t&&t.$el&&(B(t.$el).scrollTop=Math.max(0,a*E(e)))},E=e=>{const a=P(p[e]),l=null==a?void 0:a.$el.querySelector("li");return l&&Number.parseFloat(Re(l,"height"))||0},A=()=>{W(1)},K=()=>{W(-1)},W=e=>{v.value||C("hours");const a=v.value,l=P(f)[a],t="hours"===v.value?24:60,n=U(a,l,e,t);q(a,n),L(a,n),oe(()=>C(a))},U=(e,a,l,t)=>{let n=(a+l+t)%t;const o=P(h)[e];for(;o[n]&&n!==a;)n=(n+l+t)%t;return n},q=(e,a)=>{if(P(h)[e][a])return;const{hours:t,minutes:n,seconds:o}=P(f);let r;switch(e){case"hours":r=l.spinnerDate.hour(a).minute(n).second(o);break;case"minutes":r=l.spinnerDate.hour(t).minute(a).second(o);break;case"seconds":r=l.spinnerDate.hour(t).minute(n).second(a)}s(ma,r)},X=e=>P(p[e]).$el.offsetHeight,Z=()=>{const e=e=>{const a=P(p[e]);a&&a.$el&&(B(a.$el).onscroll=()=>{(e=>{const a=P(p[e]);if(!a)return;c=!0,g(e);const l=Math.min(Math.round((B(a.$el).scrollTop-(.5*X(e)-10)/E(e)+3)/E(e)),"hours"===e?23:59);q(e,l)})(e)})};e("hours"),e("minutes"),e("seconds")};te(()=>{oe(()=>{!l.arrowControl&&Z(),N(),"start"===l.role&&C("hours")})});return s("set-option",[`${l.role}_scrollDown`,W]),s("set-option",[`${l.role}_emitSelectRange`,C]),ae(()=>l.spinnerDate,()=>{c||N()}),(e,a)=>(D(),V("div",{class:T([P(r).b("spinner"),{"has-seconds":e.showSeconds}])},[e.arrowControl?M("v-if",!0):(D(!0),V(R,{key:0},F(m.value,a=>(D(),_(P(ra),{key:a,ref_for:!0,ref:e=>((e,a)=>{p[a].value=null!=e?e:void 0})(e,a),class:T(P(r).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":P(r).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:e=>C(a),onMousemove:e=>S(a)},{default:$(()=>[(D(!0),V(R,null,F(h.value[a],(l,t)=>(D(),V("li",{key:t,class:T([P(r).be("spinner","item"),P(r).is("active",t===f.value[a]),P(r).is("disabled",l)]),onClick:e=>((e,{value:a,disabled:l})=>{l||(q(e,a),C(e),L(e,a))})(a,{value:t,disabled:l})},["hours"===a?(D(),V(R,{key:0},[z(j(("0"+(e.amPmMode?t%12||12:t)).slice(-2))+j(y(t)),1)],64)):(D(),V(R,{key:1},[z(j(("0"+t).slice(-2)),1)],64))],10,Mt))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),e.arrowControl?(D(!0),V(R,{key:1},F(m.value,a=>(D(),V("div",{key:a,class:T([P(r).be("spinner","wrapper"),P(r).is("arrow")]),onMouseenter:e=>C(a)},[ye((D(),_(P(I),{class:T(["arrow-up",P(r).be("spinner","arrow")])},{default:$(()=>[x(P(Le))]),_:1},8,["class"])),[[P(ll),K]]),ye((D(),_(P(I),{class:T(["arrow-down",P(r).be("spinner","arrow")])},{default:$(()=>[x(P(Se))]),_:1},8,["class"])),[[P(ll),A]]),O("ul",{class:T(P(r).be("spinner","list"))},[(D(!0),V(R,null,F(b.value[a],(l,t)=>(D(),V("li",{key:t,class:T([P(r).be("spinner","item"),P(r).is("active",l===f.value[a]),P(r).is("disabled",h.value[a][l])])},[P(Ee)(l)?(D(),V(R,{key:0},["hours"===a?(D(),V(R,{key:0},[z(j(("0"+(e.amPmMode?l%12||12:l)).slice(-2))+j(y(l)),1)],64)):(D(),V(R,{key:1},[z(j(("0"+l).slice(-2)),1)],64))],64)):M("v-if",!0)],2))),128))],2)],42,_t))),128)):M("v-if",!0)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Pt=y({__name:"panel-time-pick",props:kt,emits:["pick","select-range","set-picker-option"],setup(e,{emit:a}){const l=e,t=a,n=w(nt),{arrowControl:o,disabledHours:s,disabledMinutes:r,disabledSeconds:i,defaultValue:u}=n.props,{getAvailableHours:d,getAvailableMinutes:c,getAvailableSeconds:v}=St(s,r,i),p=k("time"),{t:m,lang:f}=A(),b=H([0,2]),g=Dt(l),y=Y(()=>q(l.actualVisible)?`${p.namespace.value}-zoom-in-top`:""),C=Y(()=>l.format.includes("ss")),S=Y(()=>l.format.includes("A")?"A":l.format.includes("a")?"a":""),N=()=>{const e=g.value;t("pick",e,!1),oe(()=>{g.value=e})},B=e=>{if(!l.visible)return;const a=F(e).millisecond(0);t("pick",a,!0)},I=(e,a)=>{t("select-range",e,a),b.value=[e,a]},{timePickerOptions:R,onSetOption:L,getAvailableTime:E}=wt({getAvailableHours:d,getAvailableMinutes:c,getAvailableSeconds:v}),F=e=>E(e,l.datetimeRole||"",!0);return t("set-picker-option",["isValidValue",e=>{const a=h(e).locale(f.value),l=F(a);return a.isSame(l)}]),t("set-picker-option",["parseUserInput",e=>e?h(e,l.format).locale(f.value):null]),t("set-picker-option",["handleKeydownInput",e=>{const a=re(e),{left:t,right:n,up:o,down:s}=ie;if([t,n].includes(a)){return(e=>{const a=l.format,t=a.indexOf("HH"),n=a.indexOf("mm"),o=a.indexOf("ss"),s=[],r=[];-1!==t&&(s.push(t),r.push("hours")),-1!==n&&(s.push(n),r.push("minutes")),-1!==o&&C.value&&(s.push(o),r.push("seconds"));const i=(s.indexOf(b.value[0])+e+s.length)%s.length;R.start_emitSelectRange(r[i])})(a===t?-1:1),void e.preventDefault()}if([o,s].includes(a)){const l=a===o?-1:1;return R.start_scrollDown(l),void e.preventDefault()}}]),t("set-picker-option",["getRangeAvailableTime",F]),t("set-picker-option",["getDefaultValue",()=>h(u).locale(f.value)]),(e,a)=>(D(),_(Ye,{name:y.value},{default:$(()=>[e.actualVisible||e.visible?(D(),V("div",{key:0,class:T(P(p).b("panel"))},[O("div",{class:T([P(p).be("panel","content"),{"has-seconds":C.value}])},[x(Nt,{ref:"spinner",role:e.datetimeRole||"start","arrow-control":P(o),"show-seconds":C.value,"am-pm-mode":S.value,"spinner-date":e.parsedValue,"disabled-hours":P(s),"disabled-minutes":P(r),"disabled-seconds":P(i),onChange:B,onSetOption:P(L),onSelectRange:I},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),O("div",{class:T(P(p).be("panel","footer"))},[O("button",{type:"button",class:T([P(p).be("panel","btn"),"cancel"]),onClick:N},j(P(m)("el.datepicker.cancel")),3),O("button",{type:"button",class:T([P(p).be("panel","btn"),"confirm"]),onClick:a[0]||(a[0]=e=>((e=!1,a=!1)=>{a||t("pick",l.parsedValue,e)})())},j(P(m)("el.datepicker.confirm")),3)],2)],2)):M("v-if",!0)]),_:1},8,["name"]))}});var $t=S(Pt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const Ot=G(i(r({},vt),{parsedValue:{type:Q(Array)}})),Bt=["disabled"],Tt=y({__name:"panel-time-range",props:Ot,emits:["pick","select-range","set-picker-option"],setup(e,{emit:a}){const l=e,t=a,n=(e,a)=>{const l=[];for(let t=e;t<=a;t++)l.push(t);return l},{t:o,lang:s}=A(),r=k("time"),i=k("picker"),u=w(nt),{arrowControl:d,disabledHours:c,disabledMinutes:v,disabledSeconds:p,defaultValue:f}=u.props,b=Y(()=>[r.be("range-picker","body"),r.be("panel","content"),r.is("arrow",d),_.value?"has-seconds":""]),g=Y(()=>[r.be("range-picker","body"),r.be("panel","content"),r.is("arrow",d),_.value?"has-seconds":""]),y=Y(()=>l.parsedValue[0]),C=Y(()=>l.parsedValue[1]),S=Dt(l),_=Y(()=>l.format.includes("ss")),N=Y(()=>l.format.includes("A")?"A":l.format.includes("a")?"a":""),$=e=>{I(e.millisecond(0),C.value)},B=e=>{I(y.value,e.millisecond(0))},I=(e,a)=>{l.visible&&t("pick",[e,a],!0)},R=Y(()=>y.value>C.value),L=H([0,2]),E=(e,a)=>{t("select-range",e,a,"min"),L.value=[e,a]},F=Y(()=>_.value?11:8),z=(e,a)=>{t("select-range",e,a,"max");const l=P(F);L.value=[e+l,a+l]},K=(e,a)=>{const l=c?c(e):[],t="start"===e,o=(a||(t?C.value:y.value)).hour(),s=t?n(o+1,23):n(0,o-1);return vl(l,s)},W=(e,a,l)=>{const t=v?v(e,a):[],o="start"===a,s=l||(o?C.value:y.value);if(e!==s.hour())return t;const r=s.minute(),i=o?n(r+1,59):n(0,r-1);return vl(t,i)},U=(e,a,l,t)=>{const o=p?p(e,a,l):[],s="start"===l,r=t||(s?C.value:y.value),i=r.hour(),u=r.minute();if(e!==i||a!==u)return o;const d=r.second(),c=s?n(d+1,59):n(0,d-1);return vl(o,c)},q=([e,a])=>[J(e,"start",!0,a),J(a,"end",!1,e)],{getAvailableHours:X,getAvailableMinutes:Z,getAvailableSeconds:G}=St(K,W,U),{timePickerOptions:Q,getAvailableTime:J,onSetOption:ee}=wt({getAvailableHours:X,getAvailableMinutes:Z,getAvailableSeconds:G});return t("set-picker-option",["parseUserInput",e=>e?m(e)?e.map(e=>h(e,l.format).locale(s.value)):h(e,l.format).locale(s.value):null]),t("set-picker-option",["isValidValue",e=>{const a=e.map(e=>h(e).locale(s.value)),l=q(a);return a[0].isSame(l[0])&&a[1].isSame(l[1])}]),t("set-picker-option",["handleKeydownInput",e=>{const a=re(e),{left:l,right:t,up:n,down:o}=ie;if([l,t].includes(a)){return(e=>{const a=_.value?[0,3,6,11,14,17]:[0,3,8,11],l=["hours","minutes"].concat(_.value?["seconds"]:[]),t=(a.indexOf(L.value[0])+e+a.length)%a.length,n=a.length/2;t<n?Q.start_emitSelectRange(l[t]):Q.end_emitSelectRange(l[t-n])})(a===l?-1:1),void e.preventDefault()}if([n,o].includes(a)){const l=a===n?-1:1,t=L.value[0]<F.value?"start":"end";return Q[`${t}_scrollDown`](l),void e.preventDefault()}}]),t("set-picker-option",["getDefaultValue",()=>{if(m(f))return f.map(e=>h(e).locale(s.value));const e=h(f).locale(s.value);return[e,e.add(60,"m")]}]),t("set-picker-option",["getRangeAvailableTime",q]),(e,a)=>e.actualVisible?(D(),V("div",{key:0,class:T([P(r).b("range-picker"),P(i).b("panel")])},[O("div",{class:T(P(r).be("range-picker","content"))},[O("div",{class:T(P(r).be("range-picker","cell"))},[O("div",{class:T(P(r).be("range-picker","header"))},j(P(o)("el.datepicker.startTime")),3),O("div",{class:T(b.value)},[x(Nt,{ref:"minSpinner",role:"start","show-seconds":_.value,"am-pm-mode":N.value,"arrow-control":P(d),"spinner-date":y.value,"disabled-hours":K,"disabled-minutes":W,"disabled-seconds":U,onChange:$,onSetOption:P(ee),onSelectRange:E},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),O("div",{class:T(P(r).be("range-picker","cell"))},[O("div",{class:T(P(r).be("range-picker","header"))},j(P(o)("el.datepicker.endTime")),3),O("div",{class:T(g.value)},[x(Nt,{ref:"maxSpinner",role:"end","show-seconds":_.value,"am-pm-mode":N.value,"arrow-control":P(d),"spinner-date":C.value,"disabled-hours":K,"disabled-minutes":W,"disabled-seconds":U,onChange:B,onSetOption:P(ee),onSelectRange:z},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),O("div",{class:T(P(r).be("panel","footer"))},[O("button",{type:"button",class:T([P(r).be("panel","btn"),"cancel"]),onClick:a[0]||(a[0]=e=>(()=>{const e=S.value;t("pick",e,!1),oe(()=>{S.value=e})})())},j(P(o)("el.datepicker.cancel")),3),O("button",{type:"button",class:T([P(r).be("panel","btn"),"confirm"]),disabled:R.value,onClick:a[1]||(a[1]=e=>((e=!1)=>{t("pick",[y.value,C.value],e)})())},j(P(o)("el.datepicker.confirm")),11,Bt)],2)],2)):M("v-if",!0)}});var It=S(Tt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);h.extend(lt);const Rt=de(y({name:"ElTimePicker",install:null,props:i(r({},pt),{isRange:Boolean}),emits:[fa],setup(e,a){const l=H(),[t,n]=e.isRange?["timerange",It]:["time",$t],o=e=>a.emit(fa,e);return ue(ot,e.popperOptions),a.expose({focus:()=>{var e;null==(e=l.value)||e.focus()},blur:()=>{var e;null==(e=l.value)||e.blur()},handleOpen:()=>{var e;null==(e=l.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=l.value)||e.handleClose()}}),()=>{var a;const s=null!=(a=e.format)?a:rt;return x(yt,Pe(e,{ref:l,type:t,format:s,"onUpdate:modelValue":o}),{default:e=>x(n,e,null)})}}}));var Lt,Et={exports:{}};var Yt=Lt?Et.exports:(Lt=1,Et.exports=function(e,a){var l=a.prototype,t=l.format;l.format=function(e){var a=this,l=this.$locale();if(!this.isValid())return t.bind(this)(e);var n=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return n.s(a.week(),"w"===e?1:2,"0");case"W":case"WW":return n.s(a.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return n.s(String(0===a.$H?24:a.$H),"k"===e?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return e}});return t.bind(this)(o)}});const At=g(Yt);var Ft,zt,jt,Kt={exports:{}};const Ht=g(Ft?Kt.exports:(Ft=1,Kt.exports=(zt="week",jt="year",function(e,a,l){var t=a.prototype;t.week=function(e){if(void 0===e&&(e=null),null!==e)return this.add(7*(e-this.week()),"day");var a=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var t=l(this).startOf(jt).add(1,jt).date(a),n=l(this).endOf(zt);if(t.isBefore(n))return 1}var o=l(this).startOf(jt).date(a).startOf(zt).subtract(1,"millisecond"),s=this.diff(o,zt,!0);return s<0?l(this).startOf("week").week():Math.ceil(s)},t.weeks=function(e){return void 0===e&&(e=null),this.week(e)}})));var Wt,Ut={exports:{}};var qt=(Wt||(Wt=1,Ut.exports=function(e,a){a.prototype.weekYear=function(){var e=this.month(),a=this.week(),l=this.year();return 1===a&&11===e?l+1:0===e&&a>=52?l-1:l}}),Ut.exports);const Xt=g(qt);var Zt,Gt={exports:{}};var Qt=(Zt||(Zt=1,Gt.exports=function(e,a,l){a.prototype.dayOfYear=function(e){var a=Math.round((l(this).startOf("day")-l(this).startOf("year"))/864e5)+1;return null==e?a:this.add(e-a,"day")}}),Gt.exports);const Jt=g(Qt);var en,an={exports:{}};var ln=(en||(en=1,an.exports=function(e,a){a.prototype.isSameOrAfter=function(e,a){return this.isSame(e,a)||this.isAfter(e,a)}}),an.exports);const tn=g(ln);var nn,on={exports:{}};const sn=g(nn?on.exports:(nn=1,on.exports=function(e,a){a.prototype.isSameOrBefore=function(e,a){return this.isSame(e,a)||this.isBefore(e,a)}})),rn=G(i(r({valueFormat:String,dateFormat:String,timeFormat:String,disabled:{type:Boolean,default:void 0},modelValue:{type:Q([Date,Array,String,Number]),default:""},defaultValue:{type:Q([Date,Array])},defaultTime:{type:Q([Date,Array])},isRange:Boolean},ct),{disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:Q(String),default:"date"},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0}})),un=Symbol("rootPickerContextKey"),dn="ElIsDefaultFormat",cn=["date","dates","year","years","month","months","week","range"],vn=G({cellClassName:{type:Q(Function)},disabledDate:{type:Q(Function)},date:{type:Q(Object),required:!0},minDate:{type:Q(Object)},maxDate:{type:Q(Object)},parsedValue:{type:Q([Object,Array])},rangeState:{type:Q(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),pn=G({type:{type:Q(String),required:!0,values:["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"]},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean,editable:{type:Boolean,default:!0}}),mn=G({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:Q(Array)}}),fn=e=>({type:String,values:cn,default:e}),hn=G(i(r({},pn),{parsedValue:{type:Q([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:""}})),bn=e=>{if(!m(e))return!1;const[a,l]=e;return h.isDayjs(a)&&h.isDayjs(l)&&h(a).isValid()&&h(l).isValid()&&a.isSameOrBefore(l)},gn=(e,{lang:a,step:l=1,unit:t,unlinkPanels:n})=>{let o;if(m(e)){let[o,s]=e.map(e=>h(e).locale(a));return n||(s=o.add(l,t)),[o,s]}return o=e?h(e):h(),o=o.locale(a),[o,o.add(l,t)]},yn=(e,a,l,t)=>{const n=h().locale(t).startOf("month").month(l).year(a).hour(e.hour()).minute(e.minute()).second(e.second()),o=n.daysInMonth();return ml(o).map(e=>n.add(e,"day").toDate())},kn=(e,a,l,t,n)=>{const o=h().year(a).month(l).startOf("month").hour(e.hour()).minute(e.minute()).second(e.second()),s=yn(e,a,l,t).find(e=>!(null==n?void 0:n(e)));return s?h(s).locale(t):o.locale(t)},wn=(e,a,l)=>{const t=e.year();if(!(null==l?void 0:l(e.toDate())))return e.locale(a);const n=e.month();if(!yn(e,t,n,a).every(l))return kn(e,t,n,a,l);for(let o=0;o<12;o++)if(!yn(e,t,o,a).every(l))return kn(e,t,o,a,l);return e},xn=(e,a,l,t)=>{if(m(e))return e.map(e=>xn(e,a,l,t));if(Ae(e)){const l=(null==t?void 0:t.value)?h(e):h(e,a);if(!l.isValid())return l}return h(e,a).locale(l)},Cn=G(i(r({},vn),{showWeekNumber:Boolean,selectionMode:fn("date")})),Sn=(e="")=>["normal","today"].includes(e),Dn=(e,a)=>{const{lang:l}=A(),t=H(),n=H(),o=H(),s=H(),r=H([[],[],[],[],[],[]]);let i=!1;const d=e.date.$locale().weekStart||7,c=e.date.locale("en").localeData().weekdaysShort().map(e=>e.toLowerCase()),v=Y(()=>d>3?7-d:-d),p=Y(()=>{const a=e.date.startOf("month");return a.subtract(a.day()||7,"day")}),f=Y(()=>c.concat(c).slice(d,d+7)),b=Y(()=>Na(P(x)).some(e=>e.isCurrent)),g=Y(()=>{const a=e.date.startOf("month");return{startOfMonthDay:a.day()||7,dateCountOfMonth:a.daysInMonth(),dateCountOfLastMonth:a.subtract(1,"month").daysInMonth()}}),y=Y(()=>"dates"===e.selectionMode?wa(e.parsedValue):[]),k=(a,{columnIndex:l,rowIndex:t},n)=>{const{disabledDate:o,cellClassName:s}=e,r=P(y),i=((e,{count:a,rowIndex:l,columnIndex:t})=>{const{startOfMonthDay:n,dateCountOfMonth:o,dateCountOfLastMonth:s}=P(g),r=P(v);if(!(l>=0&&l<=1))return a<=o?e.text=a:(e.text=a-o,e.type="next-month"),!0;{const o=n+r<0?7+n+r:n+r;if(t+7*l>=o)return e.text=a,!0;e.text=s-(o-t%7)+1+7*l,e.type="prev-month"}return!1})(a,{count:n,rowIndex:t,columnIndex:l}),u=a.dayjs.toDate();return a.selected=r.find(e=>e.isSame(a.dayjs,"day")),a.isSelected=!!a.selected,a.isCurrent=S(a),a.disabled=null==o?void 0:o(u),a.customClass=null==s?void 0:s(u),i},w=a=>{if("week"===e.selectionMode){const[l,t]=e.showWeekNumber?[1,7]:[0,6],n=_(a[l+1]);a[l].inRange=n,a[l].start=n,a[t].inRange=n,a[t].end=n}},x=Y(()=>{const{minDate:a,maxDate:t,rangeState:n,showWeekNumber:o}=e,s=P(v),i=P(r),u="day";let d=1;if(((e,a,{columnIndexOffset:l,startDate:t,nextEndDate:n,now:o,unit:s,relativeDateGetter:r,setCellMetadata:i,setRowMetadata:u})=>{for(let d=0;d<e.row;d++){const c=a[d];for(let a=0;a<e.column;a++){let u=c[a+l];u||(u={row:d,column:a,type:"normal",inRange:!1,start:!1,end:!1});const v=r(d*e.column+a);u.dayjs=v,u.date=v.toDate(),u.timestamp=v.valueOf(),u.type="normal",u.inRange=!!(t&&v.isSameOrAfter(t,s)&&n&&v.isSameOrBefore(n,s))||!!(t&&v.isSameOrBefore(t,s)&&n&&v.isSameOrAfter(n,s)),(null==t?void 0:t.isSameOrAfter(n))?(u.start=!!n&&v.isSame(n,s),u.end=t&&v.isSame(t,s)):(u.start=!!t&&v.isSame(t,s),u.end=!!n&&v.isSame(n,s)),v.isSame(o,s)&&(u.type="today"),null==i||i(u,{rowIndex:d,columnIndex:a}),c[a+l]=u}null==u||u(c)}})({row:6,column:7},i,{startDate:a,columnIndexOffset:o?1:0,nextEndDate:n.endDate||t||n.selecting&&a||null,now:h().locale(P(l)).startOf(u),unit:u,relativeDateGetter:e=>P(p).add(e-s,u),setCellMetadata:(...e)=>{k(...e,d)&&(d+=1)},setRowMetadata:w}),o)for(let e=0;e<6;e++)i[e][1].dayjs&&(i[e][0]={type:"week",text:i[e][1].dayjs.week()});return i});ae(()=>e.date,()=>u(null,null,function*(){var e;(null==(e=P(t))?void 0:e.contains(document.activeElement))&&(yield oe(),yield C())}));const C=()=>u(null,null,function*(){var e;return null==(e=P(n))?void 0:e.focus()}),S=a=>"date"===e.selectionMode&&Sn(a.type)&&D(a,e.parsedValue),D=(a,t)=>!!t&&h(t).locale(P(l)).isSame(e.date.date(Number(a.text)),"day"),V=(a,l)=>{const t=7*a+(l-(e.showWeekNumber?1:0))-P(v);return P(p).add(t,"day")},M=(l,t=!1)=>{if(e.disabled)return;const n=l.target.closest("td");if(!n)return;const o=n.parentNode.rowIndex-1,s=n.cellIndex,r=P(x)[o][s];if(r.disabled||"week"===r.type)return;const i=V(o,s);switch(e.selectionMode){case"range":(l=>{e.rangeState.selecting&&e.minDate?(l>=e.minDate?a("pick",{minDate:e.minDate,maxDate:l}):a("pick",{minDate:l,maxDate:e.minDate}),a("select",!1)):(a("pick",{minDate:l,maxDate:null}),a("select",!0))})(i);break;case"date":a("pick",i,t);break;case"week":(e=>{const l=e.week(),t=`${e.year()}w${l}`;a("pick",{year:e.year(),week:l,value:t,date:e.startOf("week")})})(i);break;case"dates":((l,t)=>{const n=t?wa(e.parsedValue).filter(e=>(null==e?void 0:e.valueOf())!==l.valueOf()):wa(e.parsedValue).concat([l]);a("pick",n)})(i,!!r.selected)}},_=a=>{if("week"!==e.selectionMode)return!1;let l=e.date.startOf("day");if("prev-month"===a.type&&(l=l.subtract(1,"month")),"next-month"===a.type&&(l=l.add(1,"month")),l=l.date(Number.parseInt(a.text,10)),e.parsedValue&&!m(e.parsedValue)){const a=(e.parsedValue.day()-d+7)%7-1;return e.parsedValue.subtract(a,"day").isSame(l,"day")}return!1};return{WEEKS:f,rows:x,tbodyRef:t,currentCellRef:n,focus:C,isCurrent:S,isWeekActive:_,isSelectedCell:e=>!P(b)&&1===(null==e?void 0:e.text)&&Sn(e.type)||e.isCurrent,handlePickDate:M,handleMouseUp:e=>{e.target.closest("td")&&(i=!1)},handleMouseDown:e=>{e.target.closest("td")&&(i=!0)},handleMouseMove:l=>{var t;if(!e.rangeState.selecting)return;let n=l.target;if("SPAN"===n.tagName&&(n=null==(t=n.parentNode)?void 0:t.parentNode),"DIV"===n.tagName&&(n=n.parentNode),"TD"!==n.tagName)return;const r=n.parentNode.rowIndex-1,i=n.cellIndex;P(x)[r][i].disabled||r===P(o)&&i===P(s)||(o.value=r,s.value=i,a("changerange",{selecting:!0,endDate:V(r,i)}))},handleFocus:a=>{i||P(b)||"date"!==e.selectionMode||M(a,!0)}}};var Vn=y({name:"ElDatePickerCell",props:G({cell:{type:Q(Object)}}),setup(e){const a=k("date-table-cell"),{slots:l}=w(un);return()=>{const{cell:t}=e;return K(l,"default",r({},t),()=>{var e;return[x("div",{class:a.b()},[x("span",{class:a.e("text")},[null!=(e=null==t?void 0:t.renderText)?e:null==t?void 0:t.text])])]})}}});const Mn=["aria-label"],_n=["aria-label"],Nn=["aria-current","aria-selected","tabindex","aria-disabled"],Pn=y({__name:"basic-date-table",props:Cn,emits:["changerange","pick","select"],setup(e,{expose:a,emit:l}){const t=e,n=l,{WEEKS:o,rows:s,tbodyRef:r,currentCellRef:i,focus:u,isCurrent:d,isWeekActive:c,isSelectedCell:v,handlePickDate:p,handleMouseUp:m,handleMouseDown:f,handleMouseMove:h,handleFocus:b}=Dn(t,n),{tableLabel:g,tableKls:y,getCellClasses:w,getRowKls:C,weekHeaderClass:S,t:_}=((e,{isCurrent:a,isWeekActive:l})=>{const t=k("date-table"),{t:n}=A();return{tableKls:Y(()=>[t.b(),t.is("week-mode","week"===e.selectionMode&&!e.disabled)]),tableLabel:Y(()=>n("el.datepicker.dateTablePrompt")),weekHeaderClass:t.e("week-header"),getCellClasses:l=>{const t=[];return Sn(l.type)&&!l.disabled?(t.push("available"),"today"===l.type&&t.push("today")):t.push(l.type),a(l)&&t.push("current"),l.inRange&&(Sn(l.type)||"week"===e.selectionMode)&&(t.push("in-range"),l.start&&t.push("start-date"),l.end&&t.push("end-date")),(l.disabled||e.disabled)&&t.push("disabled"),l.selected&&t.push("selected"),l.customClass&&t.push(l.customClass),t.join(" ")},getRowKls:e=>[t.e("row"),{current:l(e)}],t:n}})(t,{isCurrent:d,isWeekActive:c});let N=!1;return Oe(()=>{N=!0}),a({focus:u}),(e,a)=>(D(),V("table",{"aria-label":P(g),class:T(P(y)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:a[1]||(a[1]=(...e)=>P(p)&&P(p)(...e)),onMousemove:a[2]||(a[2]=(...e)=>P(h)&&P(h)(...e)),onMousedown:a[3]||(a[3]=(...e)=>P(f)&&P(f)(...e)),onMouseup:a[4]||(a[4]=(...e)=>P(m)&&P(m)(...e))},[O("tbody",{ref_key:"tbodyRef",ref:r},[O("tr",null,[e.showWeekNumber?(D(),V("th",{key:0,scope:"col",class:T(P(S))},null,2)):M("v-if",!0),(D(!0),V(R,null,F(P(o),(e,a)=>(D(),V("th",{key:a,"aria-label":P(_)("el.datepicker.weeksFull."+e),scope:"col"},j(P(_)("el.datepicker.weeks."+e)),9,_n))),128))]),(D(!0),V(R,null,F(P(s),(l,t)=>(D(),V("tr",{key:t,class:T(P(C)(e.showWeekNumber?l[2]:l[1]))},[(D(!0),V(R,null,F(l,(l,n)=>(D(),V("td",{key:`${t}.${n}`,ref_for:!0,ref:e=>!P(N)&&P(v)(l)&&(i.value=e),class:T(P(w)(l)),"aria-current":l.isCurrent?"date":void 0,"aria-selected":l.isCurrent,tabindex:e.disabled?void 0:P(v)(l)?0:-1,"aria-disabled":e.disabled,onFocus:a[0]||(a[0]=(...e)=>P(b)&&P(b)(...e))},[x(P(Vn),{cell:l},null,8,["cell"])],42,Nn))),128))],2))),128))],512)],42,Mn))}});var $n=S(Pn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-date-table.vue"]]);const On=G(i(r({},vn),{selectionMode:fn("month")})),Bn=["aria-label"],Tn=["aria-selected","aria-label","tabindex","onKeydown"],In=y({__name:"basic-month-table",props:On,emits:["changerange","pick","select"],setup(e,{expose:a,emit:l}){const t=e,n=l,o=k("month-table"),{t:s,lang:d}=A(),c=H(),v=H(),p=H(t.date.locale("en").localeData().monthsShort().map(e=>e.toLowerCase())),m=H([[],[],[]]),f=H(),b=H(),g=Y(()=>{var e,a,l;const n=m.value,o=h().locale(d.value).startOf("month");for(let s=0;s<3;s++){const r=n[s];for(let n=0;n<4;n++){const i=r[n]||(r[n]={row:s,column:n,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});i.type="normal";const u=4*s+n,d=t.date.startOf("year").month(u),c=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate||null;i.inRange=!!(t.minDate&&d.isSameOrAfter(t.minDate,"month")&&c&&d.isSameOrBefore(c,"month"))||!!(t.minDate&&d.isSameOrBefore(t.minDate,"month")&&c&&d.isSameOrAfter(c,"month")),(null==(e=t.minDate)?void 0:e.isSameOrAfter(c))?(i.start=!(!c||!d.isSame(c,"month")),i.end=t.minDate&&d.isSame(t.minDate,"month")):(i.start=!(!t.minDate||!d.isSame(t.minDate,"month")),i.end=!(!c||!d.isSame(c,"month")));o.isSame(d)&&(i.type="today");const v=d.toDate();i.text=u,i.disabled=(null==(a=t.disabledDate)?void 0:a.call(t,v))||!1,i.date=v,i.customClass=null==(l=t.cellClassName)?void 0:l.call(t,v),i.dayjs=d,i.timestamp=d.valueOf(),i.isSelected=w(i)}}return n}),y=e=>{const a={},l=t.date.year(),n=new Date,o=e.text;return a.disabled=t.disabled||!!t.disabledDate&&yn(t.date,l,o,d.value).every(t.disabledDate),a.current=wa(t.parsedValue).some(e=>h.isDayjs(e)&&e.year()===l&&e.month()===o),a.today=n.getFullYear()===l&&n.getMonth()===o,e.customClass&&(a[e.customClass]=!0),e.inRange&&(a["in-range"]=!0,e.start&&(a["start-date"]=!0),e.end&&(a["end-date"]=!0)),a},w=e=>{const a=t.date.year(),l=e.text;return wa(t.date).some(e=>e.year()===a&&e.month()===l)},C=e=>{var a;if(!t.rangeState.selecting)return;let l=e.target;if("SPAN"===l.tagName&&(l=null==(a=l.parentNode)?void 0:a.parentNode),"DIV"===l.tagName&&(l=l.parentNode),"TD"!==l.tagName)return;const o=l.parentNode.rowIndex,s=l.cellIndex;g.value[o][s].disabled||o===f.value&&s===b.value||(f.value=o,b.value=s,n("changerange",{selecting:!0,endDate:t.date.startOf("year").month(4*o+s)}))},S=e=>{var a;if(t.disabled)return;const l=null==(a=e.target)?void 0:a.closest("td");if("TD"!==(null==l?void 0:l.tagName))return;if(Fe(l,"disabled"))return;const o=l.cellIndex,s=4*l.parentNode.rowIndex+o,r=t.date.startOf("year").month(s);if("months"===t.selectionMode){if("keydown"===e.type)return void n("pick",wa(t.parsedValue),!1);const a=kn(t.date,t.date.year(),s,d.value,t.disabledDate),o=Fe(l,"current")?wa(t.parsedValue).filter(e=>(null==e?void 0:e.year())!==a.year()||(null==e?void 0:e.month())!==a.month()):wa(t.parsedValue).concat([h(a)]);n("pick",o)}else"range"===t.selectionMode?t.rangeState.selecting?(t.minDate&&r>=t.minDate?n("pick",{minDate:t.minDate,maxDate:r}):n("pick",{minDate:r,maxDate:t.minDate}),n("select",!1)):(n("pick",{minDate:r,maxDate:null}),n("select",!0)):n("pick",s)};return ae(()=>t.date,()=>u(null,null,function*(){var e,a;(null==(e=c.value)?void 0:e.contains(document.activeElement))&&(yield oe(),null==(a=v.value)||a.focus())})),a({focus:()=>{var e;null==(e=v.value)||e.focus()}}),(e,a)=>(D(),V("table",{role:"grid","aria-label":P(s)("el.datepicker.monthTablePrompt"),class:T(P(o).b()),onClick:S,onMousemove:C},[O("tbody",{ref_key:"tbodyRef",ref:c},[(D(!0),V(R,null,F(g.value,(e,a)=>(D(),V("tr",{key:a},[(D(!0),V(R,null,F(e,(e,a)=>(D(),V("td",{key:a,ref_for:!0,ref:a=>e.isSelected&&(v.value=a),class:T(y(e)),"aria-selected":!!e.isSelected,"aria-label":P(s)("el.datepicker.month"+(+e.text+1)),tabindex:e.isSelected?0:-1,onKeydown:[De(N(S,["prevent","stop"]),["space"]),De(N(S,["prevent","stop"]),["enter"])]},[x(P(Vn),{cell:i(r({},e),{renderText:P(s)("el.datepicker.months."+p.value[e.text])})},null,8,["cell"])],42,Tn))),128))]))),128))],512)],42,Bn))}});var Rn=S(In,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-month-table.vue"]]);const Ln=G(i(r({},vn),{selectionMode:fn("year")})),En=["aria-label"],Yn=["aria-selected","aria-label","tabindex","onKeydown"],An=y({__name:"basic-year-table",props:Ln,emits:["changerange","pick","select"],setup(e,{expose:a,emit:l}){const t=e,n=l,o=k("year-table"),{t:s,lang:r}=A(),i=H(),d=H(),c=Y(()=>10*Math.floor(t.date.year()/10)),v=H([[],[],[]]),p=H(),m=H(),f=Y(()=>{var e,a,l;const n=v.value,o=h().locale(r.value).startOf("year");for(let s=0;s<3;s++){const r=n[s];for(let n=0;n<4&&!(4*s+n>=10);n++){let i=r[n];i||(i={row:s,column:n,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0}),i.type="normal";const u=4*s+n+c.value,d=h().year(u),v=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate||null;i.inRange=!!(t.minDate&&d.isSameOrAfter(t.minDate,"year")&&v&&d.isSameOrBefore(v,"year"))||!!(t.minDate&&d.isSameOrBefore(t.minDate,"year")&&v&&d.isSameOrAfter(v,"year")),(null==(e=t.minDate)?void 0:e.isSameOrAfter(v))?(i.start=!(!v||!d.isSame(v,"year")),i.end=!(!t.minDate||!d.isSame(t.minDate,"year"))):(i.start=!(!t.minDate||!d.isSame(t.minDate,"year")),i.end=!(!v||!d.isSame(v,"year")));o.isSame(d)&&(i.type="today"),i.text=u;const p=d.toDate();i.disabled=(null==(a=t.disabledDate)?void 0:a.call(t,p))||!1,i.date=p,i.customClass=null==(l=t.cellClassName)?void 0:l.call(t,p),i.dayjs=d,i.timestamp=d.valueOf(),i.isSelected=g(i),r[n]=i}}return n}),b=e=>{const a={},l=h().locale(r.value),n=e.text;return a.disabled=t.disabled||!!t.disabledDate&&((e,a)=>{const l=h(String(e)).locale(a).startOf("year"),t=l.endOf("year").dayOfYear();return ml(t).map(e=>l.add(e,"day").toDate())})(n,r.value).every(t.disabledDate),a.today=l.year()===n,a.current=wa(t.parsedValue).some(e=>e.year()===n),e.customClass&&(a[e.customClass]=!0),e.inRange&&(a["in-range"]=!0,e.start&&(a["start-date"]=!0),e.end&&(a["end-date"]=!0)),a},g=e=>{const a=e.text;return wa(t.date).some(e=>e.year()===a)},y=e=>{var a;if(t.disabled)return;const l=null==(a=e.target)?void 0:a.closest("td");if(!l||!l.textContent||Fe(l,"disabled"))return;const o=l.cellIndex,s=4*l.parentNode.rowIndex+o+c.value,i=h().year(s);if("range"===t.selectionMode)t.rangeState.selecting?(t.minDate&&i>=t.minDate?n("pick",{minDate:t.minDate,maxDate:i}):n("pick",{minDate:i,maxDate:t.minDate}),n("select",!1)):(n("pick",{minDate:i,maxDate:null}),n("select",!0));else if("years"===t.selectionMode){if("keydown"===e.type)return void n("pick",wa(t.parsedValue),!1);const a=wn(i.startOf("year"),r.value,t.disabledDate),o=Fe(l,"current")?wa(t.parsedValue).filter(e=>(null==e?void 0:e.year())!==s):wa(t.parsedValue).concat([a]);n("pick",o)}else n("pick",s)},w=e=>{var a;if(!t.rangeState.selecting)return;const l=null==(a=e.target)?void 0:a.closest("td");if(!l)return;const o=l.parentNode.rowIndex,s=l.cellIndex;f.value[o][s].disabled||o===p.value&&s===m.value||(p.value=o,m.value=s,n("changerange",{selecting:!0,endDate:h().year(c.value).add(4*o+s,"year")}))};return ae(()=>t.date,()=>u(null,null,function*(){var e,a;(null==(e=i.value)?void 0:e.contains(document.activeElement))&&(yield oe(),null==(a=d.value)||a.focus())})),a({focus:()=>{var e;null==(e=d.value)||e.focus()}}),(e,a)=>(D(),V("table",{role:"grid","aria-label":P(s)("el.datepicker.yearTablePrompt"),class:T(P(o).b()),onClick:y,onMousemove:w},[O("tbody",{ref_key:"tbodyRef",ref:i},[(D(!0),V(R,null,F(f.value,(e,a)=>(D(),V("tr",{key:a},[(D(!0),V(R,null,F(e,(e,l)=>(D(),V("td",{key:`${a}_${l}`,ref_for:!0,ref:a=>e.isSelected&&(d.value=a),class:T(["available",b(e)]),"aria-selected":e.isSelected,"aria-label":String(e.text),tabindex:e.isSelected?0:-1,onKeydown:[De(N(y,["prevent","stop"]),["space"]),De(N(y,["prevent","stop"]),["enter"])]},[x(P(Vn),{cell:e},null,8,["cell"])],42,Yn))),128))]))),128))],512)],42,En))}});var Fn=S(An,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-year-table.vue"]]);const zn=["disabled","onClick"],jn=["aria-label","disabled"],Kn=["aria-label","disabled"],Hn=["tabindex","aria-disabled"],Wn=["tabindex","aria-disabled"],Un=["aria-label","disabled"],qn=["aria-label","disabled"],Xn=y({__name:"panel-date-pick",props:hn,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:a}){const l=e,t=a,n=k("picker-panel"),o=k("date-picker"),s=he(),r=ee(),{t:i,lang:d}=A(),c=w(nt),v=w(dn,void 0),{shortcuts:p,disabledDate:f,cellClassName:b,defaultTime:g}=c.props,y=ze(c.props,"defaultValue"),C=H(),S=H(h().locale(d.value)),N=H(!1);let B=!1;const L=Y(()=>h(g).locale(d.value)),W=Y(()=>S.value.month()),q=Y(()=>S.value.year()),X=H([]),Z=H(null),G=H(null),Q=e=>!(X.value.length>0)||(X.value,l.format,!0),J=e=>!g||Oe.value||N.value||B?xe.value?e.millisecond(0):e.startOf("day"):L.value.year(e.year()).month(e.month()).date(e.date()),le=(e,...a)=>{if(e)if(m(e)){const l=e.map(J);t("pick",l,...a)}else t("pick",J(e),...a);else t("pick",e,...a);Z.value=null,G.value=null,N.value=!1,B=!1},te=(e,a)=>u(null,null,function*(){if("date"===ce.value&&h.isDayjs(e)){const t=Da(l.parsedValue);let n=t?t.year(e.year()).month(e.month()).date(e.date()):e;Q(),S.value=n,le(n,xe.value||a)}else"week"===ce.value?le(e.date):"dates"===ce.value&&le(e,!0)}),ne=e=>{const a=e?"add":"subtract";S.value=S.value[a](1,"month"),Xe("month")},se=e=>{const a=S.value,l=e?"add":"subtract";S.value="year"===ue.value?a[l](10,"year"):a[l](1,"year"),Xe("year")},ue=H("date"),de=Y(()=>{const e=i("el.datepicker.year");if("year"===ue.value){const a=10*Math.floor(q.value/10);return e?`${a} ${e} - ${a+9} ${e}`:`${a} - ${a+9}`}return`${q.value} ${e}`}),ce=Y(()=>{const{type:e}=l;return["week","month","months","year","years","dates"].includes(e)?e:"date"}),ve=Y(()=>"dates"===ce.value||"months"===ce.value||"years"===ce.value),pe=Y(()=>"date"===ce.value?ue.value:ce.value),me=Y(()=>!!p.length),fe=(e,a)=>u(null,null,function*(){"month"===ce.value?(S.value=kn(S.value,S.value.year(),e,d.value,f),le(S.value,!1)):"months"===ce.value?le(e,null==a||a):(S.value=kn(S.value,S.value.year(),e,d.value,f),ue.value="date",["month","year","date","week"].includes(ce.value)&&(le(S.value,!0),yield oe(),We())),Xe("month")}),be=(e,a)=>u(null,null,function*(){if("year"===ce.value){const a=S.value.startOf("year").year(e);S.value=wn(a,d.value,f),le(S.value,!1)}else if("years"===ce.value)le(e,null==a||a);else{const a=S.value.year(e);S.value=wn(a,d.value,f),ue.value="month",["month","year","date","week"].includes(ce.value)&&(le(S.value,!0),yield oe(),We())}Xe("year")}),ge=ca(),we=e=>u(null,null,function*(){ge.value||(ue.value=e,yield oe(),We())}),xe=Y(()=>"datetime"===l.type||"datetimerange"===l.type),Ce=Y(()=>{const e=xe.value||"dates"===ce.value,a="years"===ce.value,l="months"===ce.value,t="date"===ue.value,n="year"===ue.value,o="month"===ue.value;return e&&t||a&&n||l&&o}),Se=Y(()=>!ve.value&&l.showNow||l.showConfirm),Ve=Y(()=>!!f&&(!l.parsedValue||(m(l.parsedValue)?f(l.parsedValue[0].toDate()):f(l.parsedValue.toDate())))),Me=()=>{if(ve.value)le(l.parsedValue);else{let e=Da(l.parsedValue);if(!e){const a=h(g).locale(d.value),l=Fe();e=a.year(l.year()).month(l.month()).date(l.date())}S.value=e,le(e)}},_e=Y(()=>!!f&&f(h().locale(d.value).toDate())),Ne=()=>{const e=h().locale(d.value).toDate();N.value=!0,f&&f(e)||!Q()||(S.value=h().locale(d.value),le(S.value))},Pe=Y(()=>l.timeFormat||hl(l.format)||rt),$e=Y(()=>l.dateFormat||fl(l.format)||it),Oe=Y(()=>{if(G.value)return G.value;if(!l.parsedValue&&!y.value)return;return(Da(l.parsedValue)||S.value).format(Pe.value)}),Be=Y(()=>{if(Z.value)return Z.value;if(!l.parsedValue&&!y.value)return;return(Da(l.parsedValue)||S.value).format($e.value)}),Te=H(!1),Ie=()=>{Te.value=!0},Re=()=>{Te.value=!1},Le=e=>({hour:e.hour(),minute:e.minute(),second:e.second(),year:e.year(),month:e.month(),date:e.date()}),Ee=(e,a,t)=>{const{hour:n,minute:o,second:s}=Le(e),r=Da(l.parsedValue),i=r?r.hour(n).minute(o).second(s):e;S.value=i,le(S.value,!0),t||(Te.value=a)},Ye=e=>{const a=h(e,Pe.value).locale(d.value);if(a.isValid()&&Q()){const{year:e,month:l,date:t}=Le(S.value);S.value=a.year(e).month(l).date(t),G.value=null,Te.value=!1,le(S.value,!0)}},Ae=e=>{const a=xn(e,$e.value,d.value,v);if(a.isValid()){if(f&&f(a.toDate()))return;const{hour:e,minute:l,second:t}=Le(S.value);S.value=a.hour(e).minute(l).second(t),Z.value=null,le(S.value,!0)}},Fe=()=>{const e=h(y.value).locale(d.value);if(!y.value){const e=L.value;return h().hour(e.hour()).minute(e.minute()).second(e.second()).locale(d.value)}return e},We=()=>{var e;["week","month","year","date"].includes(ce.value)&&(null==(e=C.value)||e.focus())},Ue=e=>{const a=re(e);[ie.up,ie.down,ie.left,ie.right,ie.home,ie.end,ie.pageUp,ie.pageDown].includes(a)&&(qe(a),e.stopPropagation(),e.preventDefault()),[ie.enter,ie.space,ie.numpadEnter].includes(a)&&null===Z.value&&null===G.value&&(e.preventDefault(),le(S.value,!1))},qe=e=>{var a;const{up:l,down:n,left:o,right:s,home:r,end:i,pageUp:u,pageDown:c}=ie,v={year:{[l]:-4,[n]:4,[o]:-1,[s]:1,offset:(e,a)=>e.setFullYear(e.getFullYear()+a)},month:{[l]:-4,[n]:4,[o]:-1,[s]:1,offset:(e,a)=>e.setMonth(e.getMonth()+a)},week:{[l]:-1,[n]:1,[o]:-1,[s]:1,offset:(e,a)=>e.setDate(e.getDate()+7*a)},date:{[l]:-7,[n]:7,[o]:-1,[s]:1,[r]:e=>-e.getDay(),[i]:e=>6-e.getDay(),[u]:e=>-new Date(e.getFullYear(),e.getMonth(),0).getDate(),[c]:e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),offset:(e,a)=>e.setDate(e.getDate()+a)}},p=S.value.toDate();for(;Math.abs(S.value.diff(p,"year",!0))<1;){const l=v[pe.value];if(!l)return;if(l.offset(p,U(l[e])?l[e](p):null!=(a=l[e])?a:0),f&&f(p))break;const n=h(p).locale(d.value);S.value=n,t("pick",n,!0);break}},Xe=e=>{t("panel-change",S.value.toDate(),e,ue.value)};return ae(()=>ce.value,e=>{["month","year"].includes(e)?ue.value=e:ue.value="years"!==e?"months"!==e?"date":"month":"year"},{immediate:!0}),ae(()=>y.value,e=>{e&&(S.value=Fe())},{immediate:!0}),ae(()=>l.parsedValue,e=>{if(e){if(ve.value)return;if(m(e))return;S.value=e}else S.value=Fe()},{immediate:!0}),t("set-picker-option",["isValidValue",e=>h.isDayjs(e)&&e.isValid()&&(!f||!f(e.toDate()))]),t("set-picker-option",["parseUserInput",e=>xn(e,l.format,d.value,v)]),t("set-picker-option",["handleFocusPicker",()=>{We(),"week"===ce.value&&qe(ie.down)}]),(e,a)=>(D(),V("div",{class:T([P(n).b(),P(o).b(),P(n).is("border",e.border),P(n).is("disabled",P(ge)),{"has-sidebar":e.$slots.sidebar||me.value,"has-time":xe.value}])},[O("div",{class:T(P(n).e("body-wrapper"))},[K(e.$slots,"sidebar",{class:T(P(n).e("sidebar"))}),me.value?(D(),V("div",{key:0,class:T(P(n).e("sidebar"))},[(D(!0),V(R,null,F(P(p),(e,a)=>(D(),V("button",{key:a,type:"button",disabled:P(ge),class:T(P(n).e("shortcut")),onClick:a=>(e=>{const a=U(e.value)?e.value():e.value;if(a)return B=!0,void le(h(a).locale(d.value));e.onClick&&e.onClick({attrs:s,slots:r,emit:t})})(e)},j(e.text),11,zn))),128))],2)):M("v-if",!0),O("div",{class:T(P(n).e("body"))},[xe.value?(D(),V("div",{key:0,class:T(P(o).e("time-header"))},[O("span",{class:T(P(o).e("editor-wrap"))},[x(P(Ba),{placeholder:P(i)("el.datepicker.selectDate"),"model-value":Be.value,size:"small","validate-event":!1,disabled:P(ge),readonly:!e.editable,onInput:a[0]||(a[0]=e=>Z.value=e),onChange:Ae},null,8,["placeholder","model-value","disabled","readonly"])],2),ye((D(),V("span",{class:T(P(o).e("editor-wrap"))},[x(P(Ba),{placeholder:P(i)("el.datepicker.selectTime"),"model-value":Oe.value,size:"small","validate-event":!1,disabled:P(ge),readonly:!e.editable,onFocus:Ie,onInput:a[1]||(a[1]=e=>G.value=e),onChange:Ye},null,8,["placeholder","model-value","disabled","readonly"]),x(P($t),{visible:Te.value,format:Pe.value,"parsed-value":S.value,onPick:Ee},null,8,["visible","format","parsed-value"])],2)),[[P(Ya),Re]])],2)):M("v-if",!0),ye(O("div",{class:T([P(o).e("header"),("year"===ue.value||"month"===ue.value)&&P(o).em("header","bordered")])},[O("span",{class:T(P(o).e("prev-btn"))},[O("button",{type:"button","aria-label":P(i)("el.datepicker.prevYear"),class:T(["d-arrow-left",P(n).e("icon-btn")]),disabled:P(ge),onClick:a[2]||(a[2]=e=>se(!1))},[K(e.$slots,"prev-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(je))]),_:1})])],10,jn),ye(O("button",{type:"button","aria-label":P(i)("el.datepicker.prevMonth"),class:T([P(n).e("icon-btn"),"arrow-left"]),disabled:P(ge),onClick:a[3]||(a[3]=e=>ne(!1))},[K(e.$slots,"prev-month",{},()=>[x(P(I),null,{default:$(()=>[x(P(Ke))]),_:1})])],10,Kn),[[ke,"date"===ue.value]])],2),O("span",{role:"button",class:T(P(o).e("header-label")),"aria-live":"polite",tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:a[4]||(a[4]=De(e=>we("year"),["enter"])),onClick:a[5]||(a[5]=e=>we("year"))},j(de.value),43,Hn),ye(O("span",{role:"button","aria-live":"polite",tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,class:T([P(o).e("header-label"),{active:"month"===ue.value}]),onKeydown:a[6]||(a[6]=De(e=>we("month"),["enter"])),onClick:a[7]||(a[7]=e=>we("month"))},j(P(i)(`el.datepicker.month${W.value+1}`)),43,Wn),[[ke,"date"===ue.value]]),O("span",{class:T(P(o).e("next-btn"))},[ye(O("button",{type:"button","aria-label":P(i)("el.datepicker.nextMonth"),class:T([P(n).e("icon-btn"),"arrow-right"]),disabled:P(ge),onClick:a[8]||(a[8]=e=>ne(!0))},[K(e.$slots,"next-month",{},()=>[x(P(I),null,{default:$(()=>[x(P(E))]),_:1})])],10,Un),[[ke,"date"===ue.value]]),O("button",{type:"button","aria-label":P(i)("el.datepicker.nextYear"),class:T([P(n).e("icon-btn"),"d-arrow-right"]),disabled:P(ge),onClick:a[9]||(a[9]=e=>se(!0))},[K(e.$slots,"next-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(He))]),_:1})])],10,qn)],2)],2),[[ke,"time"!==ue.value]]),O("div",{class:T(P(n).e("content")),onKeydown:Ue},["date"===ue.value?(D(),_($n,{key:0,ref_key:"currentViewRef",ref:C,"selection-mode":ce.value,date:S.value,"parsed-value":e.parsedValue,"disabled-date":P(f),disabled:P(ge),"cell-class-name":P(b),"show-week-number":e.showWeekNumber,onPick:te},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name","show-week-number"])):M("v-if",!0),"year"===ue.value?(D(),_(Fn,{key:1,ref_key:"currentViewRef",ref:C,"selection-mode":ce.value,date:S.value,"disabled-date":P(f),disabled:P(ge),"parsed-value":e.parsedValue,"cell-class-name":P(b),onPick:be},null,8,["selection-mode","date","disabled-date","disabled","parsed-value","cell-class-name"])):M("v-if",!0),"month"===ue.value?(D(),_(Rn,{key:2,ref_key:"currentViewRef",ref:C,"selection-mode":ce.value,date:S.value,"parsed-value":e.parsedValue,"disabled-date":P(f),disabled:P(ge),"cell-class-name":P(b),onPick:fe},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name"])):M("v-if",!0)],34)],2)],2),e.showFooter&&Ce.value&&Se.value?(D(),V("div",{key:0,class:T(P(n).e("footer"))},[ye(x(P(al),{text:"",size:"small",class:T(P(n).e("link-btn")),disabled:_e.value,onClick:Ne},{default:$(()=>[z(j(P(i)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[ke,!ve.value&&e.showNow]]),e.showConfirm?(D(),_(P(al),{key:0,plain:"",size:"small",class:T(P(n).e("link-btn")),disabled:Ve.value,onClick:Me},{default:$(()=>[z(j(P(i)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):M("v-if",!0)],2)):M("v-if",!0)],2))}});var Zn=S(Xn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-pick.vue"]]);const Gn=G(r(r({},pn),mn)),Qn=(e,{defaultValue:a,defaultTime:l,leftDate:t,rightDate:n,step:o,unit:s,sortDates:r})=>{const{emit:i}=W(),{pickerNs:u}=w(un),d=k("date-range-picker"),{t:c,lang:v}=A(),p=(e=>{const{emit:a}=W(),l=he(),t=ee();return n=>{const o=U(n.value)?n.value():n.value;o?a("pick",[h(o[0]).locale(e.value),h(o[1]).locale(e.value)]):n.onClick&&n.onClick({attrs:l,slots:t,emit:a})}})(v),f=H(),b=H(),g=H({endDate:null,selecting:!1}),y=e=>{if(m(e)&&2===e.length){const[a,l]=e;f.value=a,t.value=a,b.value=l,r(P(f),P(b))}else x()},x=()=>{let[r,i]=gn(P(a),{lang:P(v),step:o,unit:s,unlinkPanels:e.unlinkPanels});const u=e=>e.diff(e.startOf("d"),"ms"),d=P(l);if(d){let e=0,a=0;if(m(d)){const[l,t]=d.map(h);e=u(l),a=u(t)}else{const l=u(h(d));e=l,a=l}r=r.startOf("d").add(e,"ms"),i=i.startOf("d").add(a,"ms")}f.value=void 0,b.value=void 0,t.value=r,n.value=i};return ae(a,e=>{e&&x()},{immediate:!0}),ae(()=>e.parsedValue,e=>{(null==e?void 0:e.length)&&Z(e,[f.value,b.value])||y(e)},{immediate:!0}),ae(()=>e.visible,()=>{e.visible&&y(e.parsedValue)},{immediate:!0}),{minDate:f,maxDate:b,rangeState:g,lang:v,ppNs:u,drpNs:d,handleChangeRange:e=>{g.value=e},handleRangeConfirm:(e=!1)=>{const a=P(f),l=P(b);bn([a,l])&&i("pick",[a,l],e)},handleShortcutClick:p,onSelect:e=>{g.value.selecting=e,e||(g.value.endDate=null)},parseValue:y,t:c}},Jn=(e,a,l,t)=>{const n=H("date"),o=H(),s=H("date"),r=H(),i=w(nt),{disabledDate:d}=i.props,{t:c,lang:v}=A(),p=Y(()=>l.value.year()),m=Y(()=>l.value.month()),f=Y(()=>t.value.year()),h=Y(()=>t.value.month());function b(e,a){const l=c("el.datepicker.year");if("year"===e.value){const e=10*Math.floor(a.value/10);return l?`${e} ${l} - ${e+9} ${l}`:`${e} - ${e+9}`}return`${a.value} ${l}`}function g(e){null==e||e.focus()}function y(a,l){return u(this,null,function*(){if(e.disabled)return;const t="left"===a?o:r;("left"===a?n:s).value=l,yield oe(),g(t.value)})}function k(a,i,c){return u(this,null,function*(){if(e.disabled)return;const u="left"===i,p=u?l:t,m=u?t:l,f=u?n:s,h=u?o:r;if("year"===a){const e=p.value.year(c);p.value=wn(e,v.value,d)}"month"===a&&(p.value=kn(p.value,p.value.year(),c,v.value,d)),e.unlinkPanels||(m.value="left"===i?p.value.add(1,"month"):p.value.subtract(1,"month")),f.value="year"===a?"month":"date",yield oe(),g(h.value),x(a)})}function x(e){a("panel-change",[l.value.toDate(),t.value.toDate()],e)}return{leftCurrentView:n,rightCurrentView:s,leftCurrentViewRef:o,rightCurrentViewRef:r,leftYear:p,rightYear:f,leftMonth:m,rightMonth:h,leftYearLabel:Y(()=>b(n,p)),rightYearLabel:Y(()=>b(s,f)),showLeftPicker:e=>y("left",e),showRightPicker:e=>y("right",e),handleLeftYearPick:e=>k("year","left",e),handleRightYearPick:e=>k("year","right",e),handleLeftMonthPick:e=>k("month","left",e),handleRightMonthPick:e=>k("month","right",e),handlePanelChange:x,adjustDateByView:function(e,a,l){const t=l?"add":"subtract";return"year"===e?a[t](10,"year"):a[t](1,"year")}}},eo=["disabled","onClick"],ao=["aria-label","disabled"],lo=["aria-label","disabled"],to=["disabled","aria-label"],no=["disabled","aria-label"],oo=["tabindex","aria-disabled"],so=["tabindex","aria-disabled"],ro=["disabled","aria-label"],io=["disabled","aria-label"],uo=["aria-label","disabled"],co=["disabled","aria-label"],vo=["tabindex","aria-disabled"],po=["tabindex","aria-disabled"],mo="month",fo=y({__name:"panel-date-range",props:Gn,emits:["pick","set-picker-option","calendar-change","panel-change","clear"],setup(e,{emit:a}){const l=e,t=a,n=w(nt),o=w(dn,void 0),{disabledDate:s,cellClassName:r,defaultTime:i,clearable:u}=n.props,d=ze(n.props,"format"),c=ze(n.props,"shortcuts"),v=ze(n.props,"defaultValue"),{lang:p}=A(),m=H(h().locale(p.value)),f=H(h().locale(p.value).add(1,mo)),{minDate:b,maxDate:g,rangeState:y,ppNs:k,drpNs:C,handleChangeRange:S,handleRangeConfirm:N,handleShortcutClick:B,onSelect:L,parseValue:W,t:U}=Qn(l,{defaultValue:v,defaultTime:i,leftDate:m,rightDate:f,unit:mo,sortDates:ta});ae(()=>l.visible,e=>{!e&&y.value.selecting&&(W(l.parsedValue),L(!1))});const q=H({min:null,max:null}),X=H({min:null,max:null}),{leftCurrentView:Z,rightCurrentView:G,leftCurrentViewRef:Q,rightCurrentViewRef:J,leftYear:ee,rightYear:le,leftMonth:te,rightMonth:ne,leftYearLabel:se,rightYearLabel:re,showLeftPicker:ie,showRightPicker:ue,handleLeftYearPick:de,handleRightYearPick:ce,handleLeftMonthPick:ve,handleRightMonthPick:pe,handlePanelChange:me,adjustDateByView:fe}=Jn(l,t,m,f),he=Y(()=>!!c.value.length),be=Y(()=>null!==q.value.min?q.value.min:b.value?b.value.format(Se.value):""),ge=Y(()=>null!==q.value.max?q.value.max:g.value||b.value?(g.value||b.value).format(Se.value):""),we=Y(()=>null!==X.value.min?X.value.min:b.value?b.value.format(Ce.value):""),xe=Y(()=>null!==X.value.max?X.value.max:g.value||b.value?(g.value||b.value).format(Ce.value):""),Ce=Y(()=>l.timeFormat||hl(d.value||"")||rt),Se=Y(()=>l.dateFormat||fl(d.value||"")||it),Ve=()=>{m.value=fe(Z.value,m.value,!1),l.unlinkPanels||(f.value=m.value.add(1,"month")),me("year")},Me=()=>{m.value=m.value.subtract(1,"month"),l.unlinkPanels||(f.value=m.value.add(1,"month")),me("month")},_e=()=>{l.unlinkPanels?f.value=fe(G.value,f.value,!0):(m.value=fe(G.value,m.value,!0),f.value=m.value.add(1,"month")),me("year")},Ne=()=>{l.unlinkPanels?f.value=f.value.add(1,"month"):(m.value=m.value.add(1,"month"),f.value=m.value.add(1,"month")),me("month")},Pe=()=>{m.value=fe(Z.value,m.value,!0),me("year")},$e=()=>{m.value=m.value.add(1,"month"),me("month")},Oe=()=>{f.value=fe(G.value,f.value,!1),me("year")},Be=()=>{f.value=f.value.subtract(1,"month"),me("month")},Te=Y(()=>{const e=(te.value+1)%12,a=te.value+1>=12?1:0;return l.unlinkPanels&&new Date(ee.value+a,e)<new Date(le.value,ne.value)}),Ie=Y(()=>l.unlinkPanels&&12*le.value+ne.value-(12*ee.value+te.value+1)>=12),Re=ca(),Le=Y(()=>!(b.value&&g.value&&!y.value.selecting&&bn([b.value,g.value])&&!Re.value)),Ee=Y(()=>"datetime"===l.type||"datetimerange"===l.type),Ye=(e,a)=>{if(e){if(i){return h(i[a]||i).locale(p.value).year(e.year()).month(e.month()).date(e.date())}return e}},Ae=(e,a=!0)=>{const l=e.minDate,n=e.maxDate,o=Ye(l,0),s=Ye(n,1);g.value===s&&b.value===o||(t("calendar-change",[l.toDate(),n&&n.toDate()]),g.value=s,b.value=o,!Ee.value&&a&&(a=!o||!s),N(a))},Fe=H(!1),We=H(!1),Ue=()=>{Fe.value=!1},qe=()=>{We.value=!1},Xe=(e,a)=>{q.value[a]=e;const t=h(e,Se.value).locale(p.value);if(t.isValid()){if(s&&s(t.toDate()))return;"min"===a?(m.value=t,b.value=(b.value||m.value).year(t.year()).month(t.month()).date(t.date()),l.unlinkPanels||g.value&&!g.value.isBefore(b.value)||(f.value=t.add(1,"month"),g.value=b.value.add(1,"month"))):(f.value=t,g.value=(g.value||f.value).year(t.year()).month(t.month()).date(t.date()),l.unlinkPanels||b.value&&!b.value.isAfter(g.value)||(m.value=t.subtract(1,"month"),b.value=g.value.subtract(1,"month"))),ta(b.value,g.value),N(!0)}},Ze=(e,a)=>{q.value[a]=null},Ge=(e,a)=>{X.value[a]=e;const l=h(e,Ce.value).locale(p.value);l.isValid()&&("min"===a?(Fe.value=!0,b.value=(b.value||m.value).hour(l.hour()).minute(l.minute()).second(l.second()),m.value=b.value):(We.value=!0,g.value=(g.value||f.value).hour(l.hour()).minute(l.minute()).second(l.second()),f.value=g.value))},Qe=(e,a)=>{X.value[a]=null,"min"===a?(m.value=b.value,Fe.value=!1,g.value&&!g.value.isBefore(b.value)||(g.value=b.value)):(f.value=g.value,We.value=!1,g.value&&g.value.isBefore(b.value)&&(b.value=g.value)),N(!0)},Je=(e,a,t)=>{X.value.min||(e&&(b.value=(b.value||m.value).hour(e.hour()).minute(e.minute()).second(e.second())),t||(Fe.value=a),g.value&&!g.value.isBefore(b.value)||(g.value=b.value,f.value=e,oe(()=>{W(l.parsedValue)})),N(!0))},ea=(e,a,l)=>{X.value.max||(e&&(g.value=(g.value||f.value).hour(e.hour()).minute(e.minute()).second(e.second())),l||(We.value=a),g.value&&g.value.isBefore(b.value)&&(b.value=g.value),N(!0))},aa=()=>{la(),t("clear")},la=()=>{let e=null;(null==n?void 0:n.emptyValues)&&(e=n.emptyValues.valueOnClear.value),m.value=gn(P(v),{lang:P(p),unit:"month",unlinkPanels:l.unlinkPanels})[0],f.value=m.value.add(1,"month"),g.value=void 0,b.value=void 0,N(!0),t("pick",e)};function ta(e,a){if(l.unlinkPanels&&a){const l=(null==e?void 0:e.year())||0,t=(null==e?void 0:e.month())||0,n=a.year(),o=a.month();f.value=l===n&&t===o?a.add(1,mo):a}else f.value=m.value.add(1,mo),a&&(f.value=f.value.hour(a.hour()).minute(a.minute()).second(a.second()))}return t("set-picker-option",["isValidValue",e=>bn(e)&&(!s||!s(e[0].toDate())&&!s(e[1].toDate()))]),t("set-picker-option",["parseUserInput",e=>xn(e,d.value||"",p.value,o)]),t("set-picker-option",["handleClear",la]),(e,a)=>(D(),V("div",{class:T([P(k).b(),P(C).b(),P(k).is("border",e.border),P(k).is("disabled",P(Re)),{"has-sidebar":e.$slots.sidebar||he.value,"has-time":Ee.value}])},[O("div",{class:T(P(k).e("body-wrapper"))},[K(e.$slots,"sidebar",{class:T(P(k).e("sidebar"))}),he.value?(D(),V("div",{key:0,class:T(P(k).e("sidebar"))},[(D(!0),V(R,null,F(c.value,(e,a)=>(D(),V("button",{key:a,type:"button",disabled:P(Re),class:T(P(k).e("shortcut")),onClick:a=>P(B)(e)},j(e.text),11,eo))),128))],2)):M("v-if",!0),O("div",{class:T(P(k).e("body"))},[Ee.value?(D(),V("div",{key:0,class:T(P(C).e("time-header"))},[O("span",{class:T(P(C).e("editors-wrap"))},[O("span",{class:T(P(C).e("time-picker-wrap"))},[x(P(Ba),{size:"small",disabled:P(y).selecting||P(Re),placeholder:P(U)("el.datepicker.startDate"),class:T(P(C).e("editor")),"model-value":be.value,"validate-event":!1,readonly:!e.editable,onInput:a[0]||(a[0]=e=>Xe(e,"min")),onChange:a[1]||(a[1]=e=>Ze(0,"min"))},null,8,["disabled","placeholder","class","model-value","readonly"])],2),ye((D(),V("span",{class:T(P(C).e("time-picker-wrap"))},[x(P(Ba),{size:"small",class:T(P(C).e("editor")),disabled:P(y).selecting||P(Re),placeholder:P(U)("el.datepicker.startTime"),"model-value":we.value,"validate-event":!1,readonly:!e.editable,onFocus:a[2]||(a[2]=e=>Fe.value=!0),onInput:a[3]||(a[3]=e=>Ge(e,"min")),onChange:a[4]||(a[4]=e=>Qe(0,"min"))},null,8,["class","disabled","placeholder","model-value","readonly"]),x(P($t),{visible:Fe.value,format:Ce.value,"datetime-role":"start","parsed-value":P(b)||m.value,onPick:Je},null,8,["visible","format","parsed-value"])],2)),[[P(Ya),Ue]])],2),O("span",null,[x(P(I),null,{default:$(()=>[x(P(E))]),_:1})]),O("span",{class:T([P(C).e("editors-wrap"),"is-right"])},[O("span",{class:T(P(C).e("time-picker-wrap"))},[x(P(Ba),{size:"small",class:T(P(C).e("editor")),disabled:P(y).selecting||P(Re),placeholder:P(U)("el.datepicker.endDate"),"model-value":ge.value,readonly:!P(b)||!e.editable,"validate-event":!1,onInput:a[5]||(a[5]=e=>Xe(e,"max")),onChange:a[6]||(a[6]=e=>Ze(0,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),ye((D(),V("span",{class:T(P(C).e("time-picker-wrap"))},[x(P(Ba),{size:"small",class:T(P(C).e("editor")),disabled:P(y).selecting||P(Re),placeholder:P(U)("el.datepicker.endTime"),"model-value":xe.value,readonly:!P(b)||!e.editable,"validate-event":!1,onFocus:a[7]||(a[7]=e=>P(b)&&(We.value=!0)),onInput:a[8]||(a[8]=e=>Ge(e,"max")),onChange:a[9]||(a[9]=e=>Qe(0,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),x(P($t),{"datetime-role":"end",visible:We.value,format:Ce.value,"parsed-value":P(g)||f.value,onPick:ea},null,8,["visible","format","parsed-value"])],2)),[[P(Ya),qe]])],2)],2)):M("v-if",!0),O("div",{class:T([[P(k).e("content"),P(C).e("content")],"is-left"])},[O("div",{class:T(P(C).e("header"))},[O("button",{type:"button",class:T([P(k).e("icon-btn"),"d-arrow-left"]),"aria-label":P(U)("el.datepicker.prevYear"),disabled:P(Re),onClick:Ve},[K(e.$slots,"prev-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(je))]),_:1})])],10,ao),ye(O("button",{type:"button",class:T([P(k).e("icon-btn"),"arrow-left"]),"aria-label":P(U)("el.datepicker.prevMonth"),disabled:P(Re),onClick:Me},[K(e.$slots,"prev-month",{},()=>[x(P(I),null,{default:$(()=>[x(P(Ke))]),_:1})])],10,lo),[[ke,"date"===P(Z)]]),e.unlinkPanels?(D(),V("button",{key:0,type:"button",disabled:!Ie.value||P(Re),class:T([[P(k).e("icon-btn"),P(k).is("disabled",!Ie.value||P(Re))],"d-arrow-right"]),"aria-label":P(U)("el.datepicker.nextYear"),onClick:Pe},[K(e.$slots,"next-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(He))]),_:1})])],10,to)):M("v-if",!0),e.unlinkPanels&&"date"===P(Z)?(D(),V("button",{key:1,type:"button",disabled:!Te.value||P(Re),class:T([[P(k).e("icon-btn"),P(k).is("disabled",!Te.value||P(Re))],"arrow-right"]),"aria-label":P(U)("el.datepicker.nextMonth"),onClick:$e},[K(e.$slots,"next-month",{},()=>[x(P(I),null,{default:$(()=>[x(P(E))]),_:1})])],10,no)):M("v-if",!0),O("div",null,[O("span",{role:"button",class:T(P(C).e("header-label")),"aria-live":"polite",tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:a[10]||(a[10]=De(e=>P(ie)("year"),["enter"])),onClick:a[11]||(a[11]=e=>P(ie)("year"))},j(P(se)),43,oo),ye(O("span",{role:"button","aria-live":"polite",tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,class:T([P(C).e("header-label"),{active:"month"===P(Z)}]),onKeydown:a[12]||(a[12]=De(e=>P(ie)("month"),["enter"])),onClick:a[13]||(a[13]=e=>P(ie)("month"))},j(P(U)(`el.datepicker.month${m.value.month()+1}`)),43,so),[[ke,"date"===P(Z)]])])],2),"date"===P(Z)?(D(),_($n,{key:0,ref_key:"leftCurrentViewRef",ref:Q,"selection-mode":"range",date:m.value,"min-date":P(b),"max-date":P(g),"range-state":P(y),"disabled-date":P(s),"cell-class-name":P(r),"show-week-number":e.showWeekNumber,disabled:P(Re),onChangerange:P(S),onPick:Ae,onSelect:P(L)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):M("v-if",!0),"year"===P(Z)?(D(),_(Fn,{key:1,ref_key:"leftCurrentViewRef",ref:Q,"selection-mode":"year",date:m.value,"disabled-date":P(s),"parsed-value":e.parsedValue,disabled:P(Re),onPick:P(de)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):M("v-if",!0),"month"===P(Z)?(D(),_(Rn,{key:2,ref_key:"leftCurrentViewRef",ref:Q,"selection-mode":"month",date:m.value,"parsed-value":e.parsedValue,"disabled-date":P(s),disabled:P(Re),onPick:P(ve)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):M("v-if",!0)],2),O("div",{class:T([[P(k).e("content"),P(C).e("content")],"is-right"])},[O("div",{class:T(P(C).e("header"))},[e.unlinkPanels?(D(),V("button",{key:0,type:"button",disabled:!Ie.value||P(Re),class:T([P(k).e("icon-btn"),"d-arrow-left"]),"aria-label":P(U)("el.datepicker.prevYear"),onClick:Oe},[K(e.$slots,"prev-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(je))]),_:1})])],10,ro)):M("v-if",!0),e.unlinkPanels&&"date"===P(G)?(D(),V("button",{key:1,type:"button",disabled:!Te.value||P(Re),class:T([P(k).e("icon-btn"),"arrow-left"]),"aria-label":P(U)("el.datepicker.prevMonth"),onClick:Be},[K(e.$slots,"prev-month",{},()=>[x(P(I),null,{default:$(()=>[x(P(Ke))]),_:1})])],10,io)):M("v-if",!0),O("button",{type:"button","aria-label":P(U)("el.datepicker.nextYear"),class:T([P(k).e("icon-btn"),"d-arrow-right"]),disabled:P(Re),onClick:_e},[K(e.$slots,"next-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(He))]),_:1})])],10,uo),ye(O("button",{type:"button",class:T([P(k).e("icon-btn"),"arrow-right"]),disabled:P(Re),"aria-label":P(U)("el.datepicker.nextMonth"),onClick:Ne},[K(e.$slots,"next-month",{},()=>[x(P(I),null,{default:$(()=>[x(P(E))]),_:1})])],10,co),[[ke,"date"===P(G)]]),O("div",null,[O("span",{role:"button",class:T(P(C).e("header-label")),"aria-live":"polite",tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:a[14]||(a[14]=De(e=>P(ue)("year"),["enter"])),onClick:a[15]||(a[15]=e=>P(ue)("year"))},j(P(re)),43,vo),ye(O("span",{role:"button","aria-live":"polite",tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,class:T([P(C).e("header-label"),{active:"month"===P(G)}]),onKeydown:a[16]||(a[16]=De(e=>P(ue)("month"),["enter"])),onClick:a[17]||(a[17]=e=>P(ue)("month"))},j(P(U)(`el.datepicker.month${f.value.month()+1}`)),43,po),[[ke,"date"===P(G)]])])],2),"date"===P(G)?(D(),_($n,{key:0,ref_key:"rightCurrentViewRef",ref:J,"selection-mode":"range",date:f.value,"min-date":P(b),"max-date":P(g),"range-state":P(y),"disabled-date":P(s),"cell-class-name":P(r),"show-week-number":e.showWeekNumber,disabled:P(Re),onChangerange:P(S),onPick:Ae,onSelect:P(L)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):M("v-if",!0),"year"===P(G)?(D(),_(Fn,{key:1,ref_key:"rightCurrentViewRef",ref:J,"selection-mode":"year",date:f.value,"disabled-date":P(s),"parsed-value":e.parsedValue,disabled:P(Re),onPick:P(ce)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):M("v-if",!0),"month"===P(G)?(D(),_(Rn,{key:2,ref_key:"rightCurrentViewRef",ref:J,"selection-mode":"month",date:f.value,"parsed-value":e.parsedValue,"disabled-date":P(s),disabled:P(Re),onPick:P(pe)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):M("v-if",!0)],2)],2)],2),e.showFooter&&Ee.value&&(e.showConfirm||P(u))?(D(),V("div",{key:0,class:T(P(k).e("footer"))},[P(u)?(D(),_(P(al),{key:0,text:"",size:"small",class:T(P(k).e("link-btn")),onClick:aa},{default:$(()=>[z(j(P(U)("el.datepicker.clear")),1)]),_:1},8,["class"])):M("v-if",!0),e.showConfirm?(D(),_(P(al),{key:1,plain:"",size:"small",class:T(P(k).e("link-btn")),disabled:Le.value,onClick:a[18]||(a[18]=e=>P(N)(!1))},{default:$(()=>[z(j(P(U)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):M("v-if",!0)],2)):M("v-if",!0)],2))}});var ho=S(fo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-range.vue"]]);const bo=G(r({},mn)),go=["disabled","onClick"],yo=["disabled"],ko=["disabled"],wo=["disabled"],xo=["disabled"],Co="year",So=y(i(r({},{name:"DatePickerMonthRange"}),{__name:"panel-month-range",props:bo,emits:["pick","set-picker-option","calendar-change"],setup(e,{emit:a}){const l=e,t=a,{lang:n}=A(),o=w(nt),s=w(dn,void 0),{shortcuts:r,disabledDate:i,cellClassName:u}=o.props,d=ze(o.props,"format"),c=ze(o.props,"defaultValue"),v=H(h().locale(n.value)),p=H(h().locale(n.value).add(1,Co)),{minDate:m,maxDate:f,rangeState:b,ppNs:g,drpNs:y,handleChangeRange:k,handleRangeConfirm:C,handleShortcutClick:S,onSelect:_,parseValue:N}=Qn(l,{defaultValue:c,leftDate:v,rightDate:p,unit:Co,sortDates:function(e,a){if(l.unlinkPanels&&a){const l=(null==e?void 0:e.year())||0,t=a.year();p.value=l===t?a.add(1,Co):a}else p.value=v.value.add(1,Co)}}),B=Y(()=>!!r.length),{leftPrevYear:L,rightNextYear:E,leftNextYear:z,rightPrevYear:W,leftLabel:U,rightLabel:q,leftYear:X,rightYear:Z}=(({unlinkPanels:e,leftDate:a,rightDate:l})=>{const{t:t}=A();return{leftPrevYear:()=>{a.value=a.value.subtract(1,"year"),e.value||(l.value=l.value.subtract(1,"year"))},rightNextYear:()=>{e.value||(a.value=a.value.add(1,"year")),l.value=l.value.add(1,"year")},leftNextYear:()=>{a.value=a.value.add(1,"year")},rightPrevYear:()=>{l.value=l.value.subtract(1,"year")},leftLabel:Y(()=>`${a.value.year()} ${t("el.datepicker.year")}`),rightLabel:Y(()=>`${l.value.year()} ${t("el.datepicker.year")}`),leftYear:Y(()=>a.value.year()),rightYear:Y(()=>l.value.year()===a.value.year()?a.value.year()+1:l.value.year())}})({unlinkPanels:ze(l,"unlinkPanels"),leftDate:v,rightDate:p}),G=Y(()=>l.unlinkPanels&&Z.value>X.value+1),Q=(e,a=!0)=>{const l=e.minDate,n=e.maxDate;f.value===n&&m.value===l||(t("calendar-change",[l.toDate(),n&&n.toDate()]),f.value=n,m.value=l,a&&C())};const J=ca();return ae(()=>l.visible,e=>{!e&&b.value.selecting&&(N(l.parsedValue),_(!1))}),t("set-picker-option",["isValidValue",bn]),t("set-picker-option",["parseUserInput",e=>xn(e,d.value,n.value,s)]),t("set-picker-option",["handleClear",()=>{let e=null;(null==o?void 0:o.emptyValues)&&(e=o.emptyValues.valueOnClear.value),v.value=gn(P(c),{lang:P(n),unit:"year",unlinkPanels:l.unlinkPanels})[0],p.value=v.value.add(1,"year"),t("pick",e)}]),(e,a)=>(D(),V("div",{class:T([P(g).b(),P(y).b(),P(g).is("border",e.border),P(g).is("disabled",P(J)),{"has-sidebar":Boolean(e.$slots.sidebar)||B.value}])},[O("div",{class:T(P(g).e("body-wrapper"))},[K(e.$slots,"sidebar",{class:T(P(g).e("sidebar"))}),B.value?(D(),V("div",{key:0,class:T(P(g).e("sidebar"))},[(D(!0),V(R,null,F(P(r),(e,a)=>(D(),V("button",{key:a,type:"button",class:T(P(g).e("shortcut")),disabled:P(J),onClick:a=>P(S)(e)},j(e.text),11,go))),128))],2)):M("v-if",!0),O("div",{class:T(P(g).e("body"))},[O("div",{class:T([[P(g).e("content"),P(y).e("content")],"is-left"])},[O("div",{class:T(P(y).e("header"))},[O("button",{type:"button",class:T([P(g).e("icon-btn"),"d-arrow-left"]),disabled:P(J),onClick:a[0]||(a[0]=(...e)=>P(L)&&P(L)(...e))},[K(e.$slots,"prev-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(je))]),_:1})])],10,yo),e.unlinkPanels?(D(),V("button",{key:0,type:"button",disabled:!G.value||P(J),class:T([[P(g).e("icon-btn"),P(g).is("disabled",!G.value||P(J))],"d-arrow-right"]),onClick:a[1]||(a[1]=(...e)=>P(z)&&P(z)(...e))},[K(e.$slots,"next-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(He))]),_:1})])],10,ko)):M("v-if",!0),O("div",null,j(P(U)),1)],2),x(Rn,{"selection-mode":"range",date:v.value,"min-date":P(m),"max-date":P(f),"range-state":P(b),"disabled-date":P(i),disabled:P(J),"cell-class-name":P(u),onChangerange:P(k),onPick:Q,onSelect:P(_)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),O("div",{class:T([[P(g).e("content"),P(y).e("content")],"is-right"])},[O("div",{class:T(P(y).e("header"))},[e.unlinkPanels?(D(),V("button",{key:0,type:"button",disabled:!G.value||P(J),class:T([[P(g).e("icon-btn"),P(g).is("disabled",!G.value||P(J))],"d-arrow-left"]),onClick:a[2]||(a[2]=(...e)=>P(W)&&P(W)(...e))},[K(e.$slots,"prev-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(je))]),_:1})])],10,wo)):M("v-if",!0),O("button",{type:"button",class:T([P(g).e("icon-btn"),"d-arrow-right"]),disabled:P(J),onClick:a[3]||(a[3]=(...e)=>P(E)&&P(E)(...e))},[K(e.$slots,"next-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(He))]),_:1})])],10,xo),O("div",null,j(P(q)),1)],2),x(Rn,{"selection-mode":"range",date:p.value,"min-date":P(m),"max-date":P(f),"range-state":P(b),"disabled-date":P(i),disabled:P(J),"cell-class-name":P(u),onChangerange:P(k),onPick:Q,onSelect:P(_)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}}));var Do=S(So,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-month-range.vue"]]);const Vo=G(r({},mn)),Mo=["disabled","onClick"],_o=["disabled"],No=["disabled"],Po=["disabled"],$o=["disabled"],Oo=10,Bo="year";var To=S(y(i(r({},{name:"DatePickerYearRange"}),{__name:"panel-year-range",props:Vo,emits:["pick","set-picker-option","calendar-change"],setup(e,{emit:a}){const l=e,t=a,{lang:n}=A(),o=H(h().locale(n.value)),s=H(h().locale(n.value).add(Oo,Bo)),r=w(dn,void 0),i=w(nt),{shortcuts:u,disabledDate:d,cellClassName:c}=i.props,v=ze(i.props,"format"),p=ze(i.props,"defaultValue"),{minDate:m,maxDate:f,rangeState:b,ppNs:g,drpNs:y,handleChangeRange:k,handleRangeConfirm:C,handleShortcutClick:S,onSelect:_,parseValue:N}=Qn(l,{defaultValue:p,leftDate:o,rightDate:s,step:Oo,unit:Bo,sortDates:function(e,a){if(l.unlinkPanels&&a){const l=(null==e?void 0:e.year())||0,t=a.year();s.value=l+Oo>t?a.add(Oo,Bo):a}else s.value=o.value.add(Oo,Bo)}}),{leftPrevYear:B,rightNextYear:L,leftNextYear:E,rightPrevYear:z,leftLabel:W,rightLabel:U,leftYear:q,rightYear:X}=(({unlinkPanels:e,leftDate:a,rightDate:l})=>({leftPrevYear:()=>{a.value=a.value.subtract(10,"year"),e.value||(l.value=l.value.subtract(10,"year"))},rightNextYear:()=>{e.value||(a.value=a.value.add(10,"year")),l.value=l.value.add(10,"year")},leftNextYear:()=>{a.value=a.value.add(10,"year")},rightPrevYear:()=>{l.value=l.value.subtract(10,"year")},leftLabel:Y(()=>{const e=10*Math.floor(a.value.year()/10);return`${e}-${e+9}`}),rightLabel:Y(()=>{const e=10*Math.floor(l.value.year()/10);return`${e}-${e+9}`}),leftYear:Y(()=>10*Math.floor(a.value.year()/10)+9),rightYear:Y(()=>10*Math.floor(l.value.year()/10))}))({unlinkPanels:ze(l,"unlinkPanels"),leftDate:o,rightDate:s}),Z=ca(),G=Y(()=>!!u.length),Q=Y(()=>[g.b(),y.b(),g.is("border",l.border),g.is("disabled",Z.value),{"has-sidebar":Boolean(ee().sidebar)||G.value}]),J=Y(()=>({content:[g.e("content"),y.e("content"),"is-left"],arrowLeftBtn:[g.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[g.e("icon-btn"),g.is("disabled",!te.value||Z.value),"d-arrow-right"]})),le=Y(()=>({content:[g.e("content"),y.e("content"),"is-right"],arrowLeftBtn:[g.e("icon-btn"),g.is("disabled",!te.value||Z.value),"d-arrow-left"],arrowRightBtn:[g.e("icon-btn"),"d-arrow-right"]})),te=Y(()=>l.unlinkPanels&&X.value>q.value+1),ne=(e,a=!0)=>{const l=e.minDate,n=e.maxDate;f.value===n&&m.value===l||(t("calendar-change",[l.toDate(),n&&n.toDate()]),f.value=n,m.value=l,a&&C())};return ae(()=>l.visible,e=>{!e&&b.value.selecting&&(N(l.parsedValue),_(!1))}),t("set-picker-option",["isValidValue",e=>bn(e)&&(!d||!d(e[0].toDate())&&!d(e[1].toDate()))]),t("set-picker-option",["parseUserInput",e=>xn(e,v.value,n.value,r)]),t("set-picker-option",["handleClear",()=>{let e=null;(null==i?void 0:i.emptyValues)&&(e=i.emptyValues.valueOnClear.value);const a=gn(P(p),{lang:P(n),step:Oo,unit:Bo,unlinkPanels:l.unlinkPanels});o.value=a[0],s.value=a[1],t("pick",e)}]),(e,a)=>(D(),V("div",{class:T(Q.value)},[O("div",{class:T(P(g).e("body-wrapper"))},[K(e.$slots,"sidebar",{class:T(P(g).e("sidebar"))}),G.value?(D(),V("div",{key:0,class:T(P(g).e("sidebar"))},[(D(!0),V(R,null,F(P(u),(e,a)=>(D(),V("button",{key:a,type:"button",class:T(P(g).e("shortcut")),disabled:P(Z),onClick:a=>P(S)(e)},j(e.text),11,Mo))),128))],2)):M("v-if",!0),O("div",{class:T(P(g).e("body"))},[O("div",{class:T(J.value.content)},[O("div",{class:T(P(y).e("header"))},[O("button",{type:"button",class:T(J.value.arrowLeftBtn),disabled:P(Z),onClick:a[0]||(a[0]=(...e)=>P(B)&&P(B)(...e))},[K(e.$slots,"prev-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(je))]),_:1})])],10,_o),e.unlinkPanels?(D(),V("button",{key:0,type:"button",disabled:!te.value||P(Z),class:T(J.value.arrowRightBtn),onClick:a[1]||(a[1]=(...e)=>P(E)&&P(E)(...e))},[K(e.$slots,"next-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(He))]),_:1})])],10,No)):M("v-if",!0),O("div",null,j(P(W)),1)],2),x(Fn,{"selection-mode":"range",date:o.value,"min-date":P(m),"max-date":P(f),"range-state":P(b),"disabled-date":P(d),disabled:P(Z),"cell-class-name":P(c),onChangerange:P(k),onPick:ne,onSelect:P(_)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),O("div",{class:T(le.value.content)},[O("div",{class:T(P(y).e("header"))},[e.unlinkPanels?(D(),V("button",{key:0,type:"button",disabled:!te.value||P(Z),class:T(le.value.arrowLeftBtn),onClick:a[2]||(a[2]=(...e)=>P(z)&&P(z)(...e))},[K(e.$slots,"prev-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(je))]),_:1})])],10,Po)):M("v-if",!0),O("button",{type:"button",class:T(le.value.arrowRightBtn),disabled:P(Z),onClick:a[3]||(a[3]=(...e)=>P(L)&&P(L)(...e))},[K(e.$slots,"next-year",{},()=>[x(P(I),null,{default:$(()=>[x(P(He))]),_:1})])],10,$o),O("div",null,j(P(U)),1)],2),x(Fn,{"selection-mode":"range",date:s.value,"min-date":P(m),"max-date":P(f),"range-state":P(b),"disabled-date":P(d),disabled:P(Z),"cell-class-name":P(c),onChangerange:P(k),onPick:ne,onSelect:P(_)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-year-range.vue"]]);h.extend(Vl),h.extend(At),h.extend(lt),h.extend(Ht),h.extend(Xt),h.extend(Jt),h.extend(tn),h.extend(sn);const Io=de(y({name:"ElDatePickerPanel",install:null,inheritAttrs:!1,props:rn,emits:[fa,"calendar-change","panel-change","visible-change","clear"],setup(e,{slots:a,emit:l,attrs:t}){const n=k("picker-panel"),o=w(nt,void 0);if(q(o)){const a=ne(r({},We(e)));ue(nt,{props:a})}ue(un,{slots:a,pickerNs:n});const{parsedValue:s,onCalendarChange:i,onPanelChange:u,onSetPickerOption:d,onPick:c}=w(st,()=>dt(e,l),!0);return()=>{const n=function(e){switch(e){case"daterange":case"datetimerange":return ho;case"monthrange":return Do;case"yearrange":return To;default:return Zn}}(e.type);return x(n,Pe(ol(t,"onPick"),e,{parsedValue:s.value,"onSet-picker-option":d,"onCalendar-change":i,"onPanel-change":u,onClear:()=>l("clear"),onPick:c}),"function"==typeof(o=a)||"[object Object]"===Object.prototype.toString.call(o)&&!Ue(o)?a:{default:()=>[a]});var o}}}));const Ro=de(y({name:"ElDatePicker",install:null,props:G(i(r({},pt),{type:{type:Q(String),default:"date"}})),emits:[fa],setup(e,{expose:a,emit:l,slots:t}){const n=Y(()=>!e.format);ue(dn,n),ue(ot,ne(ze(e,"popperOptions")));const o=H();a({focus:()=>{var e;null==(e=o.value)||e.focus()},blur:()=>{var e;null==(e=o.value)||e.blur()},handleOpen:()=>{var e;null==(e=o.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=o.value)||e.handleClose()}});const s=e=>{l(fa,e)};return()=>{var a;const l=null!=(a=e.format)?a:ut[e.type]||it;return x(yt,Pe(e,{format:l,type:e.type,ref:o,"onUpdate:modelValue":s}),{default:a=>{return x(Io,Pe({disabled:e.disabled,editable:e.editable,border:!1},a),"function"==typeof(l=t)||"[object Object]"===Object.prototype.toString.call(l)&&!Ue(l)?t:{default:()=>[t]});var l},"range-separator":t["range-separator"]})}}})),Lo=G({modelValue:{type:Q(Array)},max:Number,tagType:i(r({},La.type),{default:"info"}),tagEffect:La.effect,trigger:{type:Q(String),default:ie.enter},draggable:Boolean,delimiter:{type:[String,RegExp],default:""},size:fe,clearable:Boolean,clearIcon:{type:me,default:pe},disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:Q(String),default:"off"},saveOnBlur:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},ariaLabel:String}),Eo={[fa]:e=>m(e)||q(e),[ma]:e=>m(e)||q(e),[ha]:e=>Ae(e),"add-tag":e=>Ae(e)||m(e),"remove-tag":(e,a)=>Ae(e)&&Ee(a),"drag-tag":(e,a,l)=>Ee(e)&&Ee(a)&&Ae(l),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function Yo({props:e,emit:a,formItem:l}){const t=ca(),n=va(),o=qe(),s=H(),r=H(),i=Y(()=>["small"].includes(n.value)?"small":"default"),u=Y(()=>{var a;return(null==(a=e.modelValue)?void 0:a.length)?void 0:e.placeholder}),d=Y(()=>!(e.readonly||t.value)),c=Y(()=>{var a,l;return!q(e.max)&&(null!=(l=null==(a=e.modelValue)?void 0:a.length)?l:0)>=e.max}),v=Y(()=>{var a;return e.collapseTags?null==(a=e.modelValue)?void 0:a.slice(0,e.maxCollapseTags):e.modelValue}),p=Y(()=>{var a;return e.collapseTags?null==(a=e.modelValue)?void 0:a.slice(e.maxCollapseTags):[]}),m=l=>{var t;const n=[...null!=(t=e.modelValue)?t:[],...Ra(l)];a(fa,n),a(ma,n),a("add-tag",l),s.value=void 0},f=l=>{if(c.value)s.value=void 0;else if(!k.value){if(e.delimiter&&s.value){const a=(a=>{var l,t;const n=a.split(e.delimiter).filter(e=>e&&e!==a);if(e.max){const a=e.max-(null!=(t=null==(l=e.modelValue)?void 0:l.length)?t:0);n.splice(a)}return 1===n.length?n[0]:n})(s.value);a.length&&m(a)}a(ha,l.target.value)}},h=()=>{var e;const a=null==(e=s.value)?void 0:e.trim();a&&!c.value&&m(a)},b=l=>{var t;const n=(null!=(t=e.modelValue)?t:[]).slice(),[o]=n.splice(l,1);a(fa,n),a(ma,n),a("remove-tag",o,l)},{wrapperRef:g,isFocused:y}=Oa(o,{disabled:t,beforeBlur(e){var a;return null==(a=r.value)?void 0:a.isFocusInsideContent(e)},afterBlur(){var a;e.saveOnBlur?h():s.value=void 0,e.validateEvent&&(null==(a=null==l?void 0:l.validate)||a.call(l,"blur").catch(e=>za()))}}),{isComposing:k,handleCompositionStart:w,handleCompositionUpdate:x,handleCompositionEnd:C}=Ta({afterComposition:f});return ae(()=>e.modelValue,()=>{var a;e.validateEvent&&(null==(a=null==l?void 0:l.validate)||a.call(l,ma).catch(e=>za()))}),{inputRef:o,wrapperRef:g,tagTooltipRef:r,isFocused:y,isComposing:k,inputValue:s,size:n,tagSize:i,placeholder:u,closable:d,disabled:t,inputLimit:c,showTagList:v,collapseTagList:p,handleDragged:(l,t,n)=>{var o;const s=(null!=(o=e.modelValue)?o:[]).slice(),[r]=s.splice(l,1),i=t>l&&"before"===n?-1:t<l&&"after"===n?1:0;s.splice(t+i,0,r),a(fa,s),a(ma,s),a("drag-tag",l,t+i,r)},handleInput:f,handleKeydown:a=>{var l;if(k.value)return;switch(re(a)){case e.trigger:a.preventDefault(),a.stopPropagation(),h();break;case ie.numpadEnter:e.trigger===ie.enter&&(a.preventDefault(),a.stopPropagation(),h());break;case ie.backspace:!s.value&&(null==(l=e.modelValue)?void 0:l.length)&&(a.preventDefault(),a.stopPropagation(),b(e.modelValue.length-1))}},handleKeyup:a=>{if(k.value||!Xe())return;if(re(a)===ie.space)e.trigger===ie.space&&(a.preventDefault(),a.stopPropagation(),h())},handleAddTag:h,handleRemoveTag:b,handleClear:()=>{s.value=void 0,a(fa,void 0),a(ma,void 0),a("clear")},handleCompositionStart:w,handleCompositionUpdate:x,handleCompositionEnd:C,focus:()=>{var e;null==(e=o.value)||e.focus()},blur:()=>{var e;null==(e=o.value)||e.blur()}}}function Ao({props:e,isFocused:a,hovering:l,disabled:t,inputValue:n,size:o,validateState:s,validateIcon:r,needStatusIcon:i}){const u=he(),d=ee(),c=k("input-tag"),v=k("input"),p=H(),m=H(),f=Y(()=>[c.b(),c.is("focused",a.value),c.is("hovering",l.value),c.is("disabled",t.value),c.m(o.value),c.e("wrapper"),u.class]),h=Y(()=>[u.style]),b=Y(()=>{var a,l;return[c.e("inner"),c.is("draggable",e.draggable),c.is("left-space",!(null==(a=e.modelValue)?void 0:a.length)&&!d.prefix),c.is("right-space",!(null==(l=e.modelValue)?void 0:l.length)&&!y.value)]}),g=Y(()=>{var o;return e.clearable&&!t.value&&!e.readonly&&((null==(o=e.modelValue)?void 0:o.length)||n.value)&&(a.value||l.value)}),y=Y(()=>d.suffix||g.value||s.value&&r.value&&i.value),w=ne({innerWidth:0,collapseItemWidth:0}),x=Y(()=>{if(!e.collapseTags)return{};const a=(()=>{if(!m.value)return 0;const e=window.getComputedStyle(m.value);return Number.parseFloat(e.gap||"6px")})(),l=a+Ua,t=p.value&&1===e.maxCollapseTags?w.innerWidth-w.collapseItemWidth-a-l:w.innerWidth-l;return{maxWidth:`${Math.max(t,0)}px`}});return ge(m,()=>{w.innerWidth=Number.parseFloat(window.getComputedStyle(m.value).width)}),ge(p,()=>{w.collapseItemWidth=p.value.getBoundingClientRect().width}),{ns:c,nsInput:v,containerKls:f,containerStyle:h,innerKls:b,showClear:g,showSuffix:y,tagStyle:x,collapseItemRef:p,innerRef:m}}const Fo=["id","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel"],zo=["textContent"];const jo=de(S(y(i(r({},{name:"ElInputTag",inheritAttrs:!1}),{__name:"input-tag",props:Lo,emits:Eo,setup(e,{expose:a,emit:l}){const t=e,n=l,o=Ia(),s=ee(),{form:r,formItem:i}=Aa(),{inputId:u}=Fa(t,{formItemContext:i}),d=Y(()=>{var e;return null!=(e=null==r?void 0:r.statusIcon)&&e}),c=Y(()=>(null==i?void 0:i.validateState)||""),v=Y(()=>c.value&&Qe[c.value]),{inputRef:p,wrapperRef:m,tagTooltipRef:f,isFocused:h,inputValue:b,size:g,tagSize:y,placeholder:w,closable:C,disabled:S,showTagList:B,collapseTagList:L,handleDragged:E,handleInput:A,handleKeydown:W,handleKeyup:U,handleRemoveTag:X,handleClear:Z,handleCompositionStart:G,handleCompositionUpdate:Q,handleCompositionEnd:ae,focus:le,blur:te}=Yo({props:t,emit:n,formItem:i}),{hovering:ne,handleMouseEnter:oe,handleMouseLeave:se}=function(){const e=H(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}(),{calculatorRef:re,inputStyle:ie}=qa(),{dropIndicatorRef:ue,showDropIndicator:de,handleDragStart:ce,handleDragOver:ve,handleDragEnd:pe}=function({wrapperRef:e,handleDragged:a,afterDragged:l}){const t=k("input-tag"),n=qe(),o=H(!1);let s,r,i,u;function d(e){return`.${t.e("inner")} .${t.namespace.value}-tag:nth-child(${e+1})`}return{dropIndicatorRef:n,showDropIndicator:o,handleDragStart:function(a,l){s=l,r=e.value.querySelector(d(l)),r&&(r.style.opacity="0.5"),a.dataTransfer.effectAllowed="move"},handleDragOver:function(a,l){if(i=l,a.preventDefault(),a.dataTransfer.dropEffect="move",q(s)||s===l)return void(o.value=!1);const r=e.value.querySelector(d(l)).getBoundingClientRect(),c=!(s+1===l),v=!(s-1===l),p=a.clientX-r.left,m=c?v?.5:1:-1,f=v?c?.5:0:1;u=p<=r.width*m?"before":p>r.width*f?"after":void 0;const h=e.value.querySelector(`.${t.e("inner")}`),b=h.getBoundingClientRect(),g=Number.parseFloat(Re(h,"gap"))/2,y=r.top-b.top;let k=-9999;if("before"===u)k=Math.max(r.left-b.left-g,Math.floor(-g/2));else if("after"===u){const e=r.right-b.left;k=e+(b.width===e?Math.floor(g/2):g)}Ze(n.value,{top:`${y}px`,left:`${k}px`}),o.value=!!u},handleDragEnd:function(e){e.preventDefault(),r&&(r.style.opacity=""),!u||q(s)||q(i)||s===i||a(s,i,u),o.value=!1,s=void 0,r=null,i=void 0,u=void 0,null==l||l()}}}({wrapperRef:m,handleDragged:E,afterDragged:le}),{ns:me,nsInput:fe,containerKls:he,containerStyle:be,innerKls:ge,showClear:xe,showSuffix:Se,tagStyle:De,collapseItemRef:Me,innerRef:_e}=Ao({props:t,hovering:ne,isFocused:h,inputValue:b,disabled:S,size:g,validateState:c,validateIcon:v,needStatusIcon:d});return a({focus:le,blur:te}),(e,a)=>(D(),V("div",{ref_key:"wrapperRef",ref:m,class:T(P(he)),style:we(P(be)),onMouseenter:a[8]||(a[8]=(...e)=>P(oe)&&P(oe)(...e)),onMouseleave:a[9]||(a[9]=(...e)=>P(se)&&P(se)(...e))},[P(s).prefix?(D(),V("div",{key:0,class:T(P(me).e("prefix"))},[K(e.$slots,"prefix")],2)):M("v-if",!0),O("div",{ref_key:"innerRef",ref:_e,class:T(P(ge))},[(D(!0),V(R,null,F(P(B),(l,t)=>(D(),_(P(Ea),{key:t,size:P(y),closable:P(C),type:e.tagType,effect:e.tagEffect,draggable:P(C)&&e.draggable,style:we(P(De)),"disable-transitions":"",onClose:e=>P(X)(t),onDragstart:e=>P(ce)(e,t),onDragover:e=>P(ve)(e,t),onDragend:P(pe),onDrop:a[0]||(a[0]=N(()=>{},["stop"]))},{default:$(()=>[K(e.$slots,"tag",{value:l,index:t},()=>[z(j(l),1)])]),_:2},1032,["size","closable","type","effect","draggable","style","onClose","onDragstart","onDragover","onDragend"]))),128)),e.collapseTags&&e.modelValue&&e.modelValue.length>e.maxCollapseTags?(D(),_(P(Sa),{key:0,ref_key:"tagTooltipRef",ref:f,disabled:!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.tagEffect,placement:"bottom"},{default:$(()=>[O("div",{ref_key:"collapseItemRef",ref:Me},[x(P(Ea),{closable:!1,size:P(y),type:e.tagType,effect:e.tagEffect,"disable-transitions":""},{default:$(()=>[z(" + "+j(e.modelValue.length-e.maxCollapseTags),1)]),_:1},8,["size","type","effect"])],512)]),content:$(()=>[O("div",{class:T(P(me).e("input-tag-list"))},[(D(!0),V(R,null,F(P(L),(a,l)=>(D(),_(P(Ea),{key:l,size:P(y),closable:P(C),type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:a=>P(X)(l+e.maxCollapseTags)},{default:$(()=>[K(e.$slots,"tag",{value:a,index:l+e.maxCollapseTags},()=>[z(j(a),1)])]),_:2},1032,["size","closable","type","effect","onClose"]))),128))],2)]),_:3},8,["disabled","effect"])):M("v-if",!0),O("div",{class:T(P(me).e("input-wrapper"))},[ye(O("input",Pe({id:P(u),ref_key:"inputRef",ref:p,"onUpdate:modelValue":a[1]||(a[1]=e=>Ge(b)?b.value=e:null)},P(o),{type:"text",minlength:e.minlength,maxlength:e.maxlength,disabled:P(S),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,placeholder:P(w),autofocus:e.autofocus,ariaLabel:e.ariaLabel,class:P(me).e("input"),style:P(ie),onCompositionstart:a[2]||(a[2]=(...e)=>P(G)&&P(G)(...e)),onCompositionupdate:a[3]||(a[3]=(...e)=>P(Q)&&P(Q)(...e)),onCompositionend:a[4]||(a[4]=(...e)=>P(ae)&&P(ae)(...e)),onInput:a[5]||(a[5]=(...e)=>P(A)&&P(A)(...e)),onKeydown:a[6]||(a[6]=(...e)=>P(W)&&P(W)(...e)),onKeyup:a[7]||(a[7]=(...e)=>P(U)&&P(U)(...e))}),null,16,Fo),[[Ve,P(b)]]),O("span",{ref_key:"calculatorRef",ref:re,"aria-hidden":"true",class:T(P(me).e("input-calculator")),textContent:j(P(b))},null,10,zo)],2),ye(O("div",{ref_key:"dropIndicatorRef",ref:ue,class:T(P(me).e("drop-indicator"))},null,2),[[ke,P(de)]])],2),P(Se)?(D(),V("div",{key:1,class:T(P(me).e("suffix"))},[K(e.$slots,"suffix"),P(xe)?(D(),_(P(I),{key:0,class:T([P(me).e("icon"),P(me).e("clear")]),onMousedown:N(P(J),["prevent"]),onClick:P(Z)},{default:$(()=>[(D(),_(Ce(e.clearIcon)))]),_:1},8,["class","onMousedown","onClick"])):M("v-if",!0),c.value&&v.value&&d.value?(D(),_(P(I),{key:1,class:T([P(fe).e("icon"),P(fe).e("validateIcon"),P(fe).is("loading","validating"===c.value)])},{default:$(()=>[(D(),_(Ce(v.value)))]),_:1},8,["class"])):M("v-if",!0)],2)):M("v-if",!0)],38))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-tag/src/input-tag.vue"]])),Ko=G(r({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Q([Array,Object]),default:()=>aa(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Q([Array,Object]),default:()=>[Je,Je,Je]},voidIcon:{type:me,default:()=>ea},disabledVoidIcon:{type:me,default:()=>Je},disabled:{type:Boolean,default:void 0},allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Q(Array),default:()=>aa(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:fe,clearable:Boolean},_a(["ariaLabel"]))),Ho={[ma]:e=>Ee(e),[fa]:e=>Ee(e)},Wo=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Uo=["onMousemove","onClick"],qo=y(i(r({},{name:"ElRate"}),{__name:"rate",props:Ko,emits:Ho,setup(e,{expose:a,emit:l}){function t(e,a){const l=e=>la(e),t=Object.keys(a).map(e=>+e).filter(t=>{const n=a[t];return!!l(n)&&n.excluded?e<t:e<=t}).sort((e,a)=>e-a),n=a[t[0]];return l(n)&&n.value||n}const n=e,o=l,s=w(pa,void 0),i=va(),u=k("rate"),{inputId:d,isLabeledByFormItem:c}=Fa(n,{formItemContext:s}),v=H(n.modelValue),p=H(-1),f=H(!0),h=H([]),b=Y(()=>h.value.map(e=>e.$el.clientWidth)),g=Y(()=>[u.b(),u.m(i.value)]),y=ca(),C=Y(()=>u.cssVarBlock({"void-color":n.voidColor,"disabled-void-color":n.disabledVoidColor,"fill-color":B.value})),S=Y(()=>{let e="";return n.showScore?e=n.scoreTemplate.replace(/\{\s*value\s*\}/,y.value?`${n.modelValue}`:`${v.value}`):n.showText&&(e=n.texts[Math.ceil(v.value)-1]),e}),N=Y(()=>100*n.modelValue-100*Math.floor(n.modelValue)),O=Y(()=>m(n.colors)?{[n.lowThreshold]:n.colors[0],[n.highThreshold]:{value:n.colors[1],excluded:!0},[n.max]:n.colors[2]}:n.colors),B=Y(()=>{const e=t(v.value,O.value);return la(e)?"":e}),L=Y(()=>{let e="";return y.value?e=`${N.value}%`:n.allowHalf&&(e="50%"),{color:B.value,width:e}}),E=Y(()=>{let e=m(n.icons)?[...n.icons]:r({},n.icons);return e=ta(e),m(e)?{[n.lowThreshold]:e[0],[n.highThreshold]:{value:e[1],excluded:!0},[n.max]:e[2]}:e}),A=Y(()=>t(n.modelValue,E.value)),z=Y(()=>y.value?Ae(n.disabledVoidIcon)?n.disabledVoidIcon:ta(n.disabledVoidIcon):Ae(n.voidIcon)?n.voidIcon:ta(n.voidIcon)),K=Y(()=>t(v.value,E.value));function W(e){const a=y.value&&N.value>0&&e-1<n.modelValue&&e>n.modelValue,l=n.allowHalf&&f.value&&e-.5<=v.value&&e>v.value;return a||l}function U(e){n.clearable&&e===n.modelValue&&(e=0),o(fa,e),n.modelValue!==e&&o(ma,e)}function q(e){if(y.value)return;const a=re(e),l=n.allowHalf?.5:1;let t=v.value;switch(a){case ie.up:case ie.right:t+=l;break;case ie.left:case ie.down:t-=l}return t=Xa(t,0,n.max),t!==v.value?(e.stopPropagation(),e.preventDefault(),o(fa,t),o(ma,t),t):void 0}function X(e,a){y.value||(n.allowHalf&&a?(f.value=2*a.offsetX<=b.value[e-1],v.value=f.value?e-.5:e):v.value=e,p.value=e)}function Z(){y.value||(n.allowHalf&&(f.value=n.modelValue!==Math.floor(n.modelValue)),v.value=n.modelValue,p.value=-1)}return ae(()=>n.modelValue,e=>{v.value=e,f.value=n.modelValue!==Math.floor(n.modelValue)}),n.modelValue||o(fa,0),a({setCurrentValue:X,resetCurrentValue:Z}),(e,a)=>{var l;return D(),V("div",{id:P(d),class:T([g.value,P(u).is("disabled",P(y))]),role:"slider","aria-label":P(c)?void 0:e.ariaLabel||"rating","aria-labelledby":P(c)?null==(l=P(s))?void 0:l.labelId:void 0,"aria-valuenow":v.value,"aria-valuetext":S.value||void 0,"aria-valuemin":"0","aria-valuemax":e.max,tabindex:"0",style:we(C.value),onKeydown:q},[(D(!0),V(R,null,F(e.max,(e,a)=>(D(),V("span",{key:a,class:T(P(u).e("item")),onMousemove:a=>X(e,a),onMouseleave:Z,onClick:a=>{return l=e,void(y.value||(n.allowHalf&&f.value?U(v.value):U(l)));var l}},[x(P(I),{ref_for:!0,ref_key:"iconRefs",ref:h,class:T([P(u).e("icon"),{hover:p.value===e},P(u).is("active",e<=v.value),P(u).is("focus-visible",e===Math.ceil(v.value||1))])},{default:$(()=>[ye((D(),_(Ce(K.value),null,null,512)),[[ke,!W(e)&&e<=v.value]]),ye((D(),_(Ce(z.value),null,null,512)),[[ke,!W(e)&&e>v.value]]),ye((D(),_(Ce(z.value),{class:T([P(u).em("decimal","box")])},null,8,["class"])),[[ke,W(e)]]),ye(x(P(I),{style:we(L.value),class:T([P(u).e("icon"),P(u).e("decimal")])},{default:$(()=>[(D(),_(Ce(A.value)))]),_:1},8,["style","class"]),[[ke,W(e)]])]),_:2},1032,["class"])],42,Uo))),128)),e.showText||e.showScore?(D(),V("span",{key:0,class:T(P(u).e("text")),style:we({color:e.textColor})},j(S.value),7)):M("v-if",!0)],46,Wo)}}}));const Xo=de(S(qo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]])),Zo=Symbol("sliderContextKey"),Go=G(r({modelValue:{type:Q([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:fe,inputSize:fe,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Q(Function),default:void 0},disabled:{type:Boolean,default:void 0},range:Boolean,vertical:Boolean,height:String,rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Q(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ca,default:"top"},marks:{type:Q(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0}},_a(["ariaLabel"]))),Qo=e=>Ee(e)||m(e)&&e.every(Ee),Jo={[fa]:Qo,[ha]:Qo,[ma]:Qo},es=G({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ca,default:"top"}}),as={[fa]:e=>Ee(e)},ls=(e,a,l)=>{const{disabled:t,min:n,max:o,step:s,showTooltip:r,persistent:i,precision:d,sliderSize:c,formatTooltip:v,emitChange:p,resetSize:m,updateDragging:f}=w(Zo),{tooltip:h,tooltipVisible:b,formatValue:g,displayTooltip:y,hideTooltip:k}=((e,a,l)=>{const t=H(),n=H(!1),o=Y(()=>a.value instanceof Function),s=Y(()=>o.value&&a.value(e.modelValue)||e.modelValue),r=nl(()=>{l.value&&(n.value=!0)},50),i=nl(()=>{l.value&&(n.value=!1)},50);return{tooltip:t,tooltipVisible:n,formatValue:s,displayTooltip:r,hideTooltip:i}})(e,v,r),x=H(),C=Y(()=>(e.modelValue-n.value)/(o.value-n.value)*100+"%"),S=Y(()=>e.vertical?{bottom:C.value}:{left:C.value}),D=e=>{t.value||(e.preventDefault(),_(e),window.addEventListener("mousemove",N),window.addEventListener("touchmove",N),window.addEventListener("mouseup",P),window.addEventListener("touchend",P),window.addEventListener("contextmenu",P),x.value.focus())},V=e=>{t.value||(a.newPosition=Number.parseFloat(C.value)+e/(o.value-n.value)*100,$(a.newPosition),p())},M=e=>{let a,l;return e.type.startsWith("touch")?(l=e.touches[0].clientY,a=e.touches[0].clientX):(l=e.clientY,a=e.clientX),{clientX:a,clientY:l}},_=l=>{a.dragging=!0,a.isClick=!0;const{clientX:t,clientY:n}=M(l);e.vertical?a.startY=n:a.startX=t,a.startPosition=Number.parseFloat(C.value),a.newPosition=a.startPosition},N=l=>{if(a.dragging){let t;a.isClick=!1,y(),m();const{clientX:n,clientY:o}=M(l);e.vertical?(a.currentY=o,t=(a.startY-a.currentY)/c.value*100):(a.currentX=n,t=(a.currentX-a.startX)/c.value*100),a.newPosition=a.startPosition+t,$(a.newPosition)}},P=()=>{a.dragging&&(setTimeout(()=>{a.dragging=!1,a.hovering||k(),a.isClick||$(a.newPosition),p()},0),window.removeEventListener("mousemove",N),window.removeEventListener("touchmove",N),window.removeEventListener("mouseup",P),window.removeEventListener("touchend",P),window.removeEventListener("contextmenu",P))},$=t=>u(null,null,function*(){if(null===t||Number.isNaN(+t))return;t=Xa(t,0,100);const r=Math.floor((o.value-n.value)/s.value),i=r*s.value/(o.value-n.value)*100,u=i+(100-i)/2;let c;if(t<i){const e=i/r,a=Math.round(t/e);c=n.value+a*s.value}else c=t<u?n.value+r*s.value:o.value;c=Number.parseFloat(c.toFixed(d.value)),c!==e.modelValue&&l(fa,c),a.dragging||e.modelValue===a.oldValue||(a.oldValue=e.modelValue),yield oe(),a.dragging&&y(),h.value.updatePopper()});return ae(()=>a.dragging,e=>{f(e)}),na(x,"touchstart",D,{passive:!1}),{disabled:t,button:x,tooltip:h,tooltipVisible:b,showTooltip:r,persistent:i,wrapperStyle:S,formatValue:g,handleMouseEnter:()=>{a.hovering=!0,y()},handleMouseLeave:()=>{a.hovering=!1,a.dragging||k()},onButtonDown:D,onKeyDown:e=>{let a=!0;switch(re(e)){case ie.left:case ie.down:V(-s.value);break;case ie.right:case ie.up:V(s.value);break;case ie.home:t.value||($(0),p());break;case ie.end:t.value||($(100),p());break;case ie.pageDown:V(4*-s.value);break;case ie.pageUp:V(4*s.value);break;default:a=!1}a&&e.preventDefault()},setPosition:$}},ts=["tabindex"];var ns=S(y(i(r({},{name:"ElSliderButton"}),{__name:"button",props:es,emits:as,setup(e,{expose:a,emit:l}){const t=e,n=l,o=k("slider"),s=ne({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:t.modelValue}),r=Y(()=>!!c.value&&v.value),{disabled:i,button:u,tooltip:d,showTooltip:c,persistent:v,tooltipVisible:p,wrapperStyle:m,formatValue:f,handleMouseEnter:h,handleMouseLeave:b,onButtonDown:g,onKeyDown:y,setPosition:w}=ls(t,s,n),{hovering:C,dragging:S}=We(s);return a({onButtonDown:g,onKeyDown:y,setPosition:w,hovering:C,dragging:S}),(e,a)=>(D(),V("div",{ref_key:"button",ref:u,class:T([P(o).e("button-wrapper"),{hover:P(C),dragging:P(S)}]),style:we(P(m)),tabindex:P(i)?void 0:0,onMouseenter:a[0]||(a[0]=(...e)=>P(h)&&P(h)(...e)),onMouseleave:a[1]||(a[1]=(...e)=>P(b)&&P(b)(...e)),onMousedown:a[2]||(a[2]=(...e)=>P(g)&&P(g)(...e)),onFocus:a[3]||(a[3]=(...e)=>P(h)&&P(h)(...e)),onBlur:a[4]||(a[4]=(...e)=>P(b)&&P(b)(...e)),onKeydown:a[5]||(a[5]=(...e)=>P(y)&&P(y)(...e))},[x(P(Sa),{ref_key:"tooltip",ref:d,visible:P(p),placement:e.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!P(c),persistent:r.value},{content:$(()=>[O("span",null,j(P(f)),1)]),default:$(()=>[O("div",{class:T([P(o).e("button"),{hover:P(C),dragging:P(S)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,ts))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);var os=y({name:"ElSliderMarker",props:G({mark:{type:Q([String,Object]),default:void 0}}),setup(e){const a=k("slider"),l=Y(()=>Ae(e.mark)?e.mark:e.mark.label),t=Y(()=>Ae(e.mark)?void 0:e.mark.style);return()=>oa("div",{class:a.e("marks-text"),style:t.value},l.value)}});const ss=(e,a,l)=>{const{formItem:t}=Aa(),n=qe(),o=H(),s=H(),r={firstButton:o,secondButton:s},i=ca(),d=Y(()=>Math.min(a.firstValue,a.secondValue)),c=Y(()=>Math.max(a.firstValue,a.secondValue)),v=Y(()=>e.range?100*(c.value-d.value)/(e.max-e.min)+"%":100*(a.firstValue-e.min)/(e.max-e.min)+"%"),p=Y(()=>e.range?100*(d.value-e.min)/(e.max-e.min)+"%":"0%"),m=Y(()=>e.vertical?{height:e.height}:{}),f=Y(()=>e.vertical?{height:v.value,bottom:p.value}:{width:v.value,left:p.value}),h=()=>{if(n.value){const l=n.value.getBoundingClientRect();a.sliderSize=l[e.vertical?"height":"width"]}},b=l=>{const t=(l=>{const t=e.min+l*(e.max-e.min)/100;if(!e.range)return o;let n;return n=Math.abs(d.value-t)<Math.abs(c.value-t)?a.firstValue<a.secondValue?"firstButton":"secondButton":a.firstValue>a.secondValue?"firstButton":"secondButton",r[n]})(l);return t.value.setPosition(l),t},g=e=>{l(fa,e),l(ha,e)},y=()=>u(null,null,function*(){yield oe(),l(ma,e.range?[d.value,c.value]:e.modelValue)}),k=l=>{var t,o,s,r,u,d;if(i.value||a.dragging)return;h();let c=0;if(e.vertical){const e=null!=(s=null==(o=null==(t=l.touches)?void 0:t.item(0))?void 0:o.clientY)?s:l.clientY;c=(n.value.getBoundingClientRect().bottom-e)/a.sliderSize*100}else{c=((null!=(d=null==(u=null==(r=l.touches)?void 0:r.item(0))?void 0:u.clientX)?d:l.clientX)-n.value.getBoundingClientRect().left)/a.sliderSize*100}return c<0||c>100?void 0:b(c)};return{elFormItem:t,slider:n,firstButton:o,secondButton:s,sliderDisabled:i,minValue:d,maxValue:c,runwayStyle:m,barStyle:f,resetSize:h,setPosition:b,emitChange:y,onSliderWrapperPrevent:e=>{var a,l;((null==(a=r.firstButton.value)?void 0:a.dragging)||(null==(l=r.secondButton.value)?void 0:l.dragging))&&e.preventDefault()},onSliderClick:e=>{k(e)&&y()},onSliderDown:e=>u(null,null,function*(){const a=k(e);a&&(yield oe(),a.value.onButtonDown(e))}),onSliderMarkerDown:e=>{if(i.value||a.dragging)return;b(e)&&y()},setFirstValue:l=>{a.firstValue=null!=l?l:e.min,g(e.range?[d.value,c.value]:null!=l?l:e.min)},setSecondValue:l=>{a.secondValue=l,e.range&&g([d.value,c.value])}}},rs=["id","role","aria-label","aria-labelledby"],is={key:1},us=y(i(r({},{name:"ElSlider"}),{__name:"slider",props:Go,emits:Jo,setup(e,{expose:a,emit:l}){const t=e,n=l,o=k("slider"),{t:s}=A(),d=ne({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:c,slider:v,firstButton:p,secondButton:f,sliderDisabled:h,minValue:b,maxValue:g,runwayStyle:y,barStyle:w,resetSize:C,emitChange:S,onSliderWrapperPrevent:$,onSliderClick:B,onSliderDown:I,onSliderMarkerDown:L,setFirstValue:E,setSecondValue:z}=ss(t,d,n),{stops:j,getStopStyle:K}=((e,a,l,t)=>({stops:Y(()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const n=Math.ceil((e.max-e.min)/e.step),o=100*e.step/(e.max-e.min),s=Array.from({length:n-1}).map((e,a)=>(a+1)*o);return e.range?s.filter(a=>a<100*(l.value-e.min)/(e.max-e.min)||a>100*(t.value-e.min)/(e.max-e.min)):s.filter(l=>l>100*(a.firstValue-e.min)/(e.max-e.min))}),getStopStyle:a=>e.vertical?{bottom:`${a}%`}:{left:`${a}%`}}))(t,d,b,g),{inputId:W,isLabeledByFormItem:U}=Fa(t,{formItemContext:c}),q=va(),X=Y(()=>t.inputSize||q.value),Z=Y(()=>t.ariaLabel||s("el.slider.defaultLabel",{min:t.min,max:t.max})),G=Y(()=>t.range?t.rangeStartLabel||s("el.slider.defaultRangeStartLabel"):Z.value),Q=Y(()=>t.formatValueText?t.formatValueText(de.value):`${de.value}`),J=Y(()=>t.rangeEndLabel||s("el.slider.defaultRangeEndLabel")),ee=Y(()=>t.formatValueText?t.formatValueText(ce.value):`${ce.value}`),le=Y(()=>[o.b(),o.m(q.value),o.is("vertical",t.vertical),{[o.m("with-input")]:t.showInput}]),se=(e=>Y(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((e,a)=>e-a).filter(a=>a<=e.max&&a>=e.min).map(a=>({point:a,position:100*(a-e.min)/(e.max-e.min),mark:e.marks[a]})):[]))(t);((e,a,l,t,n,o)=>{const s=e=>{n(fa,e),n(ha,e)},r=()=>e.range?![l.value,t.value].every((e,l)=>e===a.oldValue[l]):e.modelValue!==a.oldValue,i=()=>{var l,t;e.min>e.max&&ja("Slider","min should not be greater than max.");const n=e.modelValue;e.range&&m(n)?n[1]<e.min?s([e.min,e.min]):n[0]>e.max?s([e.max,e.max]):n[0]<e.min?s([e.min,n[1]]):n[1]>e.max?s([n[0],e.max]):(a.firstValue=n[0],a.secondValue=n[1],r()&&(e.validateEvent&&(null==(l=null==o?void 0:o.validate)||l.call(o,"change").catch(e=>za())),a.oldValue=n.slice())):e.range||!Ee(n)||Number.isNaN(n)||(n<e.min?s(e.min):n>e.max?s(e.max):(a.firstValue=n,r()&&(e.validateEvent&&(null==(t=null==o?void 0:o.validate)||t.call(o,"change").catch(e=>za())),a.oldValue=n)))};i(),ae(()=>a.dragging,e=>{e||i()}),ae(()=>e.modelValue,(e,l)=>{a.dragging||m(e)&&m(l)&&e.every((e,a)=>e===l[a])&&a.firstValue===e[0]&&a.secondValue===e[1]||i()},{deep:!0}),ae(()=>[e.min,e.max],()=>{i()})})(t,d,b,g,n,c);const re=Y(()=>{const e=[t.min,t.max,t.step].map(e=>{const a=`${e}`.split(".")[1];return a?a.length:0});return Math.max.apply(null,e)}),{sliderWrapper:ie}=((e,a,l)=>{const t=H();return te(()=>u(null,null,function*(){e.range?(m(e.modelValue)?(a.firstValue=Math.max(e.min,e.modelValue[0]),a.secondValue=Math.min(e.max,e.modelValue[1])):(a.firstValue=e.min,a.secondValue=e.max),a.oldValue=[a.firstValue,a.secondValue]):(!Ee(e.modelValue)||Number.isNaN(e.modelValue)?a.firstValue=e.min:a.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),a.oldValue=a.firstValue),na(window,"resize",l),yield oe(),l()})),{sliderWrapper:t}})(t,d,C),{firstValue:de,secondValue:ce,sliderSize:ve}=We(d);return na(ie,"touchstart",$,{passive:!1}),na(ie,"touchmove",$,{passive:!1}),ue(Zo,i(r({},We(t)),{sliderSize:ve,disabled:h,precision:re,emitChange:S,resetSize:C,updateDragging:e=>{d.dragging=e}})),a({onSliderClick:B}),(e,a)=>{var l,t;return D(),V("div",{id:e.range?P(W):void 0,ref_key:"sliderWrapper",ref:ie,class:T(le.value),role:e.range?"group":void 0,"aria-label":e.range&&!P(U)?Z.value:void 0,"aria-labelledby":e.range&&P(U)?null==(l=P(c))?void 0:l.labelId:void 0},[O("div",{ref_key:"slider",ref:v,class:T([P(o).e("runway"),{"show-input":e.showInput&&!e.range},P(o).is("disabled",P(h))]),style:we(P(y)),onMousedown:a[0]||(a[0]=(...e)=>P(I)&&P(I)(...e)),onTouchstartPassive:a[1]||(a[1]=(...e)=>P(I)&&P(I)(...e))},[O("div",{class:T(P(o).e("bar")),style:we(P(w))},null,6),x(ns,{id:e.range?void 0:P(W),ref_key:"firstButton",ref:p,"model-value":P(de),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":e.range||!P(U)?G.value:void 0,"aria-labelledby":!e.range&&P(U)?null==(t=P(c))?void 0:t.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?P(ce):e.max,"aria-valuenow":P(de),"aria-valuetext":Q.value,"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":P(h),"onUpdate:modelValue":P(E)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),e.range?(D(),_(ns,{key:0,ref_key:"secondButton",ref:f,"model-value":P(ce),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":J.value,"aria-valuemin":P(de),"aria-valuemax":e.max,"aria-valuenow":P(ce),"aria-valuetext":ee.value,"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":P(h),"onUpdate:modelValue":P(z)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):M("v-if",!0),e.showStops?(D(),V("div",is,[(D(!0),V(R,null,F(P(j),(e,a)=>(D(),V("div",{key:a,class:T(P(o).e("stop")),style:we(P(K)(e))},null,6))),128))])):M("v-if",!0),P(se).length>0?(D(),V(R,{key:2},[O("div",null,[(D(!0),V(R,null,F(P(se),(e,a)=>(D(),V("div",{key:a,style:we(P(K)(e.position)),class:T([P(o).e("stop"),P(o).e("marks-stop")])},null,6))),128))]),O("div",{class:T(P(o).e("marks"))},[(D(!0),V(R,null,F(P(se),(e,a)=>(D(),_(P(os),{key:a,mark:e.mark,style:we(P(K)(e.position)),onMousedown:N(a=>P(L)(e.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):M("v-if",!0)],38),e.showInput&&!e.range?(D(),_(P(tl),{key:0,ref:"input","model-value":P(de),class:T(P(o).e("input")),step:e.step,disabled:P(h),controls:e.showInputControls,min:e.min,max:e.max,precision:re.value,size:X.value,"onUpdate:modelValue":P(E),onChange:P(S)},null,8,["model-value","class","step","disabled","controls","min","max","precision","size","onUpdate:modelValue","onChange"])):M("v-if",!0)],10,rs)}}}));const ds=de(S(us,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]])),cs=G(r({format:{type:String,default:"HH:mm"},modelValue:{type:Q(String)},disabled:{type:Boolean,default:void 0},editable:{type:Boolean,default:!0},effect:{type:Q(String),default:"light"},clearable:{type:Boolean,default:!0},size:fe,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:Q(String)},maxTime:{type:Q(String)},includeEndTime:Boolean,name:String,prefixIcon:{type:Q([String,Object]),default:()=>Te},clearIcon:{type:Q([String,Object]),default:()=>pe},popperClass:{type:String,default:""},popperStyle:{type:Q([String,Object])}},ve)),vs=e=>{const a=(e||"").split(":");if(a.length>=2){let l=Number.parseInt(a[0],10);const t=Number.parseInt(a[1],10),n=e.toUpperCase();return n.includes("AM")&&12===l?l=0:n.includes("PM")&&12!==l&&(l+=12),{hours:l,minutes:t}}return null},ps=(e,a)=>{const l=vs(e);if(!l)return-1;const t=vs(a);if(!t)return-1;const n=l.minutes+60*l.hours,o=t.minutes+60*t.hours;return n===o?0:n>o?1:-1},ms=e=>`${e}`.padStart(2,"0"),fs=e=>`${ms(e.hours)}:${ms(e.minutes)}`,hs=(e,a)=>{const l=vs(e);if(!l)return"";const t=vs(a);if(!t)return"";const n={hours:l.hours,minutes:l.minutes};return n.minutes+=t.minutes,n.hours+=t.hours,n.hours+=Math.floor(n.minutes/60),n.minutes=n.minutes%60,fs(n)};const bs=de(S(y(i(r({},{name:"ElTimeSelect"}),{__name:"time-select",props:cs,emits:[ma,"blur","focus","clear",fa],setup(e,{expose:a}){h.extend(lt);const{Option:l}=Za,t=e,n=k("input"),o=H(),s=ca(),{lang:r}=A(),i=Y(()=>t.modelValue),u=Y(()=>{const e=vs(t.start);return e?fs(e):null}),d=Y(()=>{const e=vs(t.end);return e?fs(e):null}),c=Y(()=>{const e=vs(t.step);return e?fs(e):null}),v=Y(()=>{const e=vs(t.minTime||"");return e?fs(e):null}),p=Y(()=>{const e=vs(t.maxTime||"");return e?fs(e):null}),m=Y(()=>{var e;const a=[],l=(e,l)=>{a.push({value:e,disabled:ps(l,v.value||"-1:-1")<=0||ps(l,p.value||"100:100")>=0})};if(t.start&&t.end&&t.step){let n,o=u.value;for(;o&&d.value&&ps(o,d.value)<=0;)n=h(o,"HH:mm").locale(r.value).format(t.format),l(n,o),o=hs(o,c.value);if(t.includeEndTime&&d.value&&(null==(e=a[a.length-1])?void 0:e.value)!==d.value){l(h(d.value,"HH:mm").locale(r.value).format(t.format),d.value)}}return a});return a({blur:()=>{var e,a;null==(a=null==(e=o.value)?void 0:e.blur)||a.call(e)},focus:()=>{var e,a;null==(a=null==(e=o.value)?void 0:e.focus)||a.call(e)}}),(e,a)=>(D(),_(P(Za),{ref_key:"select",ref:o,"model-value":i.value,disabled:P(s),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"empty-values":e.emptyValues,"value-on-clear":e.valueOnClear,"popper-class":e.popperClass,"popper-style":e.popperStyle,"onUpdate:modelValue":a[0]||(a[0]=a=>e.$emit(P(fa),a)),onChange:a[1]||(a[1]=a=>e.$emit(P(ma),a)),onBlur:a[2]||(a[2]=a=>e.$emit("blur",a)),onFocus:a[3]||(a[3]=a=>e.$emit("focus",a)),onClear:a[4]||(a[4]=()=>e.$emit("clear"))},{prefix:$(()=>[e.prefixIcon?(D(),_(P(I),{key:0,class:T(P(n).e("prefix-icon"))},{default:$(()=>[(D(),_(Ce(e.prefixIcon)))]),_:1},8,["class"])):M("v-if",!0)]),default:$(()=>[(D(!0),V(R,null,F(m.value,e=>(D(),_(P(l),{key:e.value,label:e.value,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","popper-class","popper-style"]))}})),[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]])),gs=y({extends:Ga,setup(e,a){const l=Ga.setup(e,a);delete l.selectOptionClick;const t=W().proxy;return oe(()=>{l.select.states.cachedOptions.get(t.value)||l.select.onOptionCreate(t)}),ae(()=>a.attrs.visible,e=>{oe(()=>{l.states.visible=e})},{immediate:!0}),l},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function ys(e){return e||0===e}function ks(e){return m(e)&&e.length}function ws(e){return m(e)?e:ys(e)?[e]:[]}function xs(e,a,l,t,n){for(let o=0;o<e.length;o++){const s=e[o];if(a(s,o,e,n))return t?t(s,o,e,n):s;{const e=l(s);if(ks(e)){const n=xs(e,a,l,t,s);if(n)return n}}}}function Cs(e,a,l,t){for(let n=0;n<e.length;n++){const o=e[n];a(o,n,e,t);const s=l(o);ks(s)&&Cs(s,a,l,o)}}var Ss=y({props:{data:{type:Array,default:()=>[]}},setup(e){const a=w(Ja);return ae(()=>e.data,()=>{var l;e.data.forEach(e=>{a.states.cachedOptions.has(e.value)||a.states.cachedOptions.set(e.value,e)});const t=(null==(l=a.selectRef)?void 0:l.querySelectorAll("input"))||[];se&&!Array.from(t).includes(document.activeElement)&&a.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Ds=y({name:"ElTreeSelect",inheritAttrs:!1,props:i(r(r({},el),rl),{cacheData:{type:Array,default:()=>[]}}),setup(e,a){const{slots:l,expose:s}=a,d=H(),c=H(),v=Y(()=>e.nodeKey||e.valueKey||"value"),p=((e,{attrs:a,emit:l},{select:t,tree:n,key:o})=>{const s=k("tree-select");ae(()=>e.data,()=>{e.filterable&&oe(()=>{var e,a;null==(a=n.value)||a.filter(null==(e=t.value)?void 0:e.states.inputValue)})},{flush:"post"});const d=e=>{var a;const l=e.at(-1);if(!l.expanded||!l.childNodes.at(-1)){const l=null==(a=n.value.el$)?void 0:a.querySelector(`[data-key="${e.at(-1).key}"]`);return void(null==l||l.focus({preventScroll:!0}))}d([l.childNodes.at(-1)])};return te(()=>{na(()=>{var e;return null==(e=t.value)?void 0:e.$el},"keydown",e=>u(null,null,function*(){const a=re(e),{dropdownMenuVisible:l}=t.value;[ie.down,ie.up].includes(a)&&l&&(yield oe(),setTimeout(()=>{var e,l,o;if(ie.up===a){const e=n.value.store.root.childNodes;return void d(e)}null==(o=null==(l=null==(e=t.value.optionsArray[t.value.states.hoveringIndex].$el)?void 0:e.parentNode)?void 0:l.parentNode)||o.focus({preventScroll:!0})}))}),{capture:!0})}),i(r(r({},Pa(We(e),Object.keys(Za.props))),a),{class:Y(()=>a.class),style:Y(()=>a.style),"onUpdate:modelValue":e=>l(fa,e),valueKey:o,popperClass:Y(()=>{const a=[s.e("popper")];return e.popperClass&&a.push(e.popperClass),a.join(" ")}),filterMethod:(a="")=>{var l;e.filterMethod?e.filterMethod(a):e.remoteMethod?e.remoteMethod(a):null==(l=n.value)||l.filter(a)}})})(e,a,{select:d,tree:c,key:v}),m=((e,{attrs:a,slots:l,emit:t},{select:n,tree:o,key:s})=>{ae([()=>e.modelValue,o],()=>{e.showCheckbox&&oe(()=>{const a=o.value;a&&!Z(a.getCheckedKeys(),ws(e.modelValue))&&a.setCheckedKeys(ws(e.modelValue))})},{immediate:!0,deep:!0});const u=Y(()=>r({value:s.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf"},e.props)),d=(e,a)=>{var l;const t=u.value[e];return U(t)?t(a,null==(l=o.value)?void 0:l.getNode(d("value",a))):a[t]},c=ws(e.modelValue).map(a=>xs(e.data||[],e=>d("value",e)===a,e=>d("children",e),(e,a,l,t)=>t&&d("value",t))).filter(e=>ys(e)),v=Y(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const a=[];return Cs(e.data.concat(e.cacheData),e=>{const l=d("value",e);a.push({value:l,currentLabel:d("label",e),isDisabled:d("disabled",e)})},e=>d("children",e)),a}),p=()=>{var e;return null==(e=o.value)?void 0:e.getCheckedKeys().filter(e=>{var a;const l=null==(a=o.value)?void 0:a.getNode(e);return!sa(l)&&f(l.childNodes)})};return i(r(r({},Pa(We(e),Object.keys(sl.props))),a),{nodeKey:s,expandOnClickNode:Y(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:Y(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(c):c),renderContent:(a,{node:t,data:n,store:o})=>a(gs,{value:d("value",n),label:d("label",n),disabled:d("disabled",n),visible:t.visible},e.renderContent?()=>e.renderContent(a,{node:t,data:n,store:o}):l.default?()=>l.default({node:t,data:n,store:o}):void 0),filterNodeMethod:(a,l,t)=>e.filterNodeMethod?e.filterNodeMethod(a,l,t):!a||new RegExp(Qa(a),"i").test(d("label",l)||""),onNodeClick:(l,t,o)=>{var s,r,i;if(null==(s=a.onNodeClick)||s.call(a,l,t,o),!e.showCheckbox||!e.checkOnClickNode)if(e.showCheckbox||!e.checkStrictly&&!t.isLeaf)e.expandOnClickNode&&o.proxy.handleExpandIconClick();else if(!d("disabled",l)){const e=null==(r=n.value)?void 0:r.states.options.get(d("value",l));null==(i=n.value)||i.handleOptionSelect(e)}},onCheck:(l,s)=>{var r;if(!e.showCheckbox)return;const i=d("value",l),u={};Cs([o.value.store.root],e=>u[e.key]=e,e=>e.childNodes);const c=s.checkedKeys,v=e.multiple?ws(e.modelValue).filter(e=>!(e in u)&&!c.includes(e)):[],m=v.concat(c);if(e.checkStrictly)t(fa,e.multiple?m:m.includes(i)?i:void 0);else if(e.multiple){const e=p();t(fa,v.concat(e))}else{const a=xs([l],e=>!ks(d("children",e))&&!d("disabled",e),e=>d("children",e)),n=a?d("value",a):void 0,o=ys(e.modelValue)&&!!xs([l],a=>d("value",a)===e.modelValue,e=>d("children",e));t(fa,n===e.modelValue||o?void 0:n)}oe(()=>{var t;const n=ws(e.modelValue);o.value.setCheckedKeys(n),null==(t=a.onCheck)||t.call(a,l,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}),null==(r=n.value)||r.focus()},onNodeExpand:(l,n,s)=>{var r;null==(r=a.onNodeExpand)||r.call(a,l,n,s),oe(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&n.checked){const a={},l=o.value.getCheckedKeys();Cs([o.value.store.root],e=>a[e.key]=e,e=>e.childNodes);const n=ws(e.modelValue).filter(e=>!(e in a)&&!l.includes(e)),s=p();t(fa,n.concat(s))}})},cacheOptions:v})})(e,a,{select:d,tree:c,key:v}),{cacheOptions:h}=m,b=((e,a)=>{var l={};for(var s in e)n.call(e,s)&&a.indexOf(s)<0&&(l[s]=e[s]);if(null!=e&&t)for(var s of t(e))a.indexOf(s)<0&&o.call(e,s)&&(l[s]=e[s]);return l})(m,["cacheOptions"]),g=ne({});return s(g),te(()=>{Object.assign(g,i(r(r({},Pa(c.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"])),Pa(d.value,["focus","blur","selectedLabel"])),{treeRef:c.value,selectRef:d.value}))}),()=>oa(Za,ne(i(r({},p),{ref:e=>d.value=e})),i(r({},l),{default:()=>[oa(Ss,{data:h.value}),oa(sl,ne(i(r({},b),{ref:e=>c.value=e})))]}))}});const Vs=de(S(Ds,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]])),Ms={xs:{threshold:12,fallback:24},sm:{threshold:12,fallback:12},md:{threshold:8,fallback:8},lg:null,xl:null};function _s(e,a,l){const t=null!=e?e:a,n=Ms[l];return n?t>=n.threshold?t:n.fallback:t}export{Vs as E,bs as a,Rt as b,_s as c,Ql as d,ds as e,Xo as f,Ro as g,jo as h};
