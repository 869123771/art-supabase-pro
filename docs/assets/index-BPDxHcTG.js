import{bj as e,d as o,W as t,k as s,r as n,a3 as a,a9 as u,ab as d,G as c,w as r,cp as l,$ as i,Z as m,cn as p,p as y,a0 as v}from"./index-DocD4lg6.js";import{P as f,g as b}from"./vnode-CSsEsc6D.js";import{t as k}from"./error-D_Dr4eZ1.js";const x=o=>{if(!o)return{onClick:e,onMousedown:e,onMouseup:e};let t=!1,s=!1;return{onClick:e=>{t&&s&&o(e),t=s=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{s=e.target===e.currentTarget}}},M=u({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:d([String,Array,Object])},zIndex:{type:d([String,Number])}});const g=o({name:"ElOverlay",props:M,emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:o,emit:u}){const d=t("overlay"),{onClick:c,onMousedown:r,onMouseup:l}=x(e.customMaskEvent?void 0:e=>{u("click",e)});return()=>e.mask?s("div",{class:[d.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:r,onMouseup:l},[n(o,"default")],f.STYLE|f.CLASS|f.PROPS,["onClick","onMouseup","onMousedown"]):a("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[n(o,"default")])}}),w=(e,o={})=>{c(e)||k("[useLockscreen]","You need to pass a ref param to this function");const s=o.ns||t("popup"),n=y(()=>s.bm("parent","hidden"));let a=0,u=!1,d="0",f=!1;const x=()=>{f||(f=!0,setTimeout(()=>{"undefined"!=typeof document&&u&&document&&(document.body.style.width=d,v(document.body,n.value))},200))};r(e,e=>{if(!e)return void x();f=!1,u=!i(document.body,n.value),u&&(d=document.body.style.width,m(document.body,n.value)),a=b(s.namespace.value);const o=document.documentElement.clientHeight<document.body.scrollHeight,t=p(document.body,"overflowY");a>0&&(o||"scroll"===t)&&u&&(document.body.style.width=`calc(100% - ${a}px)`)}),l(()=>x())};export{g as E,x as a,w as u};
