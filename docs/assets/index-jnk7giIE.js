import{o as e,T as t,a as n,m as o,b7 as s}from"./index-DocD4lg6.js";const a=(a,u,i,l)=>{const m={offsetX:0,offsetY:0},v=o(!1),f=(e,t)=>{if(a.value){const{offsetX:n,offsetY:o}=m,u=a.value.getBoundingClientRect(),i=u.left,v=u.top,f=u.width,d=u.height,r=document.documentElement.clientWidth,c=document.documentElement.clientHeight,E=-i+n,h=-v+o,L=r-i-f+n,X=c-v-(d<c?d:0)+o;(null==l?void 0:l.value)||(e=Math.min(Math.max(e,E),L),t=Math.min(Math.max(t,h),X)),m.offsetX=e,m.offsetY=t,a.value.style.transform=`translate(${s(e)}, ${s(t)})`}},d=e=>{const t=e.clientX,n=e.clientY,{offsetX:o,offsetY:s}=m,a=e=>{v.value||(v.value=!0);const a=o+e.clientX-t,u=s+e.clientY-n;f(a,u)},u=()=>{v.value=!1,document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",u)},r=()=>{u.value&&a.value&&(u.value.removeEventListener("mousedown",d),window.removeEventListener("resize",c))},c=()=>{const{offsetX:e,offsetY:t}=m;f(e,t)};return e(()=>{t(()=>{i.value?u.value&&a.value&&(u.value.addEventListener("mousedown",d),window.addEventListener("resize",c)):r()})}),n(()=>{r()}),{isDragging:v,resetPosition:()=>{m.offsetX=0,m.offsetY=0,a.value&&(a.value.style.transform="")},updatePosition:c}};export{a as u};
