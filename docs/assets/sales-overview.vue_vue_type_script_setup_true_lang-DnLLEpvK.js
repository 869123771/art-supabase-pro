var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,i=(e,a)=>{for(var t in a||(a={}))l.call(a,t)&&s(e,t,a[t]);if(o)for(var t of o(a))r.call(a,t)&&s(e,t,a[t]);return e},n=(e,o)=>a(e,t(o));import{d,a as u,c,aV as h,w as y,o as p,b as m,H as f,aT as v,e as g,f as b,g as x,n as w,aU as A,aY as L,h as S,p as O,l as D}from"./index-BKps0qP8.js";import{u as j,a as B}from"./useChart-30RuRKXf.js";const T=d(n(i({},{name:"ArtLineChart"}),{__name:"index",props:{data:{default:()=>[0,0,0,0,0,0,0]},xAxisData:{default:()=>[]},lineWidth:{default:2.5},showAreaColor:{type:Boolean,default:!1},smooth:{type:Boolean,default:!0},symbol:{default:"none"},symbolSize:{default:6},animationDelay:{default:200},height:{default:j().chartHeight},loading:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},colors:{default:()=>j().colors},showAxisLabel:{type:Boolean,default:!0},showAxisLine:{type:Boolean,default:!0},showSplitLine:{type:Boolean,default:!0},showTooltip:{type:Boolean,default:!0},showLegend:{type:Boolean,default:!1},legendPosition:{default:"bottom"}},setup(e){const a=e,t=u(!1),o=u([]),l=u([]),r=()=>{o.value.forEach(e=>clearTimeout(e)),o.value=[]},s=c(()=>Array.isArray(a.data)&&a.data.length>0&&"object"==typeof a.data[0]&&"name"in a.data[0]),d=c(()=>{if(s.value){return a.data.reduce((e,a)=>{var t;if(null==(t=a.data)?void 0:t.length){const t=Math.max(...a.data);return Math.max(e,t)}return e},0)}{const e=a.data;return(null==e?void 0:e.length)?Math.max(...e):0}}),S=c(()=>h("--el-color-primary")),O=(e,t)=>e||(void 0!==t?a.colors[t%a.colors.length]:S.value),D=e=>{var t,o,l,r,s;return{name:e.name,data:e.data,type:"line",color:e.color,smooth:null!=(t=e.smooth)?t:a.smooth,symbol:null!=(o=e.symbol)?o:a.symbol,symbolSize:null!=(l=e.symbolSize)?l:a.symbolSize,lineStyle:{width:null!=(r=e.lineWidth)?r:a.lineWidth,color:e.color},areaStyle:e.areaStyle,emphasis:{focus:"series",lineStyle:{width:(null!=(s=e.lineWidth)?s:a.lineWidth)+1}}}},j=(e=!1)=>{const t={animation:!0,animationDuration:e?0:1300,animationDurationUpdate:e?0:1300,grid:H(a.showLegend&&s.value,a.legendPosition,{top:15,right:15,left:0}),tooltip:a.showTooltip?G():void 0,xAxis:{type:"category",boundaryGap:!1,data:a.xAxisData,axisTick:k(),axisLine:E(a.showAxisLine),axisLabel:_(a.showAxisLabel)},yAxis:{type:"value",min:0,max:d.value,axisLabel:_(a.showAxisLabel),axisLine:E(a.showAxisLine),splitLine:z(a.showSplitLine)}};if(a.showLegend&&s.value&&(t.legend=M(a.legendPosition)),s.value){const e=l.value;t.series=e.map((e,t)=>{const o=O(a.colors[t],t),l=((e,t)=>{if(!e.areaStyle&&!e.showAreaColor&&!a.showAreaColor)return;const o=e.areaStyle||{};return o.custom?o.custom:{color:new A.LinearGradient(0,0,0,1,[{offset:0,color:L(t,o.startOpacity||.2).rgba},{offset:1,color:L(t,o.endOpacity||.02).rgba}])}})(e,o);return D({name:e.name,data:e.data,color:o,smooth:e.smooth,symbol:e.symbol,lineWidth:e.lineWidth,areaStyle:l})})}else{const e=l.value,o=O(a.colors[0]),r=(()=>{if(!a.showAreaColor)return;const e=O(a.colors[0]);return{color:new A.LinearGradient(0,0,0,1,[{offset:0,color:L(e,.2).rgba},{offset:1,color:L(e,.02).rgba}])}})();t.series=[D({data:e,color:o,areaStyle:r})]}return t},T=e=>{W(e)},C=()=>{if(r(),t.value=!0,l.value=(()=>{if(s.value)return a.data.map(e=>n(i({},e),{data:Array(e.data.length).fill(0)}));const e=a.data;return Array(e.length).fill(0)})(),T(j(!0)),s.value){const e=a.data,r=l.value;e.forEach((e,t)=>{const s=window.setTimeout(()=>{r[t]=n(i({},e),{data:[...e.data]}),l.value=[...r],T(j(!1))},t*a.animationDelay+100);o.value.push(s)});const s=(e.length-1)*a.animationDelay+1500,d=window.setTimeout(()=>{t.value=!1},s);o.value.push(d)}else w(()=>{l.value=s.value?a.data.map(e=>n(i({},e),{data:[...e.data]})):[...a.data],T(j(!1)),t.value=!1})},{chartRef:P,initChart:W,getAxisLineStyle:E,getAxisLabelStyle:_,getAxisTickStyle:k,getSplitLineStyle:z,getTooltipStyle:G,getLegendStyle:M,getGridWithLegend:H,isEmpty:R}=B({props:a,checkEmpty:()=>{if(Array.isArray(a.data)&&"number"==typeof a.data[0]){const e=a.data;return!e.length||e.every(e=>0===e)}if(Array.isArray(a.data)&&"object"==typeof a.data[0]){const e=a.data;return!e.length||e.every(e=>{var a;return!(null==(a=e.data)?void 0:a.length)||e.data.every(e=>0===e)})}return!0},watchSources:[()=>a.data,()=>a.xAxisData,()=>a.colors],onVisible:()=>{R.value||C()},generateOptions:()=>j(!1)}),U=()=>{t.value||R.value||C()};return y([()=>a.data,()=>a.xAxisData,()=>a.colors],U,{deep:!0}),p(()=>{U()}),m(()=>{r()}),(e,t)=>{const o=v;return f((b(),g("div",{ref_key:"chartRef",ref:P,class:"relative w-[calc(100%+10px)]",style:x({height:a.height})},null,4)),[[o,a.loading]])}}})),C={class:"art-card h-105 p-5 mb-5 max-sm:mb-4"},P=d({__name:"sales-overview",setup(e){const a=[50,25,40,20,70,35,65,30,35,20,40,44],t=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"];return(e,o)=>{const l=T;return b(),g("div",C,[o[0]||(o[0]=S("div",{class:"art-card-header"},[S("div",{class:"title"},[S("h4",null,"访问量"),S("p",null,[D("今年增长"),S("span",{class:"text-success"},"+15%")])])],-1)),O(l,{height:"calc(100% - 56px)",data:a,xAxisData:t,showAreaColor:!0,showAxisLine:!1})])}}});export{P as _};
